(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{b56d:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-layout",{attrs:{view:"hhh LpR fFf"}},[s("q-header",{staticClass:"bg-primary text-white",attrs:{reveal:"",elevated:"","height-hint":"98"}},[e.special?s("q-toolbar",[s("q-toolbar-title",[s("div",{staticClass:"row items-center"},[s("q-btn",{attrs:{to:{name:"chef_index"},flat:"",round:"",dense:"",icon:"arrow_back_ios"}}),s("KitchenSelectElement",{attrs:{dark:"",borderless:""},model:{value:e.kitchen,callback:function(t){e.kitchen=t},expression:"kitchen"}})],1)]),s("ToolBarTime"),s("q-toolbar-title",{staticClass:"row"},[s("q-space"),s("KitchenTokenDisplayMode",{attrs:{dark:"",borderless:""},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}}),s("q-btn",{staticClass:"q-mx-sm self-center",attrs:{rounded:"",color:"white",icon:"undo","text-color":"red"},on:{click:function(t){e.reset=!0}}}),s("ManualSync")],1)],1):s("q-toolbar",[s("q-toolbar-title",[e.$store.state.back?s("q-btn",{attrs:{to:e.$store.state.back,flat:"",round:"",dense:"",icon:"arrow_back_ios"}}):e._e(),e._v("\n        "+e._s(e.$store.state.title||e.chef)+"\n      ")],1),s("ManualSync"),s("Logout")],1)],1),s("q-page-container",[s("router-view"),s("q-dialog",{attrs:{value:e.k_show,persistent:""}},[s("KitchenSelect",{staticStyle:{width:"75vw","max-width":"330px"}})],1)],1),s("q-footer",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.footer&&!e.special,expression:"$store.state.footer && !special"}],staticClass:"bg-primary text-white",attrs:{elevated:""}},[s("q-tabs",{attrs:{align:"left"}},[s("q-route-tab",{attrs:{to:{name:"chef_index"},label:"Home",icon:"home"}}),s("q-route-tab",{attrs:{to:{name:e.kitchens_route},label:"Kitchens",icon:"kitchen"}}),s("q-route-tab",{attrs:{to:{name:"tokens"},label:"Tokens",icon:"receipt"}})],1)],1)],1)},i=[],n=s("ed79"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-card",[s("q-card-section",{staticClass:"bg-grey-2 row items-center"},[s("div",{staticClass:"text-bold"},[e._v("Select Kitchen")]),s("q-space"),s("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.selected.length,expression:"selected.length"},{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-weight-bold",attrs:{round:"",icon:"clear",flat:"",color:"red-12"}})],1),s("q-list",{attrs:{separator:"",bordered:""}},e._l(e.kitchens,(function(t){return s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.hKey(t),attrs:{clickable:""},on:{click:function(s){e.selected=t}}},[s("q-item-section",{attrs:{avatar:""}},[s("q-avatar",[s("img",{attrs:{src:e.image(t.image)}})])],1),s("q-item-section",[s("q-item-label",[e._v(e._s(t.name))])],1),s("q-item-section",{attrs:{side:""}},[s("q-icon",{attrs:{size:"lg",name:"toggle_"+(e.is_selected(t)?"on":"off"),color:e.is_selected(t)?"positive":"grey"}})],1)],1)})),1)],1)},c=[],o=(s("ddb0"),s("ded3")),l=s.n(o),h=s("2f62"),u=s("b1c1"),d=(s("d503"),{name:"KitchenSelect",data(){return{}},computed:l()(l()({},Object(h["b"])("kitchens",{kitchens:"non_remote",assigned:"assign"})),{},{selected:{get(){return _.get(this.assigned,parseInt(_USER.id),[])},set({id:e}){this.$store.dispatch("kitchens/chef",{kitchen:e})}}}),methods:{is_selected({id:e}){return this.selected.includes(e)},hKey({id:e}){return Object(u["d"])("chef","kitchen","select",e)},image(e){return Object(u["g"])(e)}},created(){0===this.selected.length&&1===_.size(this.kitchens)&&(this.selected=_.first(_.values(this.kitchens)))}}),m=d,p=s("2877"),b=s("f09f"),k=s("a370"),g=s("2c91"),v=s("9c40"),f=s("1c1c"),w=s("66e5"),q=s("4074"),x=s("cb32"),$=s("0170"),Q=s("0016"),S=s("7f67"),T=s("714f"),y=s("eebe"),C=s.n(y),K=Object(p["a"])(m,r,c,!1,null,null,null),E=K.exports;C()(K,"components",{QCard:b["a"],QCardSection:k["a"],QSpace:g["a"],QBtn:v["a"],QList:f["a"],QItem:w["a"],QItemSection:q["a"],QAvatar:x["a"],QItemLabel:$["a"],QIcon:Q["a"]}),C()(K,"directives",{ClosePopup:S["a"],Ripple:T["a"]});var j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-select",e._b({attrs:{options:e.kitchens},model:{value:e.kitchen,callback:function(t){e.kitchen=t},expression:"kitchen"}},"q-select",e.$attrs,!1))},O=[],I={name:"KitchenSelectElement",props:["value"],computed:{kitchens(){return _(this.$store.getters["kitchens/assign"][_USER.id]).map((e=>_.get(this.$store.state.kitchens.data,e,null))).filter().map((({id:e,name:t})=>_.zipObject(["label","value"],[this.truncate(t),e]))).value()},kitchen:{get(){return this.value&&_.find(this.kitchens,["value",_.toInteger(this.value)])?_.find(this.kitchens,["value",_.toInteger(this.value)]):_.first(this.kitchens)},set({value:e}){this.$emit("input",_.toInteger(e))}}},methods:{truncate(e){return this.$q.screen.width<500?_.truncate(e,{length:10}):e}},mounted(){this.kitchen=_.cloneDeep(this.kitchen)}},D=I,L=s("ddd8"),R=Object(p["a"])(D,j,O,!1,null,null,null),B=R.exports;C()(R,"components",{QSelect:L["a"]});var M=s("3610"),N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-toolbar-title",{staticClass:"gt-xs text-center"},[s("span",{staticClass:"text-white text-subtitle2"},[e._v(e._s(e.time))])])},U=[],z={name:"ToolBarTime",props:["sec"],data(){return{time:F(this.sec)}},watch:{time:{immediate:!0,handler(){setTimeout((e=>e.time=F(e.sec)),1e3*(60-(void 0===this.sec?(new Date).getSeconds():59)),this)}}}};function F(e){return Object(u["v"])((new Date).getTime()+"","x",void 0!==e)}var H=z,J=s("6ac5"),P=Object(p["a"])(H,N,U,!1,null,null,null),A=P.exports;C()(P,"components",{QToolbarTitle:J["a"]});var G=s("9527"),V={name:"ChefLayout",components:{Logout:G["a"],ToolBarTime:A,KitchenTokenDisplayMode:M["a"],KitchenSelectElement:B,KitchenSelect:E,ManualSync:n["a"]},data(){return{chef:_USER.name,kitchens_route:"chef_kitchens",time:W()}},computed:{assigned(){return _.get(this.$store.getters["kitchens/assign"],parseInt(_USER.id),[])},k_show(){return!this.assigned.length&&this.$route.name!==this.kitchens_route},special(){return"tokens"===this.$route.name},kitchen:{get(){return _.get(this.$store.state,["public","kitchen"],null)},set(e){this.$store.commit("public",{kitchen:e})}},mode:{get(){return _.get(this.$store.state,["public","mode"],null)},set(e){this.$store.commit("public",{mode:e})}},reset:{get(){return!!_.get(this.$store.state,["public","reset"],!1)},set(e){this.$store.commit("public",{reset:!!e})}}}};function W(){return Object(u["v"])((new Date).getTime()+"","x")}var X=V,Y=s("4d5a"),Z=s("e359"),ee=s("65c6"),te=s("09e3"),se=s("24e8"),ae=s("7ff0"),ie=s("429b"),ne=s("7867"),re=Object(p["a"])(X,a,i,!1,null,null,null);t["default"]=re.exports,C()(re,"components",{QLayout:Y["a"],QHeader:Z["a"],QToolbar:ee["a"],QToolbarTitle:J["a"],QBtn:v["a"],QSpace:g["a"],QPageContainer:te["a"],QDialog:se["a"],QFooter:ae["a"],QTabs:ie["a"],QRouteTab:ne["a"]})}}]);