(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{f6e0:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{attrs:{padding:""}},[s("AdministratorMasterCommon",{attrs:{content:"kitchen",fields:e.fields,label:"name",filter:e.filter,validate:e.validate,items:e.kitchens,extra:{kitchen:e.current?e.current.id:null,removes:e.removes,updates:e.updates},create:"items",update:"items"},on:{current:function(t){e.current=t},response:e.response}},[s("KitchenItemsManage",{attrs:{kitchen:e.current?e.current.id:null},on:{removes:function(t){e.removes=t},updates:function(t){e.updates=t}}})],1)],1)},a=[],n=s("c22d"),o=s("2f62"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-card",[s("q-card-section",{staticClass:"bg-grey-1 text-weight-bold"},[e._v("Add/Edit Kitchen Items")]),e.kitchen?s("q-list",[s("q-item",{staticClass:"text-weight-bold"},[s("q-item-section",[s("q-item-label",[e._v("Item")])],1),s("q-item-section",[s("q-item-label",[e._v("Stock")])],1),s("q-item-section",[s("q-item-label",[e._v("Duration")])],1),s("q-item-section",[s("q-item-label",[e._v("Auto Process")])],1),s("q-item-section",[s("q-item-label",[e._v("Auto Complete")])],1),s("q-item-section",{attrs:{side:""}},[s("q-btn",{attrs:{size:"xs",icon:"blank",flat:"",color:"positive",padding:"xs"}})],1)],1),s("q-item",[s("q-item-section",[s("q-item-label",[s("ItemSelectDropDown",{attrs:{dense:"",outlined:"",get:"id","option-label":"name"},model:{value:e.params.item,callback:function(t){e.$set(e.params,"item",t)},expression:"params.item"}})],1)],1),s("q-item-section",[s("q-item-label",[s("q-input",{attrs:{dense:"",outlined:"",type:"number"},model:{value:e.params.stock,callback:function(t){e.$set(e.params,"stock",e._n(t))},expression:"params.stock"}})],1)],1),s("q-item-section",[s("q-item-label",[s("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"in seconds"},model:{value:e.params.duration,callback:function(t){e.$set(e.params,"duration",e._n(t))},expression:"params.duration"}})],1)],1),s("q-item-section",[s("q-item-label",[s("q-select",{attrs:{dense:"",outlined:"",options:["No","Yes"]},model:{value:e.params.auto_process,callback:function(t){e.$set(e.params,"auto_process",t)},expression:"params.auto_process"}})],1)],1),s("q-item-section",[s("q-item-label",[s("q-select",{attrs:{dense:"",outlined:"",options:["No","Yes"]},model:{value:e.params.auto_complete,callback:function(t){e.$set(e.params,"auto_complete",t)},expression:"params.auto_complete"}})],1)],1),s("q-item-section",{attrs:{side:""}},[s("q-btn",{attrs:{size:"xs",icon:"add",color:"positive",padding:"xs"},on:{click:e.add}})],1)],1),s("transition-group",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in"}},[e._l(e.updates,(function(t,i,a){return s("q-item",{key:e.hKey(t,"u-row",a)},[s("q-item-section",[s("q-item-label",[e._v(e._s(e.itemName(t)))])],1),e._l(e.cols,(function(i){return s("q-item-section",{key:e.hKey(t,"col",i)},[s("q-item-label",[e._v(e._s(t[i]))])],1)})),s("q-item-section",{attrs:{side:""}},[s("q-btn",{attrs:{size:"xs",icon:"delete_forever",color:"negative",padding:"xs"},on:{click:function(s){return e.remove(t,!0)}}})],1)],2)})),e._l(e.items,(function(t,i){return e.removes.includes(t.item)?e._e():s("q-item",{key:e.hKey(t,"row",i)},[s("q-item-section",[s("q-item-label",[e._v(e._s(e.itemName(t)))])],1),e._l(e.cols,(function(i){return s("q-item-section",{key:e.hKey(t,"col",i)},[s("q-item-label",[e._v(e._s(t[i]))])],1)})),s("q-item-section",{attrs:{side:""}},[s("q-btn",{attrs:{size:"xs",icon:"delete_forever",color:"negative",padding:"xs"},on:{click:function(s){return e.remove(t)}}})],1)],2)}))],2)],1):e._e()],1)},m=[],c=s("b1c1"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-select",e._b({attrs:{options:e.options,value:e.optValue},on:{input:e.doEmit}},"q-select",e.$attrs,!1))},u=[],d=s("2071"),p={name:"ItemSelectDropDown",mixins:[d["a"]],computed:{options(){return _.map(this.$store.state.items.data)}}},h=p,q=s("2877"),v=s("ddd8"),b=s("eebe"),f=s.n(b),k=Object(q["a"])(h,l,u,!1,null,null,null),g=k.exports;f()(k,"components",{QSelect:v["a"]});const x={item:null,stock:0,duration:60,auto_process:"No",auto_complete:"No"};var $={name:"KitchenItemsManage",components:{ItemSelectDropDown:g},props:["kitchen"],data(){return{removes:[],updates:{},params:{},cols:["stock","duration","auto_process","auto_complete"]}},computed:{items(){return _.get(this.$store.state.kitchens.items,this.kitchen,[])}},methods:{hKey({item:e},t,s){return Object(c["b"])("kim","kitchen",this.kitchen,"item",e,t,s)},itemName({item:e}){return _.get(this.$store.state.items.data,[e,"name"])},resetParams(){_.forEach(x,((e,t)=>this.$set(this.params,t,e)))},add(){this.params.item&&(this.$set(this.updates,this.params.item,_.clone(this.params)),this.resetParams())},remove({item:e},t){this.removes.push(e),this.resetParams(),t&&delete this.updates[e]}},watch:{kitchen:{immediate:!0,handler(){this.resetParams(),this.updates={},this.removes=[]}},removes:{deep:!0,immediate:!0,handler(e){this.$emit("removes",e)}},updates:{deep:!0,immediate:!0,handler(e){this.$emit("updates",e)}}}},w=$,I=s("f09f"),y=s("a370"),Q=s("1c1c"),K=s("66e5"),S=s("4074"),A=s("0170"),C=s("9c40"),D=s("27f9"),N=Object(q["a"])(w,r,m,!1,null,null,null),P=N.exports;f()(N,"components",{QCard:I["a"],QCardSection:y["a"],QList:Q["a"],QItem:K["a"],QItemSection:S["a"],QItemLabel:A["a"],QBtn:C["a"],QInput:D["a"],QSelect:v["a"]});var E={name:"PageAdministratorMasterKitchenItems",components:{KitchenItemsManage:P,AdministratorMasterCommon:n["a"]},data(){return{fields:{},filter:[],validate:["kitchen"],current:null,removes:[],updates:[]}},computed:Object(o["d"])("kitchens",{kitchens:"data"}),methods:{response({removes:e}){this.current&&e&&_.isArray(e)&&e.length&&this.$store.commit("kitchens/items_remove",{kitchen:this.current.id,items:e},{root:!0})}}},M=E,O=s("9989"),j=Object(q["a"])(M,i,a,!1,null,null,null);t["default"]=j.exports,f()(j,"components",{QPage:O["a"]})}}]);