(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{c0cf:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{attrs:{padding:""}},[s("q-list",{attrs:{separator:""}},t._l(t.Tokens,(function(e,a){return s("q-item",{key:t.h_key("ao-o-",e.id),attrs:{clickable:""},on:{click:function(e){t.show=(t.selected=a,!0)}}},[s("q-item-section",{attrs:{avatar:""}},[s("q-avatar",{attrs:{rounded:"",size:"md","text-color":"white",color:t.color}},[t._v(t._s(e.id))])],1),s("ItemDetailStackLeft",{staticClass:"col-grow q-mt-sm",attrs:{color:t.color,label:e.date_human}},[t._v(t._s(e.customer?e.customer.name:""))]),s("q-item-section",[s("q-item-label",{staticClass:"text-grey",staticStyle:{"font-size":"0.70rem"},attrs:{lines:"2"}},[t._v(t._s(t.items(e)))])],1),s("q-item-section",{staticClass:"text-bold",class:"text-"+t.color,attrs:{side:""}},[t._v(t._s(t.amount(e).toFixed(2)))])],1)})),1),s("q-dialog",{attrs:{persistent:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t.Token?s("ArchiveTokenDetail",{staticStyle:{"min-width":"80vw"},attrs:{token:t.Token,color:t.color},on:{print:function(e){return t.print(t.Token)}}}):t._e()],1)],1)},o=[],n=(s("26e9"),s("5843")),i=s("18cd"),r=s("3758"),c=s("b1c1"),l={name:"PageArchiveSales",components:{ItemDetailStackLeft:n["a"],ArchiveTokenDetail:i["a"]},mixins:[r["a"]],data(){return{color:"purple",selected:null,show:!1}},computed:{Tokens(){return _(this.tokens_own).filter((({type:t})=>"Sale"===t)).sortBy((({date:t})=>Object(c["c"])(t).getTime())).reverse().value()},Token(){return null===this.selected?null:this.Tokens[this.selected]}},methods:{h_key:c["d"],items({items:t}){return _.truncate(_.map(t,(({item:{name:t}})=>_.truncate(t,{length:13,omission:".."}))).join(", "),{length:64,omission:" etc"})},amount({items:t}){return _.round(_(t).map((({price:t,quantity:e})=>t*e)).sum(),2)},print({id:t}){post("token","sales_print",{id:t})}}},m=l,u=s("2877"),d=s("9989"),p=s("1c1c"),h=s("66e5"),k=s("4074"),v=s("cb32"),w=s("0170"),b=s("24e8"),f=s("eebe"),g=s.n(f),q=Object(u["a"])(m,a,o,!1,null,null,null);e["default"]=q.exports,g()(q,"components",{QPage:d["a"],QList:p["a"],QItem:h["a"],QItemSection:k["a"],QAvatar:v["a"],QItemLabel:w["a"],QDialog:b["a"]})}}]);