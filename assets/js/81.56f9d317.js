(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[81],{ae47:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e._self._c;return t("q-page",{attrs:{padding:""}},[e.chef?t("ReportCard",{attrs:{title:"Chef Performance",head:e.head,index:"",table:e.table,center:["Tokens","Quantities","Accept","Start","Process","Complete"]}}):t("div",{staticClass:"text-center text-bold"},[e._v("Select A Chef")])],1)},a=[],n=(i("5319"),i("460a")),r=i("b1c1"),o=i("3758"),c=i("8808"),u={name:"PageReportChefPerformance",components:{ReportCard:n["a"]},mixins:[o["a"]],computed:{range(){return Object(r["A"])(this.$store.state.public.range)},chef(){return this.$store.state.public.user},head(){return _.zipObject(["Report","Chef","Date Range","Unit"],["Chef Performance",this.chef.name,Object(r["E"])("DD/MMM HH:mm",this.range.from)+" - "+Object(r["E"])("DD/MMM HH:mm",this.range.to),"Minutes"])},items(){return _(this.tokens).filter((({date:e,progress:t,items:i})=>"Cancelled"!==t&&Object(r["j"])(e,this.range.from,this.range.to)&&_.some(i,(({progress_timing:e})=>_.findIndex(e,["auth",this.chef.id])>-1||_.findIndex(e,["user",this.chef.id])>-1)))).flatMap("items").filter((({progress_timing:e})=>_.findIndex(e,["auth",this.chef.id])>-1||_.findIndex(e,["user",this.chef.id])>-1)).groupBy((({item:e,kitchen:t})=>e.name+"|"+t.name)).value()},table(){return _(this.items).map(((e,t)=>Object.assign({},{Item:t.split("|")[0],Kitchen:t.split("|")[1]},this.properties(e[0].item,e[0].kitchen),{Tokens:_.size(e),Quantities:_.sumBy(e,"quantity")},_(Object(c["i"])(this.timings(e),this.quantities(e))).mapKeys(((e,t)=>_.startCase(t))).mapValues((e=>_.round(e/60))).omit(["Serve"]).value()))).sortBy("Item").value()}},methods:{properties(e,t){let i={auto_accept:t.auto_accept,..._.find(this.$store.state.kitchens.items[t.id],["item",e.id])};return{Time:_.toInteger(_.get(i,"duration",0)/60),Auto:_(i).map(((e,t)=>"Yes"===e?_.startCase(t.replace("auto_","")):null)).filter().value().join(", ")}},timings(e){return _.map(e,"progress_timing")},quantities(e){return _.sumBy(e,"quantity")}}},m=u,h=i("2877"),p=i("9989"),l=i("eebe"),d=i.n(l),f=Object(h["a"])(m,s,a,!1,null,null,null);t["default"]=f.exports;d()(f,"components",{QPage:p["a"]})}}]);