(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[87],{"86b8":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-page",{attrs:{padding:""}},[t.group?r("ReportCard",{attrs:{title:"Group Items Order Summary",head:t.head,table:t.table,foot:t.foot,index:"",center:["Orders","Quantity"],right:"Amount"}}):r("div",{staticClass:"text-center"},[t._v("Select Group Item")])],1)},i=[],a=r("ded3"),n=r.n(a),o=r("460a"),u=r("b1c1"),m=r("58d1"),d=r("2f62"),h={name:"PageReportGroupItemsOrderSummary",components:{ReportCard:o["a"]},mixins:[m["a"]],computed:n()(n()({range(){return Object(u["z"])(this.$store.state.public.range)},group(){return this.$store.state.public.group}},Object(d["d"])({items:function(t){return _.map(_.get(this.group,"items",[]),(e=>_.get(t.items.data,e)))}})),{},{head(){return _.zipObject(["Group","Total Items","Start Date","End Date","Total Orders"],[_.get(this.group,"name"),_.size(_.get(this.group,"items",[])),Object(u["D"])("DD/MM/YYYY hh:mm A",this.range.from),Object(u["D"])("DD/MM/YYYY hh:mm A",this.range.to),this.range_tokens.length])},range_tokens(){return _.filter(this.tokens_own,(t=>Object(u["i"])(t.date,this.range.from,this.range.to)))},table(){return _(this.items).map((t=>_.zipObject(["Name","Orders","Quantity","Amount"],[t.name,this.orders(t.id),this.quantities(t.id),this.amount(t.id)]))).value()},foot(){return{Quantities:_.sumBy(this.table,"Quantity"),Amount:Object(u["y"])(_.sumBy(this.table,(({Amount:t})=>_.toNumber(t))),2)}},item_orders(){let t={};return _.forEach(this.range_tokens,(e=>_.forEach(e.items,(r=>{let s=_.get(r,["item","id"]);_.has(t,s)||(t[s]=[]),t[s].push(e)})))),t}}),methods:{orders(t){return _.size(_.get(this.item_orders,t))},quantities(t){return _.sumBy(_.get(this.item_orders,t),(e=>_.sumBy(e.items,(e=>_.get(e,["item","id"])===t?_.get(e,"quantity"):0))))},amount(t){return Object(u["y"])(_.sumBy(_.get(this.item_orders,t),(e=>_.sumBy(e.items,(e=>_.get(e,["item","id"])===t?_.get(e,"quantity")*_.get(e,"price"):0)))))}}},g=h,p=r("2877"),c=r("9989"),l=r("eebe"),b=r.n(l),y=Object(p["a"])(g,s,i,!1,null,null,null);e["default"]=y.exports;b()(y,"components",{QPage:c["a"]})}}]);