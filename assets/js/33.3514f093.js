(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{c0cf:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t._self._c;return e("q-page",[e("FilterInputText",{staticClass:"q-ma-md",on:{text:function(e){t.filter=e}}}),e("q-list",{attrs:{separator:""}},t._l(t.showing,(function(s,n){return e("q-item",{key:t.h_key("ao-o-",s.id),attrs:{clickable:""},on:{click:function(e){t.show=(t.selected=n,!0)}}},[e("q-item-section",{attrs:{avatar:""}},[e("q-badge",{staticClass:"q-pa-sm",staticStyle:{"font-size":"0.65rem"},attrs:{color:t.color,label:s.id}})],1),e("ItemDetailStackLeft",{staticClass:"col-grow q-mt-sm",attrs:{color:t.color,label:s.date_human}},[t._v(t._s(s.customer?s.customer.name:""))]),e("q-item-section",[e("q-item-label",{staticClass:"text-grey",staticStyle:{"font-size":"0.70rem"},attrs:{lines:"2"}},[t._v(t._s(t.items(s)))])],1),e("q-item-section",{staticClass:"text-bold",class:"text-"+t.color,attrs:{side:""}},[t._v(t._s(t.amount(s).toFixed(2)))])],1)})),1),e("q-dialog",{attrs:{persistent:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t.Token?e("ArchiveTokenDetail",{staticStyle:{"min-width":"80vw"},attrs:{token:t.Token,color:t.color},on:{print:function(e){return t.print(t.Token)},cancelled:function(e){t.show=!1}}}):t._e()],1),e("Pagination",{attrs:{records:t.Tokens,color:t.color},model:{value:t.showing,callback:function(e){t.showing=e},expression:"showing"}})],1)},o=[],a=(s("caad"),s("5843")),i=s("18cd"),l=s("3758"),r=s("b1c1"),c=s("5ab9"),u=s("1799"),m={name:"PageArchiveSales",components:{Pagination:u["a"],FilterInputText:c["a"],ItemDetailStackLeft:a["a"],ArchiveTokenDetail:i["a"]},mixins:[l["a"]],data(){return{color:"purple",selected:null,show:!1,filter:"",showing:null}},computed:{AllTokens(){return _(this.tokens_own).filter((({type:t})=>"Sale"===t)).map((t=>Object.assign({},t,{slug:d(t)}))).sortBy((({date:t})=>Object(r["d"])(t).getTime())).reverse().value()},Tokens(){return this.filter?_.filter(this.AllTokens,(({slug:t})=>_.includes(t,this.filter.toLowerCase()))):this.AllTokens},Token(){return null===this.selected?null:this.showing[this.selected]}},methods:{h_key:r["e"],items({items:t}){return _.truncate(_.map(t,(({item:{name:t}})=>_.truncate(t,{length:13,omission:".."}))).join(", "),{length:64,omission:" etc"})},amount({items:t}){return _.round(_(t).map((({price:t,quantity:e})=>t*e)).sum(),2)},print({id:t}){post("token","print",{id:t})}}};function d({id:t,customer:e,type:s}){return[t,_.get(e,"name"),s].join(" ").toLowerCase()}var h=m,p=s("2877"),k=s("9989"),g=s("1c1c"),w=s("66e5"),f=s("4074"),b=s("58a8"),v=s("0170"),T=s("24e8"),q=s("eebe"),x=s.n(q),y=Object(p["a"])(h,n,o,!1,null,null,null);e["default"]=y.exports;x()(y,"components",{QPage:k["a"],QList:g["a"],QItem:w["a"],QItemSection:f["a"],QBadge:b["a"],QItemLabel:v["a"],QDialog:T["a"]})}}]);