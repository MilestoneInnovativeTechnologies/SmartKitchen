(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{4632:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-layout",[s("q-page-container",[s("q-page",{staticClass:"flex-center flex",attrs:{padding:""}},[e.role?s("GetRoleUserLogin",{staticStyle:{width:"90vw","max-width":"65vh"},attrs:{role:e.role,loading:e.loading},on:{clear:function(t){e.role=""},user:function(t){e.user=t},login:e.login}}):s("RolesSelect",{staticClass:"q-mx-auto",staticStyle:{width:"90vw","max-width":"65vh"},on:{role:function(t){e.role=t}}}),s("form",{ref:"login_form",staticStyle:{position:"absolute"},attrs:{action:e.LOGIN,method:"post"}},[s("q-input",{attrs:{type:"hidden",name:"id",value:e.id}}),s("q-input",{attrs:{type:"hidden",name:"password",value:e.password}}),s("q-input",{attrs:{type:"hidden",name:e.select,value:e.selected}})],1)],1)],1)],1)},o=[],a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"q-gutter-y-xs"},e._l(e.roles,(function(t){return s("q-card",{key:"role-"+t,staticClass:"bg-primary q-mx-auto",staticStyle:{cursor:"pointer",width:"20rem"},attrs:{dark:""},on:{click:function(s){return e.$emit("role",t)}}},[s("q-card-section",{staticClass:"text-center"},[s("div",{staticClass:"text-h6"},[e._v(e._s(t))])])],1)})),1)},i=[],l=s("2f62"),r={name:"RolesSelect",computed:Object(l["b"])("users",["roles"])},c=r,u=s("2877"),d=s("f09f"),p=s("a370"),m=s("eebe"),h=s.n(m),g=Object(u["a"])(c,a,i,!1,null,null,null),f=g.exports;h()(g,"components",{QCard:d["a"],QCardSection:p["a"]});var w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-card",[s("q-card-section",{staticClass:"bg-primary"},[s("div",{staticClass:" text-white items-start"},[s("q-icon",{staticStyle:{"margin-top":"-0.2rem",cursor:"pointer"},attrs:{name:"arrow_back_ios",size:"xs"},on:{click:function(t){return e.$emit("clear")}}}),e._v("\n      Click on user to login\n    ")],1)]),s("q-card-section",[s("q-list",{attrs:{separator:"",bordered:""}},e._l(e.users,(function(t,n){return s("q-expansion-item",{key:"user-"+t.id,attrs:{group:"login"},on:{click:function(s){e.s_user=t}},scopedSlots:e._u([{key:"header",fn:function(){return[s("q-item-section",{attrs:{avatar:""}},[e._v(e._s(n+1))]),s("q-item-section",[s("q-item-label",[e._v(e._s(t.name))])],1)]},proxy:!0}],null,!0)},[s("q-item-section",{staticClass:"q-px-lg q-py-xs q-gutter-y-xs"},[s("q-input",{attrs:{type:"password",dense:"",name:"password",outlined:"",label:"Password"},on:{focus:function(s){e.s_user=t}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s(e.component,{tag:"component",on:{selected:e.selected}}),s("q-btn",{attrs:{label:"Login",color:"primary",loading:e.loading},on:{click:e.login}})],1)],1)})),1)],1)],1)},b=[],v=s("ded3"),q=s.n(v),x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-select",{attrs:{options:e.options,label:"Select Menu",dense:"",value:e.menu,"map-options":"",outlined:""},on:{input:e.emit}})},k=[],y={name:"LoginMenuSelect",data(){return{menu:null}},computed:{menus(){return this.$store.state.menus.data},options(){return _.map(this.menus,(({id:e,name:t})=>_.zipObject(["label","value"],[t,e])))}},methods:{emit({value:e}){this.$emit("selected",e),this.menu=e}}},S=y,L=s("ddd8"),Q=Object(u["a"])(S,x,k,!1,null,null,null),C=Q.exports;h()(Q,"components",{QSelect:L["a"]});var $=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-select",{attrs:{options:e.options,label:"Select Kitchen",dense:"",value:e.kitchen,"map-options":"",outlined:""},on:{input:e.emit}})},O=[],I={name:"LoginKitchenSelect",data(){return{kitchen:null}},computed:{kitchens(){return this.$store.state.kitchens.data},options(){return _.map(this.kitchens,(({id:e,name:t})=>_.zipObject(["label","value"],[t,e])))}},methods:{emit({value:e}){this.$emit("selected",e),this.kitchen=e}}},j=I,E=Object(u["a"])(j,$,O,!1,null,null,null),G=E.exports;h()(E,"components",{QSelect:L["a"]});var R={name:"GetRoleUserLogin",components:{LoginKitchenSelect:G,LoginMenuSelect:C},props:["role","loading"],data(){return{s_user:null,password:"password",s_selected:null,defaults:LoginSelect}},computed:q()(q()({},Object(l["b"])("users",["role_users"])),{},{users(){return this.role_users(this.role)},roleItem(){return _.has(this.defaults,this.role)?_.capitalize(this.defaults[this.role]):null},component(){return this.roleItem?`Login${this.roleItem}Select`:null}}),methods:{selected(e){this.s_selected=e},login(){if(this.password)return this.$emit("login",_.zipObject(["user","password",_.toLower(this.defaults[this.role])],[this.s_user,this.password,[this.s_selected]]))}}},z=R,K=s("0016"),M=s("1c1c"),N=s("3b73"),P=s("4074"),U=s("0170"),J=s("27f9"),B=s("9c40"),T=Object(u["a"])(z,w,b,!1,null,null,null),A=T.exports;h()(T,"components",{QCard:d["a"],QCardSection:p["a"],QIcon:K["a"],QList:M["a"],QExpansionItem:N["a"],QItemSection:P["a"],QItemLabel:U["a"],QInput:J["a"],QBtn:B["a"]});var D={name:"LoginLayout",components:{GetRoleUserLogin:A,RolesSelect:f},data(){return{role:"",user:null,loading:!1,LOGIN:LOGIN,id:"",password:"password",select:"",selected:[]}},methods:{login({user:{id:e},password:t,menu:s,kitchen:n}){if(this.loading=!0,!e||!t)return this.loading=!1;this.id=e,this.password=t,this.select=s?"menu":n?"kitchen":"",this.selected=s||n||[],this.loading=!1,this.$nextTick((()=>this.$refs["login_form"].submit()))}}},F=D,H=s("4d5a"),V=s("09e3"),W=s("9989"),X=Object(u["a"])(F,n,o,!1,null,null,null);t["default"]=X.exports,h()(X,"components",{QLayout:H["a"],QPageContainer:V["a"],QPage:W["a"],QInput:J["a"]})}}]);