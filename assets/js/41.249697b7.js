(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[41],{ef79:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{attrs:{padding:""}},[r("div",{staticClass:"q-px-md q-mb-sm"},[r("FilterInputText",{attrs:{label:"Filter",lazy:"true"},on:{text:function(t){e.filter=t}}})],1),r("q-list",e._l(e.FilteredTokens,(function(t){return r("TokenDetailDeliveryBoyExpansion",{key:"dbc-cm-tk-"+t.id,attrs:{token:t,group:"own",color:"purple",popup:"",label:e.label(t),caption:e.caption(t)},on:{action:e.OSA_action}})})),1),r("q-btn",{directives:[{name:"show",rawName:"v-show",value:!e.filter&&e.AllTokens.length>e.show,expression:"!filter && AllTokens.length > show"}],staticClass:"full-width q-mt-md",attrs:{label:"Show more",flat:"",dense:"",color:"amber"},on:{click:function(t){e.page++}}}),r("OrderSummaryActionPopups",e._b({on:{done:e.OSA_action_done}},"OrderSummaryActionPopups",e.OSA_CB,!1)),r("OrderNewFabDeliveryBoy")],1)},o=[],s=(r("26e9"),r("faa7")),l=r("b1c1"),i=r("bf22"),a=r("1cd8"),c=r("232e"),u=r("9416"),d=r("3758"),p=r("5ab9"),m=r("3c10"),h=r("c9df"),f=r("3f08"),b={name:"DeliveryBoyCompleted",components:{OrderSummaryActionPopups:h["a"],FilterInputText:p["a"],OrderNewFabDeliveryBoy:u["a"],DeliveryBoyPaymentCard:a["a"],BillGenerateCard:i["a"],TokenDetailDeliveryBoyExpansion:s["a"]},mixins:[d["a"],f["a"]],data(){return{me:parseInt(this.$route.meta.me.id),filter:"",page:1}},computed:{billed_tokens(){return this.$store.getters["tokens/billed"]},show(){return this.page*_.ceil((settings("items_per_page")||m["d"])/3)},AllTokens(){return _(this.tokens).filter((e=>"Home Delivery"===e.type&&"Cancelled"!==e.progress&&g(e)&&!_.includes(this.billed_tokens,e.id))).map((e=>e.customer?e:Object.assign({},e,{customer:c["NoCustomer"]}))).map((e=>Object.assign({},e,{slug:w(e)}))).sortBy("id").reverse().value()},FilteredTokens(){return this.filter?_.filter(this.AllTokens,(e=>_.includes(e.slug,_.toLower(this.filter)))):_.take(this.AllTokens,this.show)}},methods:{popup_width:l["y"],label(e){return`${e.id}, ${e.customer.name}`},caption(e){return y(_.get(e,["customer","address"],""))}}};function y(e){return(e||"").replaceAll(/\n/g,", ")}function g({items:e}){return e.length&&_.every(e,(({progress:e})=>_.includes(["Cancelled","Completed","Served"],e)))}function w({id:e,customer:t}){return _.toLower([e,t.name,t.phone,y(t.address)].join(" "))}var k=b,v=r("2877"),A=r("9989"),O=r("1c1c"),T=r("9c40"),B=r("eebe"),C=r.n(B),x=Object(v["a"])(k,n,o,!1,null,null,null);t["default"]=x.exports;C()(x,"components",{QPage:A["a"],QList:O["a"],QBtn:T["a"]})}}]);