(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[37],{e59f:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{attrs:{padding:""}},[i("Masonry",{attrs:{width:"400",items:t.kitchens},scopedSlots:t._u([{key:"item",fn:function(e){return[i("KitchenActionsView",{attrs:{id:e.id,me:t.me}})]}}])})],1)},s=[],a=i("ded3"),r=i.n(a),c=i("2f62"),o=i("b1c1"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-card",[i("q-card-section",{staticClass:"row justify-between q-pb-none"},[i("div",{staticClass:"text-h6"},[t._v(t._s(t.kitchen.name))]),i("q-icon",{staticClass:"cursor-pointer",attrs:{size:"lg",name:"toggle_"+(t.is_in?"on":"off"),color:t.is_in?"positive":"grey"},on:{click:function(e){return t.toggle(t.kitchen)}}})],1),i("q-card-section",{attrs:{horizontal:""}},[i("CardImageTitle",{staticClass:"col",attrs:{image:t.image}}),i("q-card-actions",{staticClass:"flex-center q-gutter-y-sm",attrs:{vertical:""}},[i("q-btn",{attrs:{align:"left",dense:"",color:"red",icon:"insights",label:"Add/Remove Manage Items",size:"sm",padding:"sm md",to:{name:"kitchen_items",params:{id:t.id}}}}),i("q-btn",{attrs:{align:"left",dense:"",color:"accent",icon:"device_hub",label:"View Manage Stock",size:"sm",padding:"sm md",to:{name:"kitchen_stocks",params:{id:t.id}}}}),i("q-select",{attrs:{label:"Auto Accept",options:["Yes","No"],outlined:"",dense:"",value:t.kitchen.auto_accept,color:"green-8"},on:{input:t.auto}}),i("q-input",{attrs:{label:"Printer",outlined:"",dense:"",debounce:"1500"},model:{value:t.printer,callback:function(e){t.printer=e},expression:"printer"}}),i("q-badge",{staticClass:"q-py-sm",attrs:{label:"Online Chefs: "+t.chefs.length,color:"positive",outline:""}}),t.full_timer?[t.full_timer.id===t.me?i("q-btn",{attrs:{align:"left",dense:"",color:"secondary",icon:"work_off",size:"sm",padding:"sm md",label:"Remove me as Full Timer"},on:{click:function(e){return t.full_time(!1)}}}):i("q-badge",{staticClass:"q-py-sm",attrs:{label:"Full Timer: "+t.full_timer.name,color:"secondary",outline:""}})]:i("q-btn",{attrs:{align:"left",dense:"",color:"secondary",icon:"view_in_ar",size:"sm",padding:"sm md",label:"Set me as Full Timer"},on:{click:function(e){return t.full_time(!0)}}})],2)],1),t.kitchen.detail?i("q-card-section",{staticStyle:{"font-size":"0.75rem"}},[t._v(t._s(t.kitchen.detail))]):t._e(),i("q-inner-loading",{attrs:{showing:t.loading}},[i("q-spinner-dots",{attrs:{size:"50px",color:"primary"}})],1)],1)},d=[],h=i("43fa"),u={name:"KitchenActionsView",components:{CardImageTitle:h["a"]},data(){return{loading:!1}},props:["id","me"],computed:r()(r()(r()(r()({},Object(c["d"])("kitchens",{kitchens:"data",status:"status"})),Object(c["d"])("users",{users:"data"})),Object(c["b"])("kitchens",["assign"])),{},{intID(){return _.toInteger(this.id)},is_in(){return this.assign&&_.has(this.assign,this.me)&&_.includes(this.assign[this.me],this.intID)},kitchen(){return this.kitchens[this.intID]},image(){return Object(o["i"])(this.kitchen.image)},chefs(){return _.get(this.status,[this.intID,"users"],[])},full_timer(){return _.get(this.users,_.get(this.status,[this.intID,"full_timer"],null),null)},printer:{get(){return _.get(this.status,[this.intID,"printer"],"")},set(t){this.loading=!0,this.$store.dispatch("kitchens/printer",{id:this.intID,printer:t}).then((()=>this.loading=!1))}}}),methods:{toggle({id:t}){this.loading=!0,this.$store.dispatch("kitchens/chef",{kitchen:t}).then((()=>this.loading=!1))},auto(t){this.loading=!0,this.$store.dispatch("kitchens/auto",{id:this.intID,auto_accept:t}).then((()=>this.loading=!1))},full_time(t){this.loading=!0,post("kitchen","full_timer",{kitchen:this.intID,user:this.me,status:t}).then((()=>this.loading=!1))}}},m=u,g=i("2877"),p=i("f09f"),f=i("a370"),k=i("0016"),b=i("4b7e"),q=i("9c40"),v=i("ddd8"),w=i("27f9"),I=i("58a8"),y=i("74f7"),C=i("8380"),Q=i("eebe"),D=i.n(Q),j=Object(g["a"])(m,l,d,!1,null,null,null),O=j.exports;D()(j,"components",{QCard:p["a"],QCardSection:f["a"],QIcon:k["a"],QCardActions:b["a"],QBtn:q["a"],QSelect:v["a"],QInput:w["a"],QBadge:I["a"],QInnerLoading:y["a"],QSpinnerDots:C["a"]});var z=i("c624"),S={name:"PageChefKitchens",components:{Masonry:z["a"],KitchenActionsView:O},data(){return{split:70,height:75,me:_USER.id}},computed:r()({},Object(c["b"])("kitchens",{kitchens:"non_remote"})),methods:{hKey({id:t},e){return Object(o["e"])("ckv","kitchen",e,t)},assign({id:t}){this.$store.dispatch("kitchens/chef",{kitchen:t})}}},A=S,x=i("9989"),$=Object(g["a"])(A,n,s,!1,null,null,null);e["default"]=$.exports;D()($,"components",{QPage:x["a"]})}}]);