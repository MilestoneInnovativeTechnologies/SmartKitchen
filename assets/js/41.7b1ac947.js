(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[41],{fcb2:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"flex-center flex",attrs:{padding:""}},[s("q-card",{attrs:{flat:""}},[s("q-card-section",{staticClass:"q-pa-none"},[s("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in"}},[s(t.component,{tag:"component",style:t.secs[t.component][2]})],1)],1),t.$q.screen.gt.sm?s("q-card-actions",[s("q-btn",{attrs:{loading:t.loading,color:"primary",flat:"",label:t.secs[t.component][0],dense:"",icon:"keyboard_arrow_left"},on:{click:t.left}}),s("q-space"),s("q-btn",{attrs:{loading:t.loading,color:"primary",flat:"",label:t.secs[t.component][1],dense:"","icon-right":"keyboard_arrow_right"},on:{click:t.right}})],1):s("q-card-actions",{attrs:{align:"center"}},[s("q-btn",{attrs:{loading:t.loading,color:"primary",flat:"",label:"LoginPassword"===this.page?"PIN":"Password",dense:""},on:{click:function(e){t.page="LoginPassword"===t.page?"LoginPin":"LoginPassword"}}})],1)],1)],1)},a=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticStyle:{width:"90vw","max-width":"20rem"},attrs:{flat:""}},[s("q-card-section",[t.role?s("GetRoleUserLogin",{attrs:{role:t.role,loading:t.loading},on:{clear:function(e){t.role=""},user:function(e){t.user=e},login:t.login}}):s("RolesSelect",{staticClass:"q-mx-auto",on:{role:function(e){t.role=e}}}),s("form",{ref:"login_form",staticStyle:{position:"absolute"},attrs:{action:t.LOGIN,method:"post"}},[s("q-input",{attrs:{type:"hidden",name:"id",value:t.id}}),s("q-input",{attrs:{type:"hidden",name:"password",value:t.password}}),s("q-input",{attrs:{type:"hidden",name:t.select,value:t.selected}})],1)],1)],1)},o=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticClass:"q-mx-auto",staticStyle:{width:"90vw","max-width":"20rem"}},[s("q-card-section",{staticClass:"bg-primary"},[s("div",{staticClass:" text-white items-start"},[s("q-icon",{staticStyle:{"margin-top":"-0.2rem",cursor:"pointer"},attrs:{name:"arrow_back_ios",size:"xs"},on:{click:function(e){return t.$emit("clear")}}}),t._v("\n      Click on user to login\n    ")],1)]),s("q-card-section",[s("q-list",{attrs:{separator:"",bordered:""}},t._l(t.users,(function(e,i){return s("q-expansion-item",{key:"user-"+e.id,attrs:{group:"login"},on:{click:function(s){t.s_user=e}},scopedSlots:t._u([{key:"header",fn:function(){return[s("q-item-section",{attrs:{avatar:""}},[t._v(t._s(i+1))]),s("q-item-section",[s("q-item-label",[t._v(t._s(e.name))])],1)]},proxy:!0}],null,!0)},[s("q-item-section",{staticClass:"q-px-lg q-py-xs q-gutter-y-xs"},[s("q-input",{attrs:{type:"password",dense:"",name:"password",outlined:"",label:"Password"},on:{focus:function(s){t.s_user=e}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s(t.component,{tag:"component",on:{selected:t.selected}}),s("q-btn",{attrs:{label:"Login",color:"primary",loading:t.loading},on:{click:t.login}})],1)],1)})),1)],1)],1)},l=[],c=s("ded3"),d=s.n(c),p=s("2f62"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-select",{attrs:{options:t.options,label:"Select Menu",dense:"",value:t.menu,"map-options":"",outlined:""},on:{input:t.emit}})},m=[],h={name:"LoginMenuSelect",data(){return{menu:null}},computed:{menus(){return this.$store.state.menus.data},options(){return _.map(this.menus,(({id:t,name:e})=>_.zipObject(["label","value"],[e,t])))}},methods:{emit({value:t}){this.$emit("selected",t),this.menu=t}}},g=h,f=s("2877"),b=s("ddd8"),v=s("eebe"),q=s.n(v),w=Object(f["a"])(g,u,m,!1,null,null,null),y=w.exports;q()(w,"components",{QSelect:b["a"]});var x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-select",{attrs:{options:t.options,label:"Select Kitchen",dense:"",value:t.kitchen,"map-options":"",outlined:""},on:{input:t.emit}})},k=[],C={name:"LoginKitchenSelect",data(){return{kitchen:null}},computed:{kitchens(){return this.$store.getters["kitchens/non_remote"]},options(){return _.map(this.kitchens,(({id:t,name:e})=>_.zipObject(["label","value"],[e,t])))}},methods:{emit({value:t}){this.$emit("selected",t),this.kitchen=t}}},L=C,S=Object(f["a"])(L,x,k,!1,null,null,null),Q=S.exports;q()(S,"components",{QSelect:b["a"]});var I={name:"GetRoleUserLogin",components:{LoginKitchenSelect:Q,LoginMenuSelect:y},props:["role","loading"],data(){return{s_user:null,password:"",s_selected:null,defaults:LoginSelect}},computed:d()(d()({},Object(p["b"])("users",["role_users"])),{},{users(){return this.role_users(this.role)},roleItem(){return _.has(this.defaults,this.role)?_.capitalize(this.defaults[this.role]):null},component(){return this.roleItem?`Login${this.roleItem}Select`:null}}),methods:{selected(t){this.s_selected=t},login(){if(this.password)return this.$emit("login",_.zipObject(["user","password",_.toLower(this.defaults[this.role])],[this.s_user,this.password,[this.s_selected]]))}}},P=I,$=s("f09f"),O=s("a370"),z=s("0016"),j=s("1c1c"),N=s("3b73"),D=s("4074"),E=s("0170"),G=s("27f9"),B=s("9c40"),R=Object(f["a"])(P,r,l,!1,null,null,null),K=R.exports;q()(R,"components",{QCard:$["a"],QCardSection:O["a"],QIcon:z["a"],QList:j["a"],QExpansionItem:N["a"],QItemSection:D["a"],QItemLabel:E["a"],QInput:G["a"],QBtn:B["a"]});var M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-gutter-y-xs"},t._l(t.roles,(function(e){return s("q-card",{key:"role-"+e,staticClass:"bg-primary q-mx-auto",staticStyle:{cursor:"pointer",width:"16rem","max-width":"65vh"},attrs:{dark:""},on:{click:function(s){return t.$emit("role",e)}}},[s("q-card-section",{staticClass:"text-center"},[s("div",{staticClass:"text-h6"},[t._v(t._s(e))])])],1)})),1)},T=[],U={name:"RolesSelect",computed:Object(p["b"])("users",["roles"])},A=U,H=Object(f["a"])(A,M,T,!1,null,null,null),J=H.exports;q()(H,"components",{QCard:$["a"],QCardSection:O["a"]});var W={name:"LoginPassword",components:{GetRoleUserLogin:K,RolesSelect:J},data(){return{role:"",user:null,loading:!1,LOGIN:LOGIN,id:"",password:"",select:"",selected:[]}},methods:{login({user:{id:t},password:e,menu:s,kitchen:i}){if(this.loading=!0,!t||!e)return this.loading=!1;this.id=t,this.password=e,this.select=s?"menu":i?"kitchen":"",this.selected=s||i||[],this.loading=!1,this.$nextTick((()=>this.$refs["login_form"].submit()))}}},F=W,V=Object(f["a"])(F,n,o,!1,null,null,null),X=V.exports;q()(V,"components",{QCard:$["a"],QCardSection:O["a"],QInput:G["a"]});var Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticStyle:{width:"300px","max-width":"65vh"}},[s("q-card-section",{staticClass:"bg-grey-2"},[s("div",{staticClass:"row q-col-gutter-x-xs"},t._l(t.digs,(function(e,i){return s("div",{key:"dif-"+i,staticClass:"col-3"},[s("div",{staticClass:"text-center bg-white q-pa-sm text-bold text-grey-8",staticStyle:{"font-size":"1.85rem"},domProps:{innerHTML:t._s(e)}})])})),0)]),s("q-card-section",[s("div",{staticClass:"row q-col-gutter-xs"},[t._l(9,(function(e){return s("div",{key:"pin-number-"+e,staticClass:"col-4"},[s("q-btn",{staticClass:"full-width",staticStyle:{"font-size":"1.25rem"},attrs:{label:e,color:"primary",glossy:"",size:"md",padding:"md md"},on:{click:function(s){t.digs=e}}})],1)})),s("div",{staticClass:"col-4"},[s("q-btn",{staticClass:"full-width",staticStyle:{"font-size":"1.25rem"},attrs:{icon:"backspace",color:"primary",glossy:"",size:"md",padding:"md md"},on:{click:t.backspace}})],1),s("div",{staticClass:"col-4"},[s("q-btn",{staticClass:"full-width",staticStyle:{"font-size":"1.25rem"},attrs:{label:"0",color:"primary",glossy:"",size:"md",padding:"md md"},on:{click:function(e){t.digs=0}}})],1),s("div",{staticClass:"col-4"},[s("q-btn",{staticClass:"full-width",staticStyle:{"font-size":"1.25rem"},attrs:{icon:"keyboard_return",color:"primary",glossy:"",size:"md",padding:"md md",disable:t.pin.length<4},on:{click:t.login}})],1)],2),s("form",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"login_form",attrs:{action:t.LOGIN,method:"post"}},[s("q-input",{attrs:{type:"hidden",name:"pin",value:t.pin}})],1)]),s("q-inner-loading",{attrs:{showing:t.loading}},[s("q-spinner-grid",{attrs:{size:"150px",color:"primary"}})],1)],1)},Z=[],tt=(s("843c"),{name:"LoginPin",data(){return{pin:"",LOGIN:LOGIN,loading:!1}},computed:{digs:{get(){return _.padEnd(this.pin,4,"_").split("")},set(t){this.pin=(this.pin+t).substr(-4)}}},methods:{backspace(){this.pin=this.pin.substr(0,_.size(this.pin)-1)},login(){this.loading=!0,this.$refs["login_form"].submit()}}}),et=tt,st=s("74f7"),it=s("981c"),at=Object(f["a"])(et,Y,Z,!1,null,null,null),nt=at.exports;q()(at,"components",{QCard:$["a"],QCardSection:O["a"],QBtn:B["a"],QInput:G["a"],QInnerLoading:st["a"],QSpinnerGrid:it["a"]});var ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",[s("q-card-section",{staticClass:"bg-primary text-white"},[s("div",{staticClass:"text-h6"},[t._v("Display Screens")])]),s("q-list",{attrs:{separator:""}},[s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[s("q-item-section",{attrs:{avatar:""}},[s("q-avatar",{attrs:{"text-color":"primary",rounded:"",icon:"person"}})],1),s("q-item-section",[s("q-item-label",{staticClass:"text-primary text-bold"},[t._v("Kitchen")]),s("q-item-label",{attrs:{caption:""}},[t._v("Displays kitchen items")])],1)],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[s("q-item-section",{attrs:{avatar:""}},[s("q-avatar",{attrs:{"text-color":"primary",rounded:"",icon:"logout"}})],1),s("q-item-section",[s("q-item-label",{staticClass:"text-primary text-bold"},[t._v("Home Delivery")]),s("q-item-label",{attrs:{caption:""}},[t._v("Delivery orders tracking")])],1)],1)],1)],1)},rt=[],lt={name:"DisplayBoards"},ct=lt,dt=s("66e5"),pt=s("cb32"),ut=s("714f"),mt=Object(f["a"])(ct,ot,rt,!1,null,null,null),ht=mt.exports;q()(mt,"components",{QCard:$["a"],QCardSection:O["a"],QList:j["a"],QItem:dt["a"],QItemSection:D["a"],QAvatar:pt["a"],QItemLabel:E["a"]}),q()(mt,"directives",{Ripple:ut["a"]});var gt={name:"PageLoginIndex",components:{DisplayBoards:ht,LoginPin:nt,LoginPassword:X},data(){return{secs:{LoginPassword:["Display","PIN",{width:"480px"}],LoginPin:["Password","Display",{maxWidth:"330px",width:"90vw"}],DisplayBoards:["PIN","Password",{width:"680px"}]},comps:{Display:"DisplayBoards",PIN:"LoginPin",Password:"LoginPassword"},page:null,loading:!1}},computed:{screen(){return this.$q.screen},component(){return this.page||(this.screen.lt.sm?"LoginPin":this.screen.lt.lg?"LoginPassword":"DisplayBoards")}},methods:{left(){this.loading=!0,this.page=this.comps[this.secs[this.component][0]],this.$nextTick((function(){this.loading=!1}))},right(){this.loading=!0,this.page=this.comps[this.secs[this.component][1]],this.$nextTick((function(){this.loading=!1}))}},mounted(){this.page=this.component}},ft=gt,bt=s("9989"),vt=s("4b7e"),qt=s("2c91"),wt=Object(f["a"])(ft,i,a,!1,null,null,null);e["default"]=wt.exports;q()(wt,"components",{QPage:bt["a"],QCard:$["a"],QCardSection:O["a"],QCardActions:vt["a"],QBtn:B["a"],QSpace:qt["a"]})}}]);