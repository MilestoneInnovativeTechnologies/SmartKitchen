(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{"2af5":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e._self._c;return t("q-page",[t("FilterInputText",{staticClass:"q-ma-md",on:{text:function(t){e.filter=t}}}),t("q-list",{attrs:{separator:""}},e._l(e.showing,(function(s,o){return t("q-item",{key:e.h_key("ao-o-",s.id),attrs:{clickable:""},on:{click:function(t){e.show=(e.selected=o,!0)}}},[t("q-item-section",{attrs:{avatar:""}},[t("q-badge",{staticClass:"q-pa-sm",staticStyle:{"font-size":"0.65rem"},attrs:{color:e.color,label:s.id}})],1),t("ItemDetailStackLeft",{staticClass:"col-grow q-mt-sm",attrs:{color:e.color,label:s.date_human}},[e._v(e._s(s.customer?s.customer.name:""))]),t("ItemDetailStackLeft",{staticClass:"q-mt-sm",attrs:{color:e.color,label:s.type}},[e._v(e._s(e.items(s)))]),t("q-item-section",{attrs:{side:""}},[t("q-badge",{staticClass:"q-py-xs q-px-sm",attrs:{label:s.progress,color:e.color,outline:""}})],1)],1)})),1),t("q-dialog",{attrs:{persistent:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[e.Token?t("ArchiveTokenDetail",{staticStyle:{"min-width":"80vw"},attrs:{token:e.Token,color:e.color},on:{print:function(t){return e.print(e.Token)},cancelled:function(t){e.show=!1}}}):e._e()],1),t("Pagination",{attrs:{records:e.Tokens,color:e.color},model:{value:e.showing,callback:function(t){e.showing=t},expression:"showing"}})],1)},n=[],a=(s("caad"),s("3758")),i=s("b1c1"),l=s("18cd"),r=s("5843"),c=s("5ab9"),u=s("1799"),m={name:"PageArchiveOrders",components:{Pagination:u["a"],FilterInputText:c["a"],ItemDetailStackLeft:r["a"],ArchiveTokenDetail:l["a"]},mixins:[a["a"]],data(){return{color:"green",selected:null,show:!1,display:["Dining","Take Away","Home Delivery","Other"],filter:"",showing:null}},computed:{AllTokens(){return _(this.tokens_own).filter((({type:e})=>this.display.includes(e))).map((e=>Object.assign({},e,{slug:d(e)}))).sortBy((({date:e})=>Object(i["d"])(e).getTime())).reverse().value()},Tokens(){return this.filter?_.filter(this.AllTokens,(({slug:e})=>_.includes(e,this.filter.toLowerCase()))):this.AllTokens},Token(){return null===this.selected?null:this.showing[this.selected]}},methods:{h_key:i["e"],items({items:e}){return _.truncate(_.map(e,(({item:{name:e}})=>_.truncate(e,{length:13,omission:".."}))).join(", "),{length:64,omission:" etc"})},print({id:e}){post("token","print",{id:e})}}};function d({id:e,customer:t,type:s}){return[e,_.get(t,"name"),s].join(" ").toLowerCase()}var h=m,p=s("2877"),g=s("9989"),k=s("1c1c"),w=s("66e5"),f=s("4074"),b=s("58a8"),v=s("24e8"),T=s("eebe"),q=s.n(T),y=Object(p["a"])(h,o,n,!1,null,null,null);t["default"]=y.exports;q()(y,"components",{QPage:g["a"],QList:k["a"],QItem:w["a"],QItemSection:f["a"],QBadge:b["a"],QDialog:v["a"]})}}]);