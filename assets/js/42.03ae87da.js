(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[42],{8439:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e._self._c;return t("q-page",{attrs:{padding:""}},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-xs-12 col-sm-6"},[t("DigitMetric",{attrs:{value:e.tokens_own.length,bg:"cyan",text:"white",title:"Own Orders",icon:"receipt"}})],1),t("div",{staticClass:"col-xs-6 lt-sm"},[t("DigitMetric",{attrs:{value:e.deliverable.length,bg:"orange",text:"white",title:"Deliverable",icon:"delivery_dining"}})],1),t("div",{staticClass:"col-xs-6"},[t("DigitMetric",{attrs:{value:e.delivered.length,bg:"green",text:"white",title:"Delivered",icon:"done_all"}})],1),t("div",{staticClass:"col-xs-6 col-sm-4"},[t("DigitMetric",{attrs:{value:e.processing.length,bg:"blue-grey",text:"white",title:"Processing",icon:"memory"}})],1),t("div",{staticClass:"col-xs-6 col-sm-4"},[t("DigitMetric",{attrs:{value:e.Billable.length,bg:"red",text:"white",title:"Billable",icon:"request_quote"}})],1),t("div",{staticClass:"col-xs-6 col-sm-4 gt-xs"},[t("DigitMetric",{attrs:{value:e.deliverable.length,bg:"orange",text:"white",title:"Deliverable",icon:"delivery_dining"}})],1),t("div",{staticClass:"col-xs-6"},[t("DigitMetric",{attrs:{value:e.Payments,bg:"light-green",text:"white",title:"Total Payments",icon:"account_balance_wallet"}})],1),t("div",{staticClass:"col-xs-6"},[t("DigitMetric",{attrs:{value:e.Tokens.length,bg:"deep-purple",text:"white",title:"Total Orders",icon:"format_list_numbered"}})],1)]),t("q-list",[e.processing.length?t("q-item-label",{attrs:{header:""}},[e._v("Processing Orders "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.processing.length>4,expression:"processing.length > 4"}]},[e._v("(+ "+e._s(e.processing.length-4)+" More)")])]):e._e(),t("OrderSummaryDeliveryBoy",{attrs:{tokens:e.take_only(e.processing,4),kitchen:"",separator:""}}),e.Billable.length?t("q-item-label",{attrs:{header:""}},[e._v("Billable Orders "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.Billable.length>4,expression:"Billable.length > 4"}]},[e._v("(+ "+e._s(e.Billable.length-4)+" More)")])]):e._e(),t("OrderSummaryDeliveryBoy",{attrs:{tokens:e.take_only(e.Billable,4),separator:""}}),e.deliverable.length?t("q-item-label",{attrs:{header:""}},[e._v("Deliverable Orders "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.deliverable.length>4,expression:"deliverable.length > 4"}]},[e._v("(+ "+e._s(e.deliverable.length-4)+" More)")])]):e._e(),t("OrderSummaryDeliveryBoy",{attrs:{tokens:e.take_only(e.deliverable,4),address:"",separator:""}})],1),t("OrderNewFabDeliveryBoy")],1)},r=[],s=(l("caad"),l("58d1")),a=l("b1c1"),n=l("84ba"),o=l("db7a"),c=l("232e"),d=l("9416"),g={name:"PageDeliveryBoyIndex",components:{OrderNewFabDeliveryBoy:d["a"],OrderSummaryDeliveryBoy:o["a"],DigitMetric:n["a"]},mixins:[s["a"]],data(){return{me:parseInt(this.$route.meta.me.id)}},computed:{Tokens(){return _(this.tokens).filter((e=>"Cancelled"!==e.progress&&"Home Delivery"===e.type)).sortBy("id").reverse().map((e=>e.customer?e:Object.assign({},e,{customer:c["NoCustomer"]}))).map((e=>Object.assign({},e,{bill:_.get(this.token_bill,e.id)}))).value()},bills_today(){return _(this.bills).filter((({date:e})=>Object(a["o"])(e))).value()},bills_own(){return _.filter(this.bills_today,["user.id",this.me])},Billable(){return _.filter(this.Tokens,(e=>!e.bill))},Payments(){return _.sumBy(this.bills_own,(({paid:e})=>_.toNumber(e)))},tokens_own(){return _.filter(this.Tokens,(e=>b(this.me,e)))},deliverable(){return _.filter(this.tokens_own,(({bill:e})=>e&&("Pending"===e.progress||"Partial"===e.progress)))},processing(){return _.filter(this.tokens_own,(({items:e})=>!v(e)))},delivered(){return _.filter(this.tokens_own,(({bill:e})=>e&&"Paid"===e.progress))}},methods:{take_only(e,t){return _.take(e,t||5)}}};function v(e){return e.length&&_.every(e,(({progress:e})=>_.includes(["Cancelled","Completed","Served"],e)))}function b(e,t){return t.bill&&(_.get(t.bill,["user","id"])===e||"Receptionist"===_.get(t.bill,["user","role"]))||t.user===e}var u=g,h=l("2877"),m=l("9989"),p=l("1c1c"),y=l("0170"),w=l("eebe"),x=l.n(w),k=Object(h["a"])(u,i,r,!1,null,null,null);t["default"]=k.exports;x()(k,"components",{QPage:m["a"],QList:p["a"],QItemLabel:y["a"]})}}]);