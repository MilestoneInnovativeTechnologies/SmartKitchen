(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[62],{a56a:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"q-gutter-y-sm",attrs:{padding:""}},[s("ReportDashboardMetricsMain"),e._l(e.reports,(function(t,a){return s("q-card",{key:"rpt-card-"+a,staticClass:"q-mt-lg",attrs:{flat:"",square:""}},[s("q-card-section",{staticClass:"bg-grey text-bold q-py-xs text-white bg-blue-grey-10"},[e._v(e._s(a))]),s("q-card-section",{staticClass:"row q-col-gutter-xs q-pa-none q-pt-xs"},e._l(t,(function(t){return s("div",{key:"rpt-section-"+a+"-"+t,staticClass:"col-xs-6 col-sm-4 col-md-3 col-lg-2 col-xl-1",on:{click:function(s){return e.$router.push({name:e.masters[t][1]})}}},[s("Jumbotron",{staticClass:"text-center text-white cursor-pointer",attrs:{text:e.masters[t][0],color:"teal-14"}})],1)})),0)],1)}))],2)},r=[],l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col"},[s("DigitMetric",{attrs:{value:e.Tokens.length,bg:"green",text:"white",title:"Sales",icon:"shopping_cart"}})],1),s("div",{staticClass:"col"},[s("DigitMetric",{attrs:{value:e.total_payments,bg:"purple",text:"white",title:"Payments",icon:"account_balance_wallet"}})],1),s("div",{staticClass:"q-mt-md col-12"},[s("q-card",{attrs:{flat:"",square:""}},[s("q-card-section",{staticClass:"bg-grey text-bold q-py-xs text-white bg-blue-grey-10 q-mt-lg"},[e._v("Sales by Type")]),s("q-card-section",{staticClass:"row q-col-gutter-xs q-pa-none q-pt-xs"},e._l(e.sales_by_type,(function(t,a){return s("div",{key:e.hKey("sbt",a),staticClass:"col-xs-6 col-sm-3"},[s("DigitMetric",{attrs:{value:t,bg:e.iconColor_sbt[a][1],text:"white",title:a,icon:e.iconColor_sbt[a][0]}})],1)})),0)],1)],1),s("div",{staticClass:"q-mt-md col-12"},[s("q-card",{attrs:{flat:"",square:""}},[s("q-card-section",{staticClass:"bg-grey text-bold q-py-xs text-white bg-blue-grey-10 q-mt-lg"},[e._v("Payments by Type")]),s("q-card-section",{staticClass:"row q-col-gutter-xs q-pa-none q-pt-xs"},e._l(e.payments_by_type,(function(t,a){return s("div",{key:e.hKey("pbt",a),staticClass:"col-xs-6 col-sm-3"},[s("DigitMetric",{attrs:{value:t,bg:e.iconColor_pyt[a][1],text:"white",title:a,icon:e.iconColor_pyt[a][0]}})],1)})),0)],1)],1)])},i=[],n=s("ded3"),o=s.n(n),c=s("84ba"),y=s("3758"),m=s("b1c1"),u=s("2f62"),p=s("232e"),b={name:"ReportDashboardMetricsMain",components:{DigitMetric:c["a"]},mixins:[y["a"]],data(){return{iconColor_sbt:{Dining:["local_dining","purple"],"Home Delivery":["delivery_dining","amber"],"Take Away":["home","green"],Other:["stream","light-blue"],Sale:["shopping_cart","indigo"],Remote:["online_prediction","brown"]},iconColor_pyt:{Cash:["money","green"],Card:["payment","teal"],Wallet:["account_balance","purple"],Credit:["money_off","red"]}}},computed:o()(o()({},Object(u["d"])({payments:({payments:{data:e}})=>e})),{},{Tokens(){return _.filter(this.tokens_own,(({date:e,progress:t})=>Object(m["l"])(e)&&"Cancelled"!==t))},Payments(){return _(this.payments).filter((({status:e,date:t})=>"Active"===e&&Object(m["l"])(t))).value()},total_payments(){return _.sumBy(this.Payments,(({amount:e})=>_.toNumber(e)))},sales_by_type(){let e=_.zipObject(p["OrderTypes"],Array(p["OrderTypes"].length).fill(0));return _.defaults(_.countBy(this.Tokens,"type"),e)},payments_by_type(){let e=_.zipObject(p["PaymentsTypes"],Array(p["PaymentsTypes"].length).fill(0));return _.forEach(this.Payments,(({type:t,amount:s})=>e[t]+=_.toNumber(s))),e}}),methods:{hKey(e,t){return _.kebabCase(Object(m["d"])(e,t))}}},d=b,g=s("2877"),h=s("f09f"),x=s("a370"),C=s("eebe"),q=s.n(C),f=Object(g["a"])(d,l,i,!1,null,null,null),v=f.exports;q()(f,"components",{QCard:h["a"],QCardSection:x["a"]});var w=s("ec70"),k={name:"PageReportIndex",components:{Jumbotron:w["a"],ReportDashboardMetricsMain:v},created(){this.$store.commit("public",{mode:"report"})},data(){return{reports:{Token:[0,14,19,20,15],Sales:[1,2,3,4,5],Bill:[7,8,9,10,21,22,23,24],Tax:[8,9,10,13],Kitchen:[6,16],Stock:[6],Item:[4,5,17],Waiter:[14,15],Chef:[18],Receptionist:[19],"Delivery Boy":[20,24],Performance:[14,15,16,17,18]},masters:[["Daily Token Summary","day_token_summary"],["Sales Summary","day_sale_summary"],["Sales By Type","sales_by_type"],["Sales Summary by Type","sales_summary_by_type"],["Sales Count by Item","sales_count_by_item"],["Item Wise Sales Summary","item_wise_sale_summary"],["Kitchen Stock","kitchen_stock"],["Bill Summary","bill_summary"],["Bill Summary - Tax","bill_summary_tax"],["Bill Summary - Nature","bill_summary_tax_nature"],["Tax Bill Details","tax_bill_detail"],["Payments","payments"],["Payments By Type","payments_by_type"],["Tax Details","tax_details"],["Orders by Waiter","orders_by_waiter"],["User Orders","user_orders"],["Kitchen Processing","kitchen_processing"],["Item Processing","item_processing"],["Chef Performance","chef_performance"],["Orders by Receptionist","orders_by_receptionist"],["Orders by Delivery Boy","orders_by_delivery_boy"],["Bill Summary with Customer","bill_summary_customer"],["Bill Summary - User Type","bill_summary_user_type"],["Bill by User","bill_by_user"],["Delivery Boy Bills","delivery_boy_bills"]]}},methods:{hKey(e){return _.kebabCase(Object(m["d"])("rib",e))}}},S=k,T=s("9989"),B=Object(g["a"])(S,a,r,!1,null,null,null);t["default"]=B.exports;q()(B,"components",{QPage:T["a"],QCard:h["a"],QCardSection:x["a"]})}}]);