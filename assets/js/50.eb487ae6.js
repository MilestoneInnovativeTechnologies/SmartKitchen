(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[50],{cf59:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("div",{staticClass:"q-mx-auto",staticStyle:{width:"90vw"}},[e("KitchenStocksDisplay",{staticClass:"q-mb-sm",attrs:{kitchen:t.id}})],1)])},a=[],n=function(){var t=this,e=t._self._c;return e("q-card",[e("q-card-section",{staticClass:"bg-grey-2"},[e("div",{staticClass:"text-h6"},[t._v("Stock: "+t._s(t.name))])]),e("q-list",{attrs:{separator:""}},[e("q-item",{staticClass:"text-bold"},[e("q-item-section",{attrs:{avatar:""}},[e("q-item-label",[t._v("#")])],1),e("q-item-section",[e("q-item-label",[t._v("Item")])],1),e("q-item-section",[e("q-item-label",[t._v("Stock")])],1)],1),e("q-item",[e("q-item-section",[e("FilterInputText",{attrs:{label:"Filter"},on:{text:function(e){t.filter=e}}})],1)],1),e("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[e("div",{staticClass:"text-bold"},[t._v("Zero Stock Items")])]),0===t.zero.length?e("q-item",{attrs:{dense:""}},[e("div",{staticClass:"text-italic"},[t._v("No Items")])]):t._l(t.zero,(function(i,s){return e("KitchenStockDisplayItemRow",{key:t.hKey("zero",i),attrs:{no:s+1,id:i.id,stock:i.stock,name:i.item.name}})})),e("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[e("div",{staticClass:"text-bold"},[t._v("Negative Stock Items")])]),0===t.negative.length?e("q-item",{attrs:{dense:""}},[e("div",{staticClass:"text-italic"},[t._v("No Items")])]):t._l(t.negative,(function(i,s){return e("KitchenStockDisplayItemRow",{key:t.hKey("negative",i),attrs:{no:s+1,id:i.id,stock:i.stock,name:i.item.name}})})),e("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[e("div",{staticClass:"text-bold"},[t._v("Least Stock Items")])]),0===t.least.length?e("q-item",{attrs:{dense:""}},[e("div",{staticClass:"text-italic"},[t._v("No Items")])]):t._l(t.least,(function(i,s){return e("KitchenStockDisplayItemRow",{key:t.hKey("least",i),attrs:{no:s+1,id:i.id,stock:i.stock,name:i.item.name}})})),e("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[e("div",{staticClass:"text-bold"},[t._v("Other Items")])]),0===t.other.length?e("q-item",{attrs:{dense:""}},[e("div",{staticClass:"text-italic"},[t._v("No Items")])]):t._l(t.other,(function(i,s){return e("KitchenStockDisplayItemRow",{key:t.hKey("other",i),attrs:{no:s+1,id:i.id,stock:i.stock,name:i.item.name}})}))],2)],1)},c=[],o=i("2f62"),l=i("b1c1"),r=function(){var t=this,e=t._self._c;return e("q-item",[e("q-item-section",{attrs:{avatar:""}},[t._v(t._s(t.no))]),e("q-item-section",[e("q-item-label",[t._v(t._s(t.name))])],1),e("q-item-section",[e("q-input",{attrs:{outlined:"",dense:"",debounce:1200},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)},m=[],d={name:"KitchenStockDisplayItemRow",props:["id","no","name","stock"],computed:{value:{get(){return this.stock},set(t){this.update(this.id,t)}}},methods:{update(t,e){post("kitchen","item",{id:t,stock:e})}}},u=d,h=i("2877"),k=i("66e5"),v=i("4074"),p=i("0170"),b=i("27f9"),f=i("eebe"),q=i.n(f),y=Object(h["a"])(u,r,m,!1,null,null,null),g=y.exports;q()(y,"components",{QItem:k["a"],QItemSection:v["a"],QItemLabel:p["a"],QInput:b["a"]});var I=i("5ab9"),C={name:"KitchenStockDisplay",props:["kitchen"],data(){return{filter:"",limit:6}},components:{FilterInputText:I["a"],KitchenStockDisplayItemRow:g},computed:{kid(){return _.toInteger(this.kitchen)},...Object(o["d"])({name:function({kitchens:{data:t}}){return _.get(t,[this.kid,"name"])},stock:function({kitchens:{items:t},items:{data:e}}){return this.filtered(_.map(_.get(t,[this.kid]),(t=>Object.assign({},t,{item:e[t.item]}))))}}),negative(){return _(this.stock).filter((t=>1===S(t,this.limit))).sortBy("stock").value()},zero(){return _(this.stock).filter((t=>2===S(t,this.limit))).sortBy("stock").value()},least(){return _(this.stock).filter((t=>3===S(t,this.limit))).sortBy("stock").value()},other(){return _(this.stock).filter((t=>4===S(t,this.limit))).sortBy("stock").value()}},methods:{hKey(t,{id:e,item:i}){return Object(l["e"])("ksd",e,"type",t,"kitchen",this.kid,"item",i.id)},filtered(t){return this.filter?_.filter(t,(t=>Object(l["r"])(t.item,["id","name","detail"],this.filter))):t}}};function S({stock:t},e){let i=_.toNumber(t);return i<0?1:0===i?2:i<e?3:4}var x=C,K=i("f09f"),w=i("a370"),Q=i("1c1c"),D=Object(h["a"])(x,n,c,!1,null,null,null),O=D.exports;q()(D,"components",{QCard:K["a"],QCardSection:w["a"],QList:Q["a"],QItem:k["a"],QItemSection:v["a"],QItemLabel:p["a"]});var j={name:"PageKitchenStocks",props:["id"],components:{KitchenStocksDisplay:O}},N=j,R=i("9989"),z=Object(h["a"])(N,s,a,!1,null,null,null);e["default"]=z.exports;q()(z,"components",{QPage:R["a"]})}}]);