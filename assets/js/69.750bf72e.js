(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[69],{ad08:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[t.type?e("ReportCard",{attrs:{title:"Payments by Type",head:t.head,index:"",table:t.table,foot:t.foot,center:["Token/Bill"],right:["Bill Amount","Paid Amount","Balance"]}}):e("div",{staticClass:"text-center"},[t._v("Select Payment Type")])],1)},r=[],s=a("460a"),i=a("b1c1"),o=a("58d1"),l={name:"ReportBillPaymentsType",components:{ReportCard:s["a"]},mixins:[o["a"]],computed:{range(){return Object(i["A"])(this.$store.state.public.range)},type(){return this.$store.state.public.payment_type},head(){return _.zipObject(["Report","Payment Type","Date From","Date To"],["Payments",this.type,Object(i["E"])("ddd - Do MMM hh:mm A",this.range.from),Object(i["E"])("ddd - Do MMM hh:mm A",this.range.to)])},date_bills(){return _(this.bills).filter((({progress:t,payments:e})=>"Cancelled"!==t&&e.length&&m(e,this.range.from,this.range.to))).value()},payments(){return _(this.date_bills).flatMap((t=>_.map(t.payments,(e=>Object.assign({},e,{bill:t}))))).filter((({date:t,type:e,status:a})=>"Active"===a&&e===this.type&&Object(i["j"])(t,this.range.from,this.range.to))).sortBy((({date:t})=>Object(i["d"])(t).getTime())).value()},table(){return _(this.payments).map((({id:t,date:e,bill:a,amount:n})=>_.zipObject(["ID","Time","Token/Bill","Customer","Bill Amount","Paid Amount","Balance"],[t,Object(i["f"])(e,!0),`${a.token.id}/${t}`,_.get(a,["customer","name"]),Object(i["z"])(_.get(a,["payable"])),Object(i["z"])(n),_.toNumber(_.get(a,["payable"]))-_.toNumber(n)]))).value()},foot(){return _.zipObject(["Payments","Amount"],[_.size(this.table),_.sumBy(this.table,(t=>_.toNumber(t["Paid Amount"])))])}}};function m(t,e,a){return _.some(t,(({date:t})=>Object(i["j"])(t,e,a)))}var p=l,u=a("2877"),b=a("9989"),c=a("eebe"),d=a.n(c),h=Object(u["a"])(p,n,r,!1,null,null,null);e["default"]=h.exports;d()(h,"components",{QPage:b["a"]})}}]);