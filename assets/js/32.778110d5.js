(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{cf59:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{attrs:{padding:""}},[s("div",{staticClass:"q-mx-auto",staticStyle:{"max-width":"700px",width:"65vw"}},[s("KitchenStocksDisplay",{staticClass:"q-mb-sm",attrs:{kitchen:t.id}})],1)])},a=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",[s("q-card-section",{staticClass:"bg-grey-2"},[s("div",{staticClass:"text-h6"},[t._v("Stock: "+t._s(t.name))])]),s("q-list",{attrs:{separator:""}},[s("q-item",{staticClass:"text-bold"},[s("q-item-section",{attrs:{avatar:""}},[s("q-item-label",[t._v("#")])],1),s("q-item-section",[s("q-item-label",[t._v("Item")])],1),s("q-item-section",[s("q-item-label",[t._v("Stock")])],1)],1),s("q-item",[s("q-item-section",[s("FilterInputText",{attrs:{label:"Filter"},on:{text:function(e){t.filter=e}}})],1)],1),s("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[s("div",{staticClass:"text-bold"},[t._v("Zero Stock Items")])]),0===t.zero.length?s("q-item",{attrs:{dense:""}},[s("div",{staticClass:"text-italic"},[t._v("No Items")])]):t._l(t.zero,(function(e,i){return s("KitchenStockDisplayItemRow",{key:t.hKey("zero",e),attrs:{no:i+1,id:e.id,stock:e.stock,name:e.item.name}})})),s("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[s("div",{staticClass:"text-bold"},[t._v("Negative Stock Items")])]),0===t.negative.length?s("q-item",{attrs:{dense:""}},[s("div",{staticClass:"text-italic"},[t._v("No Items")])]):t._l(t.negative,(function(e,i){return s("KitchenStockDisplayItemRow",{key:t.hKey("negative",e),attrs:{no:i+1,id:e.id,stock:e.stock,name:e.item.name}})})),s("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[s("div",{staticClass:"text-bold"},[t._v("Least Stock Items")])]),0===t.least.length?s("q-item",{attrs:{dense:""}},[s("div",{staticClass:"text-italic"},[t._v("No Items")])]):t._l(t.least,(function(e,i){return s("KitchenStockDisplayItemRow",{key:t.hKey("least",e),attrs:{no:i+1,id:e.id,stock:e.stock,name:e.item.name}})})),s("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[s("div",{staticClass:"text-bold"},[t._v("Other Items")])]),0===t.other.length?s("q-item",{attrs:{dense:""}},[s("div",{staticClass:"text-italic"},[t._v("No Items")])]):t._l(t.other,(function(e,i){return s("KitchenStockDisplayItemRow",{key:t.hKey("other",e),attrs:{no:i+1,id:e.id,stock:e.stock,name:e.item.name}})}))],2)],1)},o=[],c=(s("a434"),s("ded3")),l=s.n(c),r=s("2f62"),m=s("b1c1"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-item",[s("q-item-section",{attrs:{avatar:""}},[t._v(t._s(t.no))]),s("q-item-section",[s("q-item-label",[t._v(t._s(t.name))])],1),s("q-item-section",[s("q-input",{attrs:{outlined:"",dense:"",debounce:1200},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)},h=[],u={name:"KitchenStockDisplayItemRow",props:["id","no","name","stock"],computed:{value:{get(){return this.stock},set(t){this.update(this.id,t)}}},methods:{update(t,e){post("kitchen","item",{id:t,stock:e})}}},k=u,p=s("2877"),v=s("66e5"),b=s("4074"),g=s("0170"),f=s("27f9"),q=s("eebe"),y=s.n(q),I=Object(p["a"])(k,d,h,!1,null,null,null),x=I.exports;y()(I,"components",{QItem:v["a"],QItemSection:b["a"],QItemLabel:g["a"],QInput:f["a"]});var C=s("5ab9"),S={name:"KitchenStockDisplay",props:["kitchen"],data(){return{filter:"",neg:[],les:[],oth:[]}},components:{FilterInputText:C["a"],KitchenStockDisplayItemRow:x},computed:l()(l()({kid(){return _.toInteger(this.kitchen)}},Object(r["d"])({name:function({kitchens:{data:t}}){return _.get(t,[this.kid,"name"])},stock:function({kitchens:{items:t},items:{data:e}}){return this.filtered(_.map(_.get(t,[this.kid]),(t=>Object.assign({},t,{item:e[t.item]}))))},negative(){return _.sortBy(this.neg,"stock")},least(){return _.sortBy(this.les,"stock")},other(){return _.sortBy(this.oth,"stock")}})),{},{zero(){return this.negative.splice(0,this.negative.length),this.least.splice(0,this.least.length),this.other.splice(0,this.other.length),_(this.stock).filter((t=>0===_.toNumber(t.stock)||(_.toNumber(t.stock)>6?!this.oth.push(t):_.toNumber(t.stock)<0?!this.neg.push(t):_.toNumber(t.stock)>0&&!this.les.push(t)))).sortBy("stock").value()}}),methods:{hKey(t,{id:e,item:s}){return Object(m["d"])("ksd",e,"type",t,"kitchen",this.kid,"item",s.id)},filtered(t){return this.filter?_.filter(t,(t=>Object(m["i"])(t.item,["id","name","detail"],this.filter))):t}}},w=S,K=s("f09f"),Q=s("a370"),D=s("1c1c"),N=Object(p["a"])(w,n,o,!1,null,null,null),O=N.exports;y()(N,"components",{QCard:K["a"],QCardSection:Q["a"],QList:D["a"],QItem:v["a"],QItemSection:b["a"],QItemLabel:g["a"]});var j={name:"PageKitchenStocks",props:["id"],components:{KitchenStocksDisplay:O},computed:{},methods:{}},R=j,z=s("9989"),B=Object(p["a"])(R,i,a,!1,null,null,null);e["default"]=B.exports;y()(B,"components",{QPage:z["a"]})}}]);