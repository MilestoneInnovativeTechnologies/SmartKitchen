(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[67],{"59dd":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("ReportCard",{attrs:{title:"Bill Summary by User Type",head:e.head,index:"",table:e.table,foot:e.foot,right:["Amount","Discount","Payable","Paid","Pending"]}})],1)},s=[],n=a("460a"),l=a("b1c1"),i=a("58d1"),u=(a("8808"),{name:"PageReportBillSummaryUserType",components:{ReportCard:n["a"]},mixins:[i["a"]],computed:{range(){return Object(l["w"])(this.$store.state.public.range)},nature(){return this.$store.state.public.nature},user_role(){return _(this.$store.state.users.data).mapValues("role").value()},head(){return _.zipObject(["Report","Start Date","End Date"],["Bill Summary - User Type",Object(l["y"])("ddd DD/MMM hh:mm",this.range.from),Object(l["y"])("ddd DD/MMM hh:mm",this.range.to)])},range_bills(){return _.filter(this.bills,(({progress:e,date:t})=>"Cancelled"!==e&&Object(l["h"])(t,this.range.from,this.range.to)))},grouped_bills(){return _.groupBy(this.range_bills,(({user:e})=>this.user_role[_.toInteger(_.get(e,"id",e))]))},table(){return _(this.grouped_bills).map(((e,t)=>_.zipObject(["Type","Bills","Amount","Discount","Payable","Paid","Pending"],[t,_.size(e),o(e,"amount"),o(e,"discount"),o(e,"payable"),o(e,"paid"),o(e,"payable")-o(e,"paid")]))).value()},foot(){return _(["Bills","Amount","Discount","Payable","Paid","Pending"]).mapKeys((e=>"Total "+e)).mapValues(((e,t)=>"Total Bills"!==t?Object(l["v"])(_.sumBy(this.table,(t=>_.toNumber(t[e])))):_.sumBy(this.table,(t=>_.toNumber(t[e]))))).value()}}});function o(e,t){return _.sumBy(e,(e=>_.toNumber(_.get(e,t))))}var d=u,p=a("2877"),b=a("9989"),m=a("eebe"),c=a.n(m),h=Object(p["a"])(d,r,s,!1,null,null,null);t["default"]=h.exports;c()(h,"components",{QPage:b["a"]})}}]);