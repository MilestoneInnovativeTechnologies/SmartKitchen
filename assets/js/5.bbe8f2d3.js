(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{dfef:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{attrs:{view:"hhh LpR fFf"}},[a("q-header",{staticClass:"bg-primary text-white",attrs:{reveal:"",elevated:"","height-hint":"98"}},[a("q-toolbar",[a("q-toolbar-title",[e.$store.state.back?a("q-btn",{attrs:{to:e.$store.state.back,flat:"",round:"",dense:"",icon:"arrow_back_ios"}}):e._e(),e._v("\n        "+e._s(e.$store.state.title||e.name)+"\n      ")],1),e.quick_enabled?a("QuickToggle"):e._e(),e.customer_manage?a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"switch_account",to:{name:"customers"}}}):e._e(),a("ManualSync"),a("Logout")],1)],1),a("q-page-container",[a("router-view")],1),a("q-footer",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.footer,expression:"$store.state.footer"}],staticClass:"bg-primary text-white",attrs:{elevated:""}},[a("q-tabs",{attrs:{align:"left"}},[a("q-route-tab",{attrs:{to:{name:"delivery_boy_index"},label:"Home",icon:"home"}}),e.ordering?a("q-route-tab",{attrs:{to:{name:"orders"},label:"Orders",icon:"add_task"}}):e._e(),a("q-route-tab",{attrs:{to:{name:"delivery_boy_completed"},label:"Billable",icon:"receipt",alert:e.billable.length>0&&"red","alert-icon":"new_releases"}}),a("q-route-tab",{attrs:{to:{name:"delivery_boy_payments"},label:"Payments",icon:"account_balance"}})],1)],1)],1)},o=[],n=a("ded3"),s=a.n(n),l=a("ed79"),i=a("9527"),c=a("b1c1"),b=a("2f62"),d=a("7e10");const{RS44Z:u}=a("adfa").FEATURES;var m={name:"DeliveryBoyLayout",components:{QuickToggle:d["a"],Logout:i["a"],ManualSync:l["a"]},data(){return{name:_USER.name,logout:LOGOUT}},computed:s()(s()(s()({},Object(b["d"])("tokens",{tokens:"data",items:"items"})),Object(b["d"])({bills:e=>e.bills.data})),{},{billable(){return _(this.tokens).filter({type:"Home Delivery",progress:"Processing"}).filter((({id:e})=>_.has(this.items,parseInt(e))&&g(this.items[parseInt(e)]))).filter((({id:e})=>!_.find(this.bills,["token",parseInt(e)]))).value()},customer_manage(){return settings("manage_customer",_USER.role)},quick_enabled(){return"Yes"===u&&["order_new"].includes(this.$route.name)},ordering(){return!1!==Object(c["A"])(settings("delivery_boy_take_orders"))}}),watch:{billable(e,t){(!t||e.length>t.length)&&Object(c["b"])()}}};function g(e){return e.length&&_.every(e,(({progress:e})=>_.includes(["Cancelled","Completed","Served"],e)))}var h=m,p=a("2877"),f=a("4d5a"),v=a("e359"),y=a("65c6"),w=a("6ac5"),k=a("9c40"),q=a("09e3"),Q=a("7ff0"),T=a("429b"),O=a("7867"),S=a("eebe"),$=a.n(S),L=Object(p["a"])(h,r,o,!1,null,null,null);t["default"]=L.exports;$()(L,"components",{QLayout:f["a"],QHeader:v["a"],QToolbar:y["a"],QToolbarTitle:w["a"],QBtn:k["a"],QPageContainer:q["a"],QFooter:Q["a"],QTabs:T["a"],QRouteTab:O["a"]})}}]);