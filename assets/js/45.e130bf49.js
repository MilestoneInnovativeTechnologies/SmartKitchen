(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[45],{"1c7d":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",[s("q-card",{staticClass:"q-mt-smq",attrs:{square:""}},[s("q-card-section",{staticClass:"text-center q-py-xs text-white",class:"bg-"+e.clr,staticStyle:{"font-size":"0.75rem"}},[e._v("Total "),s("span",{staticClass:"text-bold"},[e._v(e._s(e.idx))]),e._v(" Payments")]),s("q-card-section",{staticClass:"text-center text-bold text-h2 cursor-pointer",class:"text-"+e.clr,nativeOn:{click:function(t){return e.next(t)}}},[e._v(e._s(e.precision(e.Totals[e.idx]||0)))]),s("q-separator",{directives:[{name:"show",rawName:"v-show",value:e.Showing.length,expression:"Showing.length"}],staticClass:"q-mb-sm"}),s("q-list",{attrs:{separator:""}},e._l(e.Showing,(function(t){return s("q-item",{key:"dbp-"+t.id},[s("q-item-section",{attrs:{avatar:""}},[s("q-avatar",{attrs:{rounded:""}},[s("q-img",{attrs:{src:e.image(t.customer.image)}})],1)],1),s("q-item-section",[s("q-item-label",{staticClass:"text-bold"},[e._v(e._s(t.token)+", "+e._s(t.customer.name))]),s("q-item-label",{attrs:{caption:"",lines:"1"}},[e._v(e._s(t.bill)+" - "+e._s(t.items))]),s("q-item-label",{class:"text-"+e.clr,attrs:{caption:""}},[e._v(e._s(t.type)+" Payment")])],1),s("q-item-section",{attrs:{side:""}},[s("q-item-label",{staticClass:"text-bold",class:"text-"+e.clr},[e._v(e._s(e.precision(t.amount)))])],1)],1)})),1),s("q-separator",{directives:[{name:"show",rawName:"v-show",value:e.more,expression:"more"}]}),s("q-card-actions",{directives:[{name:"show",rawName:"v-show",value:e.more,expression:"more"}],staticClass:"q-px-none"},[s("q-btn",{staticClass:"full-width",attrs:{label:"Load More",flat:"",dense:"",color:"amber"},on:{click:function(t){e.page++}}})],1),s("q-card-section",{directives:[{name:"show",rawName:"v-show",value:!e.more,expression:"!more"}],staticClass:"q-py-xs",class:"bg-"+e.clr})],1)],1)},i=[],r=(s("5db7"),s("26e9"),s("73d9"),s("58d1")),n=s("b1c1"),o=s("232e"),l={name:"DeliveryBoyPayments",mixins:[r["a"]],data(){return{me:parseInt(this.$route.meta.me.id),mode:0,page:1}},computed:{Bills(){return _(this.bills).filter((({date:e,progress:t,token:{type:s}})=>"Home Delivery"===s&&["Partial","Paid"].includes(t)&&Object(n["n"])(e))).filter(["user.id",this.me]).value()},Payments(){return _(this.Bills).flatMap((e=>_.map(e.payments,(t=>"Active"===t.status?Object.assign({},t,{token:e.token.id,customer:e.customer,items:c(e.token.items)}):null)))).sortBy("id").reverse().groupBy("type").value()},Totals(){return _.mapValues(this.Payments,(e=>_.sumBy(e,(e=>_.toNumber(e.amount)))))},idx(){return o["PaymentsTypes"][this.mode%o["PaymentsTypes"].length]},Showing(){return _.take(this.Payments[this.idx],10*this.page)},more(){return _.size(_.get(this.Payments,this.idx,[]))>this.Showing.length},clr(){return o["PaymentsTypeColors"][this.idx]}},methods:{image:n["h"],precision:n["y"],next(){this.page=1,this.mode++}}};function c(e){return _.map(e,(e=>_.get(e,["item","name"]))).join(", ")}var m=l,d=s("2877"),u=s("9989"),p=s("f09f"),h=s("a370"),v=s("eb85"),b=s("1c1c"),x=s("66e5"),y=s("4074"),g=s("cb32"),q=s("068f"),w=s("0170"),f=s("4b7e"),C=s("9c40"),P=s("eebe"),Q=s.n(P),k=Object(d["a"])(m,a,i,!1,null,null,null);t["default"]=k.exports;Q()(k,"components",{QPage:u["a"],QCard:p["a"],QCardSection:h["a"],QSeparator:v["a"],QList:b["a"],QItem:x["a"],QItemSection:y["a"],QAvatar:g["a"],QImg:q["a"],QItemLabel:w["a"],QCardActions:f["a"],QBtn:C["a"]})}}]);