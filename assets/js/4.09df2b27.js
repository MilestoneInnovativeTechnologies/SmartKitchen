(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{dfef:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{attrs:{view:"hhh LpR fFf"}},[a("q-header",{staticClass:"bg-primary text-white",attrs:{reveal:"",elevated:"","height-hint":"98"}},[a("q-toolbar",[a("q-toolbar-title",[e.$store.state.back?a("q-btn",{attrs:{to:e.$store.state.back,flat:"",round:"",dense:"",icon:"arrow_back_ios"}}):e._e(),e._v("\n        "+e._s(e.$store.state.title||e.name)+"\n      ")],1),e.quick_enabled?a("QuickToggle"):e._e(),e.customer_manage?a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"switch_account",to:{name:"customers"}}}):e._e(),a("ManualSync"),a("Logout")],1)],1),a("q-page-container",[a("router-view")],1),a("q-footer",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.footer,expression:"$store.state.footer"}],staticClass:"bg-primary text-white",attrs:{elevated:""}},[a("q-tabs",{attrs:{align:"left"}},[a("q-route-tab",{attrs:{to:{name:"delivery_boy_index"},label:"Home",icon:"home"}}),e.ordering?a("q-route-tab",{attrs:{to:{name:"orders"},label:"Orders",icon:"add_task"}}):e._e(),a("q-route-tab",{attrs:{to:{name:"delivery_boy_completed"},label:"Billable",icon:"receipt",alert:e.billable.length>0&&"red","alert-icon":"new_releases"}}),a("q-route-tab",{attrs:{to:{name:"delivery_boy_billed"},label:"Deliverable",icon:"local_shipping",alert:e.deliverable.length>0&&"red","alert-icon":"new_releases"}}),a("q-route-tab",{attrs:{to:{name:"delivery_boy_payments"},label:"Payments",icon:"account_balance"}})],1)],1)],1)},o=[],l=a("ed79"),n=a("9527"),s=a("b1c1"),i=a("7e10"),c=a("58d1");const{RS44Z:d}=a("adfa").FEATURES;var u={name:"DeliveryBoyLayout",components:{QuickToggle:i["a"],Logout:n["a"],ManualSync:l["a"]},mixins:[c["a"]],data(){return{name:_USER.name,logout:LOGOUT}},computed:{hide_others(){return!0===Object(s["A"])(settings("delivery_boy_hide_others_billed"))},billable(){return _(this.tokens).filter((e=>"Home Delivery"===e.type&&b(e.items))).filter((e=>!_.includes(this.$store.getters["tokens/billed"],e.id))).value()},deliverable(){return _(this.bills).filter((e=>["Pending","Partial"].includes(e.progress)&&"Home Delivery"===e.token.type)).filter((e=>!this.hide_others||m(e,this.$route.meta.me.id))).value()},customer_manage(){return settings("manage_customer",_USER.role)},quick_enabled(){return"Yes"===d&&["order_new"].includes(this.$route.name)},ordering(){return!1!==Object(s["A"])(settings("delivery_boy_take_orders"))}},watch:{billable(e,t){(!t||e.length>t.length)&&Object(s["b"])()}}};function b(e){return e.length&&_.every(e,(({progress:e})=>_.includes(["Cancelled","Completed","Served"],e)))}function m({user:e},t){return e&&e.id===t}var h=u,g=a("2877"),v=a("4d5a"),y=a("e359"),p=a("65c6"),f=a("6ac5"),w=a("9c40"),q=a("09e3"),k=a("7ff0"),Q=a("429b"),T=a("7867"),$=a("eebe"),O=a.n($),S=Object(g["a"])(h,r,o,!1,null,null,null);t["default"]=S.exports;O()(S,"components",{QLayout:v["a"],QHeader:y["a"],QToolbar:p["a"],QToolbarTitle:f["a"],QBtn:w["a"],QPageContainer:q["a"],QFooter:k["a"],QTabs:Q["a"],QRouteTab:T["a"]})}}]);