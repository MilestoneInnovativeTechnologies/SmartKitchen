(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[34],{ada9:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",[s("FilterInputText",{staticClass:"q-ma-md",on:{text:function(e){t.filter=e}}}),s("q-list",{attrs:{separator:""}},t._l(t.showing,(function(e,o){return s("q-item",{key:t.h_key("ao-o-",e.id),attrs:{clickable:""},on:{click:function(e){t.show=(t.selected=o,!0)}}},[s("q-item-section",{attrs:{avatar:""}},[s("q-badge",{staticClass:"q-pa-sm",staticStyle:{"font-size":"0.65rem"},attrs:{color:t.color,label:e.id}})],1),s("ItemDetailStackLeft",{staticClass:"col-grow q-mt-sm",attrs:{color:t.color,label:e.date_human}},[t._v(t._s(e.customer?e.customer.name:""))]),s("ItemDetailStackLeft",{staticClass:"q-mt-sm",attrs:{color:t.color,label:e.type}},[t._v(t._s(t.items(e)))]),s("ItemDetailStackLeft",{staticClass:"q-mt-sm",attrs:{color:t.color,label:"Amount"}},[t._v(t._s(t.amount(e)))]),s("q-item-section",{staticClass:"text-right text-italic",class:"text-"+t.color,staticStyle:{"font-size":"0.75rem"}},[t._v(t._s(e.progress))])],1)})),1),s("q-dialog",{attrs:{persistent:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t.Token?s("ArchiveTokenDetail",{staticStyle:{"min-width":"80vw"},attrs:{token:t.Token,color:t.color,print_label:"Print KOT"},on:{print:function(e){return t.print(t.Token)}}}):t._e()],1),s("Pagination",{attrs:{records:t.Tokens,color:t.color},model:{value:t.showing,callback:function(e){t.showing=e},expression:"showing"}})],1)},a=[],n=(s("26e9"),s("5843")),i=s("18cd"),l=s("3758"),r=s("b1c1"),c=s("1799"),m=s("5ab9"),u={name:"PageArchiveTokens",components:{FilterInputText:m["a"],Pagination:c["a"],ItemDetailStackLeft:n["a"],ArchiveTokenDetail:i["a"]},mixins:[l["a"]],data(){return{color:"deep-purple",selected:null,show:!1,filter:"",showing:null}},computed:{AllTokens(){return _(this.tokens).filter((({type:t,id:e})=>"Remote"!==t||this.$store.getters["remote/is"]("tokens",e))).map((t=>Object.assign({},t,{slug:p(t)}))).sortBy((({date:t})=>Object(r["d"])(t).getTime())).reverse().value()},Tokens(){return this.filter?_.filter(this.AllTokens,(({slug:t})=>_.includes(t,this.filter.toLowerCase()))):this.AllTokens},Token(){return null===this.selected?null:this.showing[this.selected]}},methods:{h_key:r["e"],items({items:t}){return _.truncate(_.map(t,(({item:{name:t}})=>_.truncate(t,{length:13,omission:".."}))).join(", "),{length:64,omission:" etc"})},amount({items:t}){return _.round(_(t).map((({price:t,quantity:e})=>t*e)).sum(),2)},print({id:t}){post("token","kot_print",{id:t})}}};function p({id:t,customer:e,type:s}){return[t,_.get(e,"name"),s].join(" ").toLowerCase()}var h=u,d=s("2877"),k=s("9989"),g=s("1c1c"),f=s("66e5"),w=s("4074"),b=s("58a8"),v=s("24e8"),T=s("eebe"),q=s.n(T),y=Object(d["a"])(h,o,a,!1,null,null,null);e["default"]=y.exports;q()(y,"components",{QPage:k["a"],QList:g["a"],QItem:f["a"],QItemSection:w["a"],QBadge:b["a"],QDialog:v["a"]})}}]);