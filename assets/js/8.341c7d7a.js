(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"43fa":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-img",{attrs:{basic:"",src:t.image}},[t.title?n("div",{staticClass:"absolute-bottom text-subtitle2 text-center",domProps:{textContent:t._s(t.title)}}):t._e(),void 0!==t.info?n("span",{staticClass:"absolute-top-right bg-transparent q-pr-xs q-pt-xs"},[n("q-btn",{staticStyle:{transform:"rotate(180deg)"},attrs:{icon:"error_outline",flat:"",round:"",padding:"0",size:"md",color:"white",dense:""},on:{click:function(e){return e.stopPropagation(),t.$emit("info",!0)}}})],1):t._e()])},s=[],i={name:"CardImageTitle",props:["image","title","info"]},r=i,o=n("2877"),c=n("068f"),u=n("9c40"),l=n("eebe"),m=n.n(l),d=Object(o["a"])(r,a,s,!1,null,null,null);e["a"]=d.exports,m()(d,"components",{QImg:c["a"],QBtn:u["a"]})},b1c1:function(t,e,n){"use strict";function a(){return Array.from(arguments).join("-")}function s(t){return _.assign({},t,{label:[t.name,t.phone].join(", ")})}function i(t){return _(t).map(s).value()}function r(t,e){return _.toNumber(t).toFixed(e||2)}function o(t,e,n){let a=_.map(e,(e=>t[e])).join(n||",");return _.assign({},t,{label:a})}function c(t,e,n){return _.map(t,(t=>o(t,e,n||", ")))}function u(t,e,n){return _.includes(_.values(_.pick(t,e)).join(" ").toLowerCase(),n.toString().toLowerCase())}n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return i})),n.d(e,"f",(function(){return r})),n.d(e,"e",(function(){return c})),n.d(e,"b",(function(){return u})),n("ddb0")},ef34:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{attrs:{padding:""}},[n("WaiterMenuManage",{staticClass:"q-mx-auto",staticStyle:{"max-width":"360px",width:"90vw"}})],1)},s=[],i=n("ded3"),r=n.n(i),o=n("2f62"),c=n("b1c1"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",[n("q-list",t._l(t.menus,(function(e){return n("q-expansion-item",{key:t.hKey(e),attrs:{"switch-toggle-side":"","expand-icon-toggle":"","dense-toggle":""},on:{"before-show":function(n){return t.populate(e)}},scopedSlots:t._u([{key:"header",fn:function(){return[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",[n("img",{attrs:{src:"https://cdn.quasar.dev/img/boy-avatar.png"}})])],1),n("q-item-section",[n("q-item-label",[t._v(t._s(e.name))]),n("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.detail))])],1),n("q-item-section",{staticStyle:{cursor:"pointer"},attrs:{side:""},on:{click:function(n){return t.toggle(e)}}},[n("q-icon",{attrs:{size:"lg",name:"toggle_"+(t.is_selected(e)?"on":"off"),color:t.is_selected(e)?"positive":"grey"}})],1)]},proxy:!0}],null,!0)},[n("q-card",[n("q-card-section",[n("q-list",{attrs:{dense:"",separator:""}},t._l(t.m_groups,(function(a,s,i){return n("q-item",{key:"waiter-menu-manage-menu-"+e.id+"-group-"+a.id+"-view",attrs:{dense:""}},[n("q-item-section",{attrs:{avatar:""}},[t._v(t._s(i+1))]),n("q-item-section",[n("q-item-label",[t._v(t._s(a.name))]),n("q-item-label",{attrs:{caption:"",lines:"3"}},[t._v("Items: "+t._s(a.items.length)+" - "+t._s(t.m_items[a.id]))])],1)],1)})),1)],1)],1)],1)})),1)],1)},l=[],m=n("43fa"),d={name:"WaiterMenuManage",components:{CardImageTitle:m["a"]},data(){return{m_groups:{},m_items:{}}},computed:r()(r()(r()({},Object(o["c"])("menus",{menus:"data",selected:"s_items"})),Object(o["c"])("groups",{groups:"data"})),Object(o["c"])("items",{items:"data"})),methods:{is_selected({id:t}){return this.selected.includes(t)},hKey({id:t}){return Object(c["a"])("waiter","menu","manage",t)},toggle({id:t}){this.$store.dispatch("menus/toggle",t)},populate({id:t}){this.m_groups=_.pick(this.groups,this.menus[t].groups),this.m_items=_.mapValues(this.m_groups,(({items:t})=>_.map(t,(t=>_.truncate(this.items[t].name,{length:7,omission:"..."}))).join(", ")))}}},p=d,g=n("2877"),f=n("f09f"),b=n("1c1c"),h=n("3b73"),q=n("4074"),v=n("cb32"),w=n("0170"),x=n("0016"),j=n("a370"),y=n("66e5"),Q=n("eebe"),C=n.n(Q),I=Object(g["a"])(p,u,l,!1,null,null,null),k=I.exports;C()(I,"components",{QCard:f["a"],QList:b["a"],QExpansionItem:h["a"],QItemSection:q["a"],QAvatar:v["a"],QItemLabel:w["a"],QIcon:x["a"],QCardSection:j["a"],QItem:y["a"]});var O={name:"PageWaiterIndex",components:{WaiterMenuManage:k},computed:r()({},Object(o["c"])("menus",{menus:"data",selected:"s_items"})),methods:{hKey(t,e){return Object(c["a"])("waiter","menu",t,e)}}},S=O,M=n("9989"),$=Object(g["a"])(S,a,s,!1,null,null,null);e["default"]=$.exports,C()($,"components",{QPage:M["a"]})}}]);