(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[37],{e59f:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("Masonry",{attrs:{width:"400",items:t.kitchens},scopedSlots:t._u([{key:"item",fn:function(i){return[e("KitchenActionsView",{attrs:{id:i.id,me:t.me}})]}}])})],1)},n=[],a=i("2f62"),r=i("b1c1"),c=function(){var t=this,e=t._self._c;return e("q-card",[e("q-card-section",{staticClass:"row justify-between q-pb-none"},[e("div",{staticClass:"text-h6"},[t._v(t._s(t.kitchen.name))]),e("q-icon",{staticClass:"cursor-pointer",attrs:{size:"lg",name:"toggle_"+(t.is_in?"on":"off"),color:t.is_in?"positive":"grey"},on:{click:function(e){return t.toggle(t.kitchen)}}})],1),e("q-card-section",{attrs:{horizontal:""}},[e("CardImageTitle",{staticClass:"col",attrs:{image:t.image}}),e("q-card-actions",{staticClass:"flex-center q-gutter-y-sm",attrs:{vertical:""}},[e("q-btn",{attrs:{align:"left",dense:"",color:"red",icon:"insights",label:"Add/Remove Manage Items",size:"sm",padding:"sm md",to:{name:"kitchen_items",params:{id:t.id}}}}),e("q-btn",{attrs:{align:"left",dense:"",color:"accent",icon:"device_hub",label:"View Manage Stock",size:"sm",padding:"sm md",to:{name:"kitchen_stocks",params:{id:t.id}}}}),e("q-select",{attrs:{label:"Auto Accept",options:["Yes","No"],outlined:"",dense:"",value:t.kitchen.auto_accept,color:"green-8"},on:{input:t.auto}}),e("q-input",{attrs:{label:"Printer",outlined:"",dense:"",debounce:"1500"},model:{value:t.printer,callback:function(e){t.printer=e},expression:"printer"}}),e("q-badge",{staticClass:"q-py-sm",attrs:{label:"Online Chefs: "+t.chefs.length,color:"positive",outline:""}}),t.full_timer?[t.full_timer.id===t.me?e("q-btn",{attrs:{align:"left",dense:"",color:"secondary",icon:"work_off",size:"sm",padding:"sm md",label:"Remove me as Full Timer"},on:{click:function(e){return t.full_time(!1)}}}):e("q-badge",{staticClass:"q-py-sm",attrs:{label:"Full Timer: "+t.full_timer.name,color:"secondary",outline:""}})]:e("q-btn",{attrs:{align:"left",dense:"",color:"secondary",icon:"view_in_ar",size:"sm",padding:"sm md",label:"Set me as Full Timer"},on:{click:function(e){return t.full_time(!0)}}})],2)],1),t.kitchen.detail?e("q-card-section",{staticStyle:{"font-size":"0.75rem"}},[t._v(t._s(t.kitchen.detail))]):t._e(),e("q-inner-loading",{attrs:{showing:t.loading}},[e("q-spinner-dots",{attrs:{size:"50px",color:"primary"}})],1)],1)},o=[],l=(i("caad"),i("43fa")),d={name:"KitchenActionsView",components:{CardImageTitle:l["a"]},data(){return{loading:!1}},props:["id","me"],computed:{...Object(a["d"])("kitchens",{kitchens:"data",status:"status"}),...Object(a["d"])("users",{users:"data"}),...Object(a["b"])("kitchens",["assign"]),intID(){return _.toInteger(this.id)},is_in(){return this.assign&&_.has(this.assign,this.me)&&_.includes(this.assign[this.me],this.intID)},kitchen(){return this.kitchens[this.intID]},image(){return Object(r["i"])(this.kitchen.image)},chefs(){return _.get(this.status,[this.intID,"users"],[])},full_timer(){return _.get(this.users,_.get(this.status,[this.intID,"full_timer"],null),null)},printer:{get(){return _.get(this.status,[this.intID,"printer"],"")},set(t){this.loading=!0,this.$store.dispatch("kitchens/printer",{id:this.intID,printer:t}).then((()=>this.loading=!1))}}},methods:{toggle({id:t}){this.loading=!0,this.$store.dispatch("kitchens/chef",{kitchen:t}).then((()=>this.loading=!1))},auto(t){this.loading=!0,this.$store.dispatch("kitchens/auto",{id:this.intID,auto_accept:t}).then((()=>this.loading=!1))},full_time(t){this.loading=!0,post("kitchen","full_timer",{kitchen:this.intID,user:this.me,status:t}).then((()=>this.loading=!1))}}},h=d,u=i("2877"),m=i("f09f"),g=i("a370"),p=i("0016"),f=i("4b7e"),k=i("9c40"),b=i("ddd8"),q=i("27f9"),v=i("58a8"),w=i("74f7"),I=i("8380"),y=i("eebe"),C=i.n(y),Q=Object(u["a"])(h,c,o,!1,null,null,null),D=Q.exports;C()(Q,"components",{QCard:m["a"],QCardSection:g["a"],QIcon:p["a"],QCardActions:f["a"],QBtn:k["a"],QSelect:b["a"],QInput:q["a"],QBadge:v["a"],QInnerLoading:w["a"],QSpinnerDots:I["a"]});var j=i("c624"),O={name:"PageChefKitchens",components:{Masonry:j["a"],KitchenActionsView:D},data(){return{split:70,height:75,me:_USER.id}},computed:{...Object(a["b"])("kitchens",{kitchens:"non_remote"})},methods:{hKey({id:t},e){return Object(r["e"])("ckv","kitchen",e,t)},assign({id:t}){this.$store.dispatch("kitchens/chef",{kitchen:t})}}},z=O,S=i("9989"),A=Object(u["a"])(z,s,n,!1,null,null,null);e["default"]=A.exports;C()(A,"components",{QPage:S["a"]})}}]);