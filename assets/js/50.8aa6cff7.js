(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[50],{cf59:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{attrs:{padding:""}},[i("div",{staticClass:"q-mx-auto",staticStyle:{width:"90vw"}},[i("KitchenStocksDisplay",{staticClass:"q-mb-sm",attrs:{kitchen:t.id}})],1)])},a=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-card",[i("q-card-section",{staticClass:"bg-grey-2"},[i("div",{staticClass:"text-h6"},[t._v("Stock: "+t._s(t.name))])]),i("q-list",{attrs:{separator:""}},[i("q-item",{staticClass:"text-bold"},[i("q-item-section",{attrs:{avatar:""}},[i("q-item-label",[t._v("#")])],1),i("q-item-section",[i("q-item-label",[t._v("Item")])],1),i("q-item-section",[i("q-item-label",[t._v("Stock")])],1)],1),i("q-item",[i("q-item-section",[i("FilterInputText",{attrs:{label:"Filter"},on:{text:function(e){t.filter=e}}})],1)],1),i("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[i("div",{staticClass:"text-bold"},[t._v("Zero Stock Items")])]),0===t.zero.length?i("q-item",{attrs:{dense:""}},[i("div",{staticClass:"text-italic"},[t._v("No Items")])]):t._l(t.zero,(function(e,s){return i("KitchenStockDisplayItemRow",{key:t.hKey("zero",e),attrs:{no:s+1,id:e.id,stock:e.stock,name:e.item.name}})})),i("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[i("div",{staticClass:"text-bold"},[t._v("Negative Stock Items")])]),0===t.negative.length?i("q-item",{attrs:{dense:""}},[i("div",{staticClass:"text-italic"},[t._v("No Items")])]):t._l(t.negative,(function(e,s){return i("KitchenStockDisplayItemRow",{key:t.hKey("negative",e),attrs:{no:s+1,id:e.id,stock:e.stock,name:e.item.name}})})),i("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[i("div",{staticClass:"text-bold"},[t._v("Least Stock Items")])]),0===t.least.length?i("q-item",{attrs:{dense:""}},[i("div",{staticClass:"text-italic"},[t._v("No Items")])]):t._l(t.least,(function(e,s){return i("KitchenStockDisplayItemRow",{key:t.hKey("least",e),attrs:{no:s+1,id:e.id,stock:e.stock,name:e.item.name}})})),i("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[i("div",{staticClass:"text-bold"},[t._v("Other Items")])]),0===t.other.length?i("q-item",{attrs:{dense:""}},[i("div",{staticClass:"text-italic"},[t._v("No Items")])]):t._l(t.other,(function(e,s){return i("KitchenStockDisplayItemRow",{key:t.hKey("other",e),attrs:{no:s+1,id:e.id,stock:e.stock,name:e.item.name}})}))],2)],1)},c=[],o=i("ded3"),l=i.n(o),r=i("2f62"),m=i("b1c1"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-item",[i("q-item-section",{attrs:{avatar:""}},[t._v(t._s(t.no))]),i("q-item-section",[i("q-item-label",[t._v(t._s(t.name))])],1),i("q-item-section",[i("q-input",{attrs:{outlined:"",dense:"",debounce:1200},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)},u=[],h={name:"KitchenStockDisplayItemRow",props:["id","no","name","stock"],computed:{value:{get(){return this.stock},set(t){this.update(this.id,t)}}},methods:{update(t,e){post("kitchen","item",{id:t,stock:e})}}},k=h,v=i("2877"),p=i("66e5"),b=i("4074"),f=i("0170"),q=i("27f9"),y=i("eebe"),g=i.n(y),I=Object(v["a"])(k,d,u,!1,null,null,null),C=I.exports;g()(I,"components",{QItem:p["a"],QItemSection:b["a"],QItemLabel:f["a"],QInput:q["a"]});var S=i("5ab9"),x={name:"KitchenStockDisplay",props:["kitchen"],data(){return{filter:"",limit:6}},components:{FilterInputText:S["a"],KitchenStockDisplayItemRow:C},computed:l()(l()({kid(){return _.toInteger(this.kitchen)}},Object(r["d"])({name:function({kitchens:{data:t}}){return _.get(t,[this.kid,"name"])},stock:function({kitchens:{items:t},items:{data:e}}){return this.filtered(_.map(_.get(t,[this.kid]),(t=>Object.assign({},t,{item:e[t.item]}))))}})),{},{negative(){return _(this.stock).filter((t=>1===K(t,this.limit))).sortBy("stock").value()},zero(){return _(this.stock).filter((t=>2===K(t,this.limit))).sortBy("stock").value()},least(){return _(this.stock).filter((t=>3===K(t,this.limit))).sortBy("stock").value()},other(){return _(this.stock).filter((t=>4===K(t,this.limit))).sortBy("stock").value()}}),methods:{hKey(t,{id:e,item:i}){return Object(m["e"])("ksd",e,"type",t,"kitchen",this.kid,"item",i.id)},filtered(t){return this.filter?_.filter(t,(t=>Object(m["r"])(t.item,["id","name","detail"],this.filter))):t}}};function K({stock:t},e){let i=_.toNumber(t);return i<0?1:0===i?2:i<e?3:4}var w=x,Q=i("f09f"),D=i("a370"),O=i("1c1c"),j=Object(v["a"])(w,n,c,!1,null,null,null),N=j.exports;g()(j,"components",{QCard:Q["a"],QCardSection:D["a"],QList:O["a"],QItem:p["a"],QItemSection:b["a"],QItemLabel:f["a"]});var R={name:"PageKitchenStocks",props:["id"],components:{KitchenStocksDisplay:N}},z=R,B=i("9989"),L=Object(v["a"])(z,s,a,!1,null,null,null);e["default"]=L.exports;g()(L,"components",{QPage:B["a"]})}}]);