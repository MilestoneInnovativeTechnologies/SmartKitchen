(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{7711:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{attrs:{view:"hhh LpR fFf"}},[a("q-header",{staticClass:"bg-primary text-white",attrs:{reveal:"",elevated:"","height-hint":"98"}},[a("q-toolbar",[a("q-toolbar-title",[e.$store.state.back?a("q-btn",{attrs:{to:e.$store.state.back,flat:"",round:"",dense:"",icon:"arrow_back_ios"}}):e._e(),e._v("\n        "+e._s(e.$store.state.title||e.receptionist)+"\n      ")],1),e.quick_enabled?a("QuickToggle"):e._e(),a("q-btn",{staticClass:"lt-md",attrs:{flat:"",round:"",dense:"",icon:"archive",to:{name:"archives"}}}),a("q-btn",{staticClass:"lt-md",attrs:{flat:"",round:"",dense:"",icon:"batch_prediction",to:{name:"seat_status"}}}),e.item_create?a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"auto_awesome"},on:{click:function(t){e.create_item=!0}}}):e._e(),e.customer_manage?a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"switch_account",to:{name:"customers"}}}):e._e(),a("q-btn",{staticClass:"lt-sm",attrs:{flat:"",round:"",dense:"",icon:"receipt_long",to:{name:"bills"}}},[a("q-badge",{directives:[{name:"show",rawName:"v-show",value:e.completed.length>0,expression:"completed.length>0"}],attrs:{color:"red",label:e.completed.length,transparent:"",floating:""}})],1),a("q-btn",{attrs:{flat:"",round:"",dense:"",label:"---",disable:!0,color:"primary"}}),a("ManualSync"),a("Logout")],1)],1),a("q-page-container",[a("router-view"),a("q-dialog",{attrs:{persistent:""},model:{value:e.create_item,callback:function(t){e.create_item=t},expression:"create_item"}},[a("InstantItemCreateCard",{style:e.popup_width()})],1)],1),a("q-footer",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.footer,expression:"$store.state.footer"}],staticClass:"bg-primary text-white",attrs:{elevated:""}},[a("q-tabs",{attrs:{align:"left"}},[a("q-route-tab",{attrs:{exact:"",to:{name:"receptionist_index"},label:"Home",icon:"home"}}),a("q-route-tab",{staticClass:"gt-sm",attrs:{to:{name:"seat_status"},label:"Seating",icon:"batch_prediction"}}),a("q-route-tab",{staticClass:"gt-sm",attrs:{to:{name:"archives"},label:"Archive",icon:"archive"}}),a("q-route-tab",{staticClass:"gt-xs",attrs:{to:{name:"bills"},label:"Bills",icon:"receipt_long",alert:e.alert||e.completed.length>0,"alert-icon":"new_releases"}}),e.sale_enabled?a("q-route-tab",{attrs:{to:{name:"sale"},label:"Sale",icon:"shopping_cart"}}):e._e(),e.take_away_manage?a("q-route-tab",{attrs:{to:{name:"take_away"},label:"Take Away",icon:"emoji_people"}}):e._e(),a("q-route-tab",{attrs:{to:{name:"orders"},label:"Orders",icon:"add_task"}}),e.remote_manage?a("q-route-tab",{attrs:{to:{name:"orders_remote"},label:"Remote",icon:"online_prediction"}}):e._e(),e.online?a("q-route-tab",{attrs:{to:{name:"orders_online"},label:"Online",icon:"settings_input_antenna"}}):e._e()],1)],1)],1)},n=[],r=(a("498a"),a("ded3")),i=a.n(r),o=a("ed79"),l=a("2f62"),c=a("b1c1"),d=a("9527"),u=a("7e10"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",[a("q-card-section",{staticClass:"row items-center justify-between bg-light-blue text-white q-py-sm"},[a("div",{staticClass:"text-bold"},[e._v("Add New Item")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",color:"white",flat:"",rounded:"",dense:""}})],1),a("q-card-section",{staticClass:"q-gutter-y-xs"},[a("q-input",{attrs:{outlined:"",dense:"",label:"Item Name"},model:{value:e.params.name,callback:function(t){e.$set(e.params,"name",t)},expression:"params.name"}}),a("q-select",{attrs:{options:e.groups,outlined:"",dense:"",label:"Select Group"},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}}),a("q-select",{attrs:{options:e.kitchens,outlined:"",dense:"",label:"Select Kitchen"},model:{value:e.kitchen,callback:function(t){e.kitchen=t},expression:"kitchen"}}),a("div",{staticClass:"row q-col-gutter-xs q-mt-xs"},e._l(e.plists,(function(t){return a("div",{key:"iicc-pl-"+t.id,staticClass:"col-6"},[a("q-input",{attrs:{type:"number",outlined:"",dense:"",label:t.name},model:{value:e.params.prices[t.id],callback:function(a){e.$set(e.params.prices,t.id,e._n(a))},expression:"params.prices[pl.id]"}})],1)})),0)],1),a("q-card-actions",{staticClass:"bg-grey-1",attrs:{align:"right"}},[a("q-btn",{attrs:{loading:e.loading,label:"Save",color:"primary"},on:{click:e.save}})],1)],1)},p=[],b={name:"InstantItemCreateCard",data(){return{params:{name:"",group:null,prices:{},kitchen:null},group:null,kitchen:null,loading:!1}},computed:{groups(){return Object(c["x"])(this.$store.state.groups.data,["name"],",")},kitchens(){return Object(c["x"])(this.$store.state.kitchens.data,["name"],",")},plists(){return this.$store.state.prices.list}},methods:{save(){if(this.loading=!0,!this.params.name||!this.params.group||!this.params.kitchen)return this.loading=!1;post("item","instant",this.params).then((()=>{this.loading=!1,this.$store.commit("public",{item_create:!1})}))}},watch:{group(e){this.params.group=e?e.id:null},kitchen(e){this.params.kitchen=e?e.id:null}},created(){this.params.prices=Object.assign({},this.params.prices,_(this.plists).mapKeys((e=>_.toInteger(e.id))).mapValues((()=>0)).value()),this.group=_.first(this.groups),this.kitchen=_.first(this.kitchens)}},h=b,g=a("2877"),f=a("f09f"),q=a("a370"),w=a("9c40"),k=a("27f9"),v=a("ddd8"),C=a("4b7e"),y=a("7f67"),x=a("eebe"),Q=a.n(x),$=Object(g["a"])(h,m,p,!1,null,null,null),O=$.exports;Q()($,"components",{QCard:f["a"],QCardSection:q["a"],QBtn:w["a"],QInput:k["a"],QSelect:v["a"],QCardActions:C["a"]}),Q()($,"directives",{ClosePopup:y["a"]});const{GH75F:j,GH56E:S,CC71V:T,DP71V:I,KK99V:B,CZ03Y:R,RS44Z:Y,NA57A:A}=a("adfa").FEATURES;var E={name:"ReceptionistLayout",components:{InstantItemCreateCard:O,QuickToggle:u["a"],Logout:d["a"],ManualSync:o["a"]},data(){return{receptionist:_USER.name,logout:LOGOUT,alert:!1,online_enabled:"Yes"===j&&"Yes"===S,remote_enabled:"Yes"===T&&""!==_.trim(I),sale_enabled:"Yes"===R,take_away_enabled:"Yes"===A}},computed:i()(i()({},Object(l["d"])("tokens",{completed({data:e}){return _.filter(e,(({progress:e})=>["Completed"].includes(e)))}})),{},{online(){return this.online_enabled&&!1!==Object(c["B"])(settings("online_order_waiter_handle"))},customer_manage(){return settings("manage_customer",_USER.role)},item_create(){return!0===Object(c["B"])(settings("instant_item_create"))},remote_manage(){return this.remote_enabled&&"Yes"===B&&!1!==Object(c["B"])(settings("receptionist_remote_orders"))},quick_enabled(){return"Yes"===Y&&["order_new","sale"].includes(this.$route.name)},take_away_manage(){return this.take_away_enabled&&!1!==Object(c["B"])(settings("take_away_receptionist_handle"))},create_item:{get(){return _.get(this.$store.state,["public","item_create"],!1)},set(e){this.$store.commit("public",{item_create:e})}}}),methods:{popup_width:c["y"]},watch:{completed(e,t){(!t||e.length>t.length)&&(Object(c["b"])(),this.alert="amber",setTimeout((e=>e.alert=!1),15e3,this))}}},L=E,N=a("4d5a"),F=a("e359"),G=a("65c6"),H=a("6ac5"),K=a("58a8"),U=a("09e3"),V=a("24e8"),P=a("7ff0"),D=a("429b"),J=a("7867"),M=Object(g["a"])(L,s,n,!1,null,null,null);t["default"]=M.exports;Q()(M,"components",{QLayout:N["a"],QHeader:F["a"],QToolbar:G["a"],QToolbarTitle:H["a"],QBtn:w["a"],QBadge:K["a"],QPageContainer:U["a"],QDialog:V["a"],QFooter:P["a"],QTabs:D["a"],QRouteTab:J["a"]})}}]);