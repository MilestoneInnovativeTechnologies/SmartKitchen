(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[64],{ad08:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[t.type?a("ReportCard",{attrs:{title:"Payments by Type",head:t.head,index:"",table:t.table,foot:t.foot,center:["Token/Bill"],right:["Bill Amount","Paid Amount","Balance"]}}):a("div",{staticClass:"text-center"},[t._v("Select Payment Type")])],1)},i=[],r=(a("5db7"),a("73d9"),a("460a")),s=a("b1c1"),o=a("58d1"),l={name:"ReportBillPaymentsType",components:{ReportCard:r["a"]},mixins:[o["a"]],computed:{range(){return Object(s["z"])(this.$store.state.public.range)},type(){return this.$store.state.public.payment_type},head(){return _.zipObject(["Report","Payment Type","Date From","Date To"],["Payments",this.type,Object(s["D"])("ddd - Do MMM hh:ii A",this.range.from),Object(s["D"])("ddd - Do MMM hh:ii A",this.range.to)])},date_bills(){return _(this.bills).filter((({progress:t,payments:e})=>"Cancelled"!==t&&e.length&&p(e,this.range.from,this.range.to))).value()},payments(){return _(this.date_bills).flatMap((t=>_.map(t.payments,(e=>Object.assign({},e,{bill:t}))))).filter((({date:t,type:e,status:a})=>"Active"===a&&e===this.type&&Object(s["i"])(t,this.range.from,this.range.to))).sortBy((({date:t})=>Object(s["d"])(t).getTime())).value()},table(){return _(this.payments).map((({id:t,date:e,bill:a,amount:n})=>_.zipObject(["ID","Time","Token/Bill","Customer","Bill Amount","Paid Amount","Balance"],[t,Object(s["f"])(e,!0),`${a.token.id}/${t}`,_.get(a,["customer","name"]),Object(s["y"])(_.get(a,["payable"])),Object(s["y"])(n),_.toNumber(_.get(a,["payable"]))-_.toNumber(n)]))).value()},foot(){return _.zipObject(["Payments","Amount"],[_.size(this.table),_.sumBy(this.table,(t=>_.toNumber(t["Paid Amount"])))])}}};function p(t,e,a){return _.some(t,(({date:t})=>Object(s["i"])(t,e,a)))}var m=l,u=a("2877"),b=a("9989"),c=a("eebe"),d=a.n(c),y=Object(u["a"])(m,n,i,!1,null,null,null);e["default"]=y.exports;d()(y,"components",{QPage:b["a"]})}}]);