(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{1984:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("div",{staticClass:"q-mx-auto",staticStyle:{"max-width":"700px",width:"65vw"}},t._l(t.kitchens,(function(e){return a("KitchenItemsDisplay",{key:t.hkey(e),staticClass:"q-mb-sm",attrs:{kitchen:e}})})),1)])},i=[],n=a("ded3"),o=a.n(n),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",[a("CardImageTitle",{attrs:{image:t.src,title:t.name}}),a("q-card-actions",{staticClass:"q-px-md"},[t._v("\n    Users: "+t._s(t.users.length)+" "),a("q-space"),a("q-btn",{attrs:{icon:"add_box",color:"primary",flat:""},on:{click:function(e){t.add_mode=!0}}})],1),a("q-separator"),a("q-list",{attrs:{separator:""}},[a("q-item",{staticClass:"text-bold"},[a("q-item-section",[a("q-item-label",[t._v("Item")])],1),a("q-item-section",[a("q-item-label",[t._v("Stock")])],1),a("q-item-section",[a("q-item-label",[t._v("Duration")])],1),a("q-item-section",[a("q-item-label",[t._v("Auto")])],1),a("q-item-section",{attrs:{side:""}},[t._v("Â ")])],1),t._l(t.my_items,(function(e){return a("KitchenItemsDisplayItemRow",t._b({key:t.hKey(e),attrs:{name:t.item(e).name}},"KitchenItemsDisplayItemRow",e,!1))}))],2),a("q-dialog",{attrs:{persistent:""},model:{value:t.add_mode,callback:function(e){t.add_mode=e},expression:"add_mode"}},[a("KitchenItemAdd",{staticStyle:{width:"700px","max-width":"60vw"},attrs:{kitchen:t.kitchen},on:{close:function(e){t.add_mode=!1}}})],1)],1)},c=[],l=a("2f62"),m=a("43fa"),u=a("b1c1"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-item",[a("q-item-section",[a("q-item-label",{attrs:{caption:"",lines:"3"}},[t._v(t._s(t.name))])],1),a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("q-input",{attrs:{dense:"",type:"number"},model:{value:t.params.stock,callback:function(e){t.$set(t.params,"stock",e)},expression:"params.stock"}})],1)],1),a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("q-input",{attrs:{dense:"",type:"number"},model:{value:t.params.duration,callback:function(e){t.$set(t.params,"duration",e)},expression:"params.duration"}})],1)],1),a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("q-select",{attrs:{dense:"",options:["Yes","No"]},model:{value:t.params.auto_process,callback:function(e){t.$set(t.params,"auto_process",e)},expression:"params.auto_process"}})],1)],1),a("q-item-section",{attrs:{side:""}},[t.loading?a("q-spinner-hourglass",{attrs:{size:"xs",color:"primary"}}):t._e()],1)],1)},p=[],h={name:"KitchenItemsDisplayItemRow",props:["id","name"],data(){return{params:{stock:0,duration:0,auto_process:"No",id:null},ready:!1,loading:!1}},created(){_.forEach(["stock","duration","auto_process"],(t=>this.params[t]=this.$attrs[t])),this.params.id=this.id,this.$nextTick((()=>this.ready=!0))},watch:{params:{deep:!0,handler(t){if(this.loading=!0,!this.ready||!t.id)return this.loading=!1;post("kitchen","item",t).then((()=>this.loading=!1))}}}},b=h,f=a("2877"),k=a("66e5"),q=a("4074"),g=a("0170"),I=a("27f9"),v=a("ddd8"),x=a("9149"),y=a("eebe"),Q=a.n(y),j=Object(f["a"])(b,d,p,!1,null,null,null),w=j.exports;Q()(j,"components",{QItem:k["a"],QItemSection:q["a"],QItemLabel:g["a"],QInput:I["a"],QSelect:v["a"],QSpinnerHourglass:x["a"]});var C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",[a("q-card-section",{staticClass:"row items-center q-pb-none"},[a("div",{staticClass:"text-h6"},[t._v("Add Item to Kitchen")]),a("q-space"),a("q-btn",{attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:function(e){return t.$emit("close",null)}}})],1),a("q-card-section",{staticClass:"q-gutter-xs q-pb-none"},[a("q-select",{attrs:{outlined:"",dense:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:t.item_options_unique,label:"Select Item",clearable:""},on:{filter:t.filter},model:{value:t.item_obj,callback:function(e){t.item_obj=e},expression:"item_obj"}}),a("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Stock"},model:{value:t.params.stock,callback:function(e){t.$set(t.params,"stock",t._n(e))},expression:"params.stock"}}),a("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Prepare Duration in Minutes"},model:{value:t.params.duration,callback:function(e){t.$set(t.params,"duration",t._n(e))},expression:"params.duration"}}),a("q-select",{attrs:{dense:"",outlined:"",options:["Yes","No"]},model:{value:t.params.auto_process,callback:function(e){t.$set(t.params,"auto_process",e)},expression:"params.auto_process"}})],1),a("q-card-actions",{staticClass:"q-px-md q-pt-xs",attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"Add Item",type:"submit",loading:t.loading},on:{click:function(e){return e.preventDefault(),t.add(e)}}})],1)],1)},S=[],O=(a("c975"),a("ddb0"),{name:"KitchenItemAdd",props:["kitchen"],data(){return{item_obj:null,item_options:[],loading:!1,params:{item:null,stock:1,duration:0,auto_process:"No",kitchen:null}}},computed:o()(o()({},Object(l["c"])({items:({items:{data:t}})=>t,kitchen_items:({kitchens:{items:t}})=>t})),{},{my_kitchen_items(){return _.map(this.kitchen_items[_.toSafeInteger(this.kitchen)],"item")},item_options_unique(){return _.filter(this.item_options,(({id:t})=>!_.includes(this.my_kitchen_items,_.toSafeInteger(t))))}}),methods:{filter(t,e){e((()=>{const e=(t||"").toLowerCase();this.item_options=e?Object(u["d"])(this.items,["name"]).filter((t=>_.values(t).join(" ").toLowerCase().indexOf(e)>-1)):Object(u["d"])(this.items,["name"])}))},add(){if(this.loading=!0,this.params.item=_.get(this.item_obj,"id",null),this.params.kitchen=this.kitchen,!this.params.kitchen||!this.params.item)return this.loading=!1;post("kitchen","item",this.params).then((()=>this.$emit("close"))).catch().then((()=>this.loading=!1))}},created(){this.item_options=Object(u["d"])(this.items,["name"],"")}}),$=O,K=a("f09f"),D=a("a370"),A=a("2c91"),E=a("9c40"),L=a("4b7e"),N=Object(f["a"])($,C,S,!1,null,null,null),P=N.exports;Q()(N,"components",{QCard:K["a"],QCardSection:D["a"],QSpace:A["a"],QBtn:E["a"],QSelect:v["a"],QInput:I["a"],QCardActions:L["a"]});var R={name:"KitchenItemsDisplay",props:["kitchen"],data(){return{add_mode:!1,src:"https://cdn.quasar.dev/img/parallax2.jpg"}},components:{KitchenItemAdd:P,KitchenItemsDisplayItemRow:w,CardImageTitle:m["a"]},computed:o()(o()(o()({},Object(l["c"])("kitchens",{all:"data",k_items:"items",status:"status"})),Object(l["c"])("items",{items:"data"})),{},{name(){return _.get(this.all,[_.toSafeInteger(this.kitchen),"name"])},my_items(){return _.get(this.k_items,_.toSafeInteger(this.kitchen))},users(){return _.get(this.status,[_.toSafeInteger(this.kitchen),"users"])}}),methods:{item({item:t}){return _.get(this.items,_.toSafeInteger(t),{})},hKey({id:t,item:e}){return Object(u["a"])("kitchen",this.kitchen,"items",t,"item",e)}}},T=R,B=a("eb85"),J=a("1c1c"),Y=a("24e8"),z=Object(f["a"])(T,r,c,!1,null,null,null),F=z.exports;Q()(z,"components",{QCard:K["a"],QCardActions:L["a"],QSpace:A["a"],QBtn:E["a"],QSeparator:B["a"],QList:J["a"],QItem:k["a"],QItemSection:q["a"],QItemLabel:g["a"],QDialog:Y["a"]});var H={name:"PageKitchenItems",components:{KitchenItemsDisplay:F},computed:o()({},Object(l["c"])("kitchens",{kitchens:"assign"})),methods:{hkey(t){return Object(u["a"])("chef","index","kitchens",t)}}},M=H,U=a("9989"),G=Object(f["a"])(M,s,i,!1,null,null,null);e["default"]=G.exports,Q()(G,"components",{QPage:U["a"]})},"43fa":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-img",{attrs:{basic:"",src:t.image}},[t.title?a("div",{staticClass:"absolute-bottom text-subtitle2 text-center",domProps:{textContent:t._s(t.title)}}):t._e()])},i=[],n={name:"CardImageTitle",props:["image","title"]},o=n,r=a("2877"),c=a("068f"),l=a("eebe"),m=a.n(l),u=Object(r["a"])(o,s,i,!1,null,null,null);e["a"]=u.exports,m()(u,"components",{QImg:c["a"]})},b1c1:function(t,e,a){"use strict";function s(){return Array.from(arguments).join("-")}function i(t){return _.assign({},t,{label:[t.name,t.phone].join(", ")})}function n(t){return _(t).map(i).value()}function o(t,e){return _.toNumber(t).toFixed(e||2)}function r(t,e,a){let s=_.map(e,(e=>t[e])).join(a||",");return _.assign({},t,{label:s})}function c(t,e,a){return _.map(t,(t=>r(t,e,a||", ")))}a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"e",(function(){return o})),a.d(e,"d",(function(){return c}))}}]);