(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"12cd":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row q-col-gutter-xs"},[a("div",{staticClass:"col-12 row"},[a("FilterInputText",{on:{text:function(e){t.f_text=e}}}),a("q-space"),a("q-pagination",{attrs:{color:"purple",max:t.pages,"max-pages":t.view_links,"boundary-numbers":!0},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}})],1),a("Masonry",{attrs:{items:t.items,width:"200"},scopedSlots:t._u([{key:"item",fn:function(e){return[a("AdministratorImageItem",{attrs:{name:e[t.name],id:e.id,image:e.image,item:t.content}})]}}])})],1)},n=[],i=(a("fb6a"),a("b1c1")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",[a("q-img",{attrs:{basic:"",src:t.temp||t.src}},[a("div",{staticClass:"absolute-bottom text-subtitle2 text-center"},[t._v(t._s(t.name))])]),a("q-card-actions",{staticClass:"row q-col-gutter-x-sm",attrs:{align:"center"}},[a("div",[a("q-btn",{attrs:{icon:"clear",color:"red",padding:"xs",size:"md"},on:{click:t.remove}})],1),a("div",{staticClass:"col-grow"},[a("q-file",{staticClass:"full-width",attrs:{label:"New photo",outlined:"",clearable:"",dense:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"attach_file"}})]},proxy:!0}]),model:{value:t.media,callback:function(e){t.media=e},expression:"media"}})],1)]),a("q-inner-loading",{attrs:{showing:t.processing,"transition-hide":"fadeOut","transition-show":"fadeIn"}},[a("q-spinner-facebook",{attrs:{color:"primary",size:"2em"}})],1)],1)},o=[],l=a("f567"),c={name:"AdministratorImageItem",props:["item","id","name","image"],data(){return{processing:!1,temp:null}},computed:{src(){return this.image?Object(i["e"])(this.image):Object(i["e"])(l["a"].no)},media:{get(){return null},set(t){t&&(this.processing=!0,upload(this.item,this.id,t).then((({data:t})=>this.processing=!(this.temp=Object(i["e"])(t.image)))))}}},methods:{remove(){this.processing=!0,remove_upload(this.item,this.id).then((({data:t})=>this.processing=!(this.temp=Object(i["e"])(t.image))))}},watch:{image(){this.temp=null}}},u=c,d=a("2877"),m=a("f09f"),p=a("068f"),h=a("4b7e"),f=a("9c40"),b=a("7d53"),g=a("0016"),v=a("74f7"),q=a("e669"),y=a("eebe"),x=a.n(y),C=Object(d["a"])(u,r,o,!1,null,null,null),k=C.exports;x()(C,"components",{QCard:m["a"],QImg:p["a"],QCardActions:h["a"],QBtn:f["a"],QFile:b["a"],QIcon:g["a"],QInnerLoading:v["a"],QSpinnerFacebook:q["a"]});var w=a("5ab9"),I=a("c624"),$={name:"AdministratorImageCommon",components:{Masonry:I["a"],FilterInputText:w["a"],AdministratorImageItem:k},props:["content","list","name","filter"],data(){return{f_text:"",current:1,per_page:36,view_links:6}},computed:{filtered(){return this.f_text?_.filter(this.list,(t=>Object(i["i"])(t,this.filter,this.f_text))):Object.values(this.list)},items(){return _(this.filtered).slice((this.current-1)*this.per_page).take(this.per_page).value()},pages(){return _.ceil(_.size(this.filtered)/this.per_page)}},methods:{hKey({id:t}){return Object(i["d"])("administrator","image","content",this.content,"item",t)}}},Q=$,O=a("2c91"),j=a("3b16"),S=Object(d["a"])(Q,s,n,!1,null,null,null);e["a"]=S.exports;x()(S,"components",{QSpace:O["a"],QPagination:j["a"]})},2071:function(t,e,a){"use strict";e["a"]={props:["value","get","name"],computed:{options(){return{}},optValue(){return void 0===this.get?this.value:_.find(this.options,[this.get,this.value])}},methods:{doEmit(t){this.$emit("input",this.get?t[this.get]:t)},getName(t){return this.name?this.name(t):t.name}}}},"232e":function(t,e,a){"use strict";a.d(e,"e",(function(){return s})),a.d(e,"f",(function(){return n})),a.d(e,"j",(function(){return i})),a.d(e,"g",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"h",(function(){return c})),a.d(e,"i",(function(){return u})),a.d(e,"a",(function(){return d})),a.d(e,"b",(function(){return m}));const s=["Dining","Home Delivery","Take Away","Other"],n=["Cash","Card","Wallet","Credit"],i={New:"Just Filled",Processing:"Busy/Processing",Completed:"Busy/Served",Billed:"Billed/Vacant",Paid:"Vacant",Cancelled:"Vacant"},r={Vacant:"positive","Just Filled":"lime","Busy/Processing":"red-6","Busy/Served":"red-6","Billed/Vacant":"green-13"},o={Dining:["Seating","Waiter","Customer"],"Home Delivery":["Customer","PriceList"],"Take Away":["Customer","PriceList"],Other:[]},l={Dining:["type","seating","user","customer","price_list"],"Home Delivery":["type","customer","price_list"],"Take Away":["type","customer","price_list"],Other:[]},c={New:"red",Accepted:"green-6",Processing:"purple-9"},u={New:"red",Processing:"purple-9",Completed:"green-6",Billed:"positive",Cancelled:"grey-2"},d={Dining:"purple","Home Delivery":"orange","Take Away":"green"},m=["Token","Progress","Item"]},3610:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-select",t._b({attrs:{options:t.modes},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},"q-select",t.$attrs,!1))},n=[],i=(a("5319"),a("232e")),r={name:"KitchenTokenDisplayMode",props:["value"],computed:{append(){return this.$q.screen.width<500?"":" Mode"},modes(){return i["b"].map((t=>t+this.append))},mode:{get(){return this.value?this.value+this.append:_.first(this.modes)},set(t){this.$emit("input",t.replace(this.append,""))}}},mounted(){this.value||(this.mode=_.first(this.modes))}},o=r,l=a("2877"),c=a("ddd8"),u=a("eebe"),d=a.n(u),m=Object(l["a"])(o,s,n,!1,null,null,null);e["a"]=m.exports;d()(m,"components",{QSelect:c["a"]})},3758:function(t,e,a){"use strict";var s=a("2f62");e["a"]={computed:Object(s["d"])({tokens({tokens:{data:t,items:e},seating:a,prices:{list:s},users:n,customers:i}){return _(t).map((t=>Object.assign({},t,{items:_.map(_.get(e,t.id),this.tokenItemMap),seating:_.get(a["data"],t.seating),price_list:_.get(s,t.seating),waiter:_.get(n["data"],t.user),customer:_.get(i["data"],t.customer),progress:this.tokenProgress(t)}))).value()}}),methods:{tokenItemMap(t){return Object.assign({},t,{item:_.get(this.$store.state.items,["data",t.item]),user:_.get(this.$store.state.users,["data",t.user]),kitchen:_.get(this.$store.state.kitchens,["data",t.kitchen])})},tokenProgress({id:t,progress:e}){if("Billed"!==e)return e;let a=_.find(this.$store.state.bills.data,(({token:e,progress:a})=>"Cancelled"!==a&&e===t));return a?a.progress:e}}}},"3b1b":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",[a("q-card-section",{staticClass:"q-py-xs text-center text-white",class:t.cColor},[t.token.user?a("span",[t._v(t._s(t.token.user.name))]):t._e()]),a("CardImageTitle",{attrs:{image:t.src,title:t.token.seating?t.token.seating.name:t.token.customer?t.token.customer.name:t.token.type}}),a("q-card-actions",[a("q-badge",{staticClass:"q-py-sm q-px-sm",attrs:{label:t.token.id}}),a("q-badge",{staticClass:"q-py-sm q-ml-xs",attrs:{label:t.token.type}}),a("q-badge",{staticClass:"q-py-sm q-ml-xs",attrs:{label:t.token.progress}}),a("q-space"),"Billed"!==t.token.progress?a("q-btn",{attrs:{icon:"add_box",color:"primary",flat:"",padding:"0"},on:{click:function(e){t.add_mode=!0}}}):t._e()],1),a("OrderSummaryWaiterOrderItemsList",{attrs:{order:t.id}}),"Billed"!==t.token.progress?a("q-dialog",{attrs:{persistent:""},model:{value:t.add_mode,callback:function(e){t.add_mode=e},expression:"add_mode"}},[a("OrderSummaryItemAdd",{staticStyle:{width:"700px","max-width":"90vw"},attrs:{token:t.id},on:{close:function(e){t.add_mode=!1}}})],1):t._e()],1)},n=[],i=a("ded3"),r=a.n(i),o=a("a861"),l=a("e97b"),c=a("43fa"),u=a("2f62"),d=a("f567"),m=a("232e"),p=a("b1c1"),h={components:{CardImageTitle:c["a"],OrderSummaryItemAdd:l["a"],OrderSummaryWaiterOrderItemsList:o["a"]},data(){return{add_mode:!1}},props:["id"],name:"OrderSummaryReceptionistOrder",computed:r()(r()({},Object(u["d"])({token:function({tokens:{data:t},seating:e,users:a,customers:s}){let n=t[_.toInteger(this.id)];return Object.assign({},n,{seating:e.data[_.toInteger(n.seating)]},{user:a.data[_.toInteger(n.user)]},{customer:s.data[_.toInteger(n.customer)]})}})),{},{image(){let t=this.token.type;return"Dining"===t?this.token.seating.image:"Take Away"===t?d["a"].takeaway:d["a"].homedelivery},src(){return Object(p["e"])(this.image)},cColor(){return"bg-"+m["a"][this.token.type]}})},f=h,b=a("2877"),g=a("f09f"),v=a("a370"),q=a("4b7e"),y=a("58a8"),x=a("2c91"),C=a("9c40"),k=a("24e8"),w=a("eebe"),I=a.n(w),$=Object(b["a"])(f,s,n,!1,null,null,null);e["a"]=$.exports;I()($,"components",{QCard:g["a"],QCardSection:v["a"],QCardActions:q["a"],QBadge:y["a"],QSpace:x["a"],QBtn:C["a"],QDialog:k["a"]})},"43fa":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-img",{attrs:{basic:"",src:t.image}},[t.title?a("div",{staticClass:"absolute-bottom text-subtitle2 text-center",domProps:{textContent:t._s(t.title)}}):t._e(),void 0!==t.info?a("span",{staticClass:"absolute-top-right bg-transparent q-pr-xs q-pt-xs"},[a("q-btn",{staticStyle:{transform:"rotate(180deg)"},attrs:{icon:"error_outline",flat:"",round:"",padding:"0",size:"md",color:"white",dense:""},on:{click:function(e){return e.stopPropagation(),t.$emit("info",!0)}}})],1):t._e()])},n=[],i={name:"CardImageTitle",props:["image","title","info"]},r=i,o=a("2877"),l=a("068f"),c=a("9c40"),u=a("eebe"),d=a.n(u),m=Object(o["a"])(r,s,n,!1,null,null,null);e["a"]=m.exports;d()(m,"components",{QImg:l["a"],QBtn:c["a"]})},"440b":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-list",{attrs:{bordered:"",separator:""}},[t._l(t.items,(function(e,s){return a("q-item",{key:t.hKey(e)},[a("q-item-section",{attrs:{avatar:""}},[t._v(t._s(s+1))]),a("q-item-section",[a("q-item-label",{staticClass:"row justify-between items-center"},[a("div",{staticClass:"text-weight-bold text-grey-9"},[t._v(t._s(e.quantity)+" x "+t._s(t.item(e.item).name))])]),e.delay?a("q-item-label",{attrs:{caption:"",lines:"1"}},[t._v("Delay: "+t._s(e.delay)+" minutes")]):t._e(),e.narration?a("q-item-label",{attrs:{caption:"",lines:"1"}},[t._v(t._s(e.narration))]):t._e()],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"text-bold",domProps:{textContent:t._s(t.iTotal(e))}})]),a("q-item-section",{attrs:{side:""}},[a("q-btn",{attrs:{icon:"delete",dense:"",color:"negative",flat:""},on:{click:function(a){return t.$emit("delete",e)}}}),a("q-btn",{attrs:{icon:"edit",dense:"",color:"warning",flat:""},on:{click:function(a){return t.edit(e)}}})],1)],1)})),a("q-item",[a("q-item-section",[a("q-item-label",{staticClass:"content-end"},[a("div",{staticClass:"text-weight-bold text-h6 text-grey-9"},[t._v("Total")])])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"text-h6",domProps:{textContent:t._s(t.precision(t.total,2))}})])],1),a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.update_mode,callback:function(e){t.update_mode=e},expression:"update_mode"}},[t.update_obj?a("OrderItemUpdateForm",t._b({staticStyle:{width:"700px","max-width":"90vw"},on:{close:t.close,update:t.update}},"OrderItemUpdateForm",t.update_obj,!1)):t._e()],1)],2)},n=[],i=a("b1c1"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",[a("q-card-section",{staticClass:"row items-center q-pb-none"},[a("div",{staticClass:"text-h6"},[t._v("Update Order Item")]),a("q-space"),a("q-btn",{attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:function(e){return t.$emit("close",null)}}})],1),a("q-card-section",{staticClass:"q-gutter-xs q-pb-none"},[a("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Quantity"},model:{value:t.quantity,callback:function(e){t.quantity=t._n(e)},expression:"quantity"}}),a("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Delay in Minutes"},model:{value:t.delay,callback:function(e){t.delay=t._n(e)},expression:"delay"}}),a("q-input",{attrs:{dense:"",type:"textarea",outlined:"",label:"Narration if any"},model:{value:t.narration,callback:function(e){t.narration=e},expression:"narration"}})],1),a("q-card-actions",{staticClass:"q-px-md q-pt-xs",attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"Update",type:"submit"},on:{click:function(e){return e.preventDefault(),t.update(e)}}})],1)],1)},o=[],l={name:"OrderItemUpdateForm",props:["item"],data(){return{quantity:1,delay:0,narration:null}},created(){_.forEach(["quantity","delay","narration"],(t=>this[t]=_.toNumber(this.$attrs[t])==this.$attrs[t]?_.toNumber(this.$attrs[t]):this.$attrs[t]))},methods:{update(){this.$emit("update",{item:_.toSafeInteger(this.item),quantity:_.toNumber(this.quantity),delay:_.toNumber(this.delay),narration:this.narration||null})}}},c=l,u=a("2877"),d=a("f09f"),m=a("a370"),p=a("2c91"),h=a("9c40"),f=a("27f9"),b=a("4b7e"),g=a("eebe"),v=a.n(g),q=Object(u["a"])(c,r,o,!1,null,null,null),y=q.exports;v()(q,"components",{QCard:d["a"],QCardSection:m["a"],QSpace:p["a"],QBtn:h["a"],QInput:f["a"],QCardActions:b["a"]});var x={name:"OrderItemsSummary",components:{OrderItemUpdateForm:y},data(){return{update_mode:!1,update_obj:null}},props:["items","price_list"],computed:{price(){return _(this.$store.state.prices.data).filter(["price_list",_.toSafeInteger(this.price_list)]).mapKeys("item").mapValues("price").value()},total(){return _.sumBy(this.items,(({item:t,quantity:e})=>(_.toNumber(e)||0)*(_.toNumber(_.get(this.price,t))||0)))}},methods:{hKey({item:t}){return Object(i["d"])("order","summary","item",t)},item(t){return _.get(this.$store.state.items.data,_.toSafeInteger(t))},quantity(t,e){this.$emit("quantity",{item:t,quantity:_.toNumber(e.target.value)})},iTotal({item:t,quantity:e}){return Object(i["n"])(e*this.price[t],2)},precision(t){return Object(i["n"])(t,2)},edit(t){this.update_obj=t,this.update_mode=!0},update(t){this.$emit("update",t),this.close()},close(){this.update_mode=!1,this.update_obj=null}}},C=x,k=a("1c1c"),w=a("66e5"),I=a("4074"),$=a("0170"),Q=a("24e8"),O=Object(u["a"])(C,s,n,!1,null,null,null);e["a"]=O.exports;v()(O,"components",{QList:k["a"],QItem:w["a"],QItemSection:I["a"],QItemLabel:$["a"],QInput:f["a"],QBtn:h["a"],QDialog:Q["a"]})},"58d1":function(t,e,a){"use strict";var s=a("2f62"),n=a("3758"),i=a("8808");e["a"]={mixins:[n["a"]],computed:Object(s["d"])({bills({bills:{data:t},customers:e,users:a,payments:s}){return _(t).map((t=>Object.assign({},t,{payable:Object(i["a"])(t)},{token:_.find(this.tokens,["id",t.token])},{customer:_.get(e["data"],t.customer)},{user:_.get(a["data"],t.user)},{payments:_(s["data"]).filter((e=>e.bill===t.id&&"Active"===e.status)).value()},{paid:_.sumBy(_.filter(s["data"],["bill",t.id]),(({amount:t})=>_.toNumber(t)))}))).value()}})}},"5ab9":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return void 0!==t.lazy?a("q-input",{attrs:{label:t.label||t.dLabel,outlined:"",dense:"",clearable:"",debounce:"500"},on:{input:function(e){return t.$emit("text",t.filter)}},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}):void 0!==t.blur?a("q-input",{attrs:{label:t.label||t.dLabel,outlined:"",dense:"",clearable:""},on:{blur:function(e){return t.$emit("text",t.filter)}},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}):a("q-input",{attrs:{label:t.label||t.dLabel,outlined:"",dense:"",clearable:""},on:{input:function(e){return t.$emit("text",t.filter)}},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})},n=[],i={name:"FilterInputText",props:["label","lazy","blur"],data(){return{filter:"",dLabel:"Filter"}}},r=i,o=a("2877"),l=a("27f9"),c=a("eebe"),u=a.n(c),d=Object(o["a"])(r,s,n,!1,null,null,null);e["a"]=d.exports;u()(d,"components",{QInput:l["a"]})},"5cc1":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-select",t._b({attrs:{options:t.options,value:t.optValue},on:{input:t.doEmit}},"q-select",t.$attrs,!1))},n=[],i=a("2071"),r={name:"ItemSelectDropDown",mixins:[i["a"]],computed:{options(){return _.map(this.$store.state.items.data)}}},o=r,l=a("2877"),c=a("ddd8"),u=a("eebe"),d=a.n(u),m=Object(l["a"])(o,s,n,!1,null,null,null);e["a"]=m.exports;d()(m,"components",{QSelect:c["a"]})},"7a7c":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.item?a("q-card",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.$emit("selected",t.item)}}},[a("q-card-section",{staticClass:"q-py-xs bg-teal"}),a("CardImageTitle",{attrs:{title:t.item.name,image:t.image,info:"true"},on:{info:function(e){t.info=!t.info}}}),t.info?a("q-card-section",{staticClass:"q-pa-none q-ma-none"},[a("q-card-actions",{staticClass:"q-pb-none",attrs:{align:"right"}},[a("q-badge",{staticClass:"q-py-sm q-px-md text-weight-bolder",attrs:{color:"positive",label:t.price}})],1),t.kitchens.length?a("q-list",{staticStyle:{"font-size":"0.75rem"}},t._l(t.kitchens,(function(e){return a("q-item",{key:t.hKey(e)},[a("q-item-section",[a("q-item-label",[t._v(t._s(t.kName(e)))]),a("q-item-label",{staticStyle:{"font-size":"0.6rem"},attrs:{caption:""}},[t._v("Duration: "+t._s(Math.ceil(e.duration/60))+" Min")]),t.pending(e)?a("q-item-label",{staticStyle:{"font-size":"0.6rem"},attrs:{caption:""}},[t._v("Pending: "+t._s(t.pending(e)))]):t._e()],1),a("q-item-section",{staticClass:"text-bold text-black",staticStyle:{"font-size":"0.9rem"},attrs:{side:""}},[t._v(t._s(e.stock))]),"Yes"===e.auto_process?a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"done_all",color:"positive"}})],1):t._e()],1)})),1):a("q-card-section",{staticClass:"text-caption text-center text-warning q-pa-none q-pt-xs",staticStyle:{"font-size":"0.65rem"}},[t._v("Not available in any active kitchens!!")]),a("q-card-section",{staticClass:"q-pt-xs"},[a("div",{staticClass:"text-caption",staticStyle:{"font-size":"0.65rem","line-height":"0.8rem"}},[a("q-separator",{staticClass:"q-my-xs"}),t._v(" "+t._s(t.item.detail))],1)])],1):t._e()],1):t._e()},n=[],i=(a("5db7"),a("73d9"),a("ded3")),r=a.n(i),o=a("43fa"),l=a("2f62"),c=a("b1c1"),u={name:"ItemSelectCard",components:{CardImageTitle:o["a"]},props:["id","price_list"],data(){return{info:!1,processing_status:["Accepted","Processing"]}},computed:r()(r()({},Object(l["d"])({items:t=>t.items.data,s_kitchens:t=>t.kitchens.data,prices:t=>t.prices.data,k_items:t=>t.kitchens.items,t_items:t=>_(t.tokens.items).flatMap().value()})),{},{intID(){return _.toInteger(this.id)},intPL(){return _.toInteger(this.price_list)},item(){return _.get(this.items,this.intID)},image(){return Object(c["e"])(this.item.image)},price(){return this.price_list?_.toNumber(_.get(_.find(this.prices,this.matchItemPriceList),"price",0)):0},kitchens(){return _(this.k_items).flatMap().filter(["item",this.intID]).value()},processing(){return _(this.t_items).filter((({item:t,progress:e})=>t===this.intID&&this.processing_status.includes(e))).value()}}),methods:{hKey({id:t,kitchen:e}){return Object(c["d"])("isc",this.id,"kitchen",e,"stock",t)},matchItemPriceList({item:t,price_list:e}){return _.toInteger(t)===this.intID&&_.toInteger(e)===this.intPL},kName({kitchen:t}){return _.truncate(_.get(this.s_kitchens,[_.toInteger(t),"name"]),{length:15,omission:".."})},pending(t){return _.sumBy(this.processing,(({quantity:e,kitchen:a})=>_.toInteger(a)===t.kitchen?_.toNumber(e):0))}}},d=u,m=a("2877"),p=a("f09f"),h=a("a370"),f=a("4b7e"),b=a("58a8"),g=a("1c1c"),v=a("66e5"),q=a("4074"),y=a("0170"),x=a("0016"),C=a("eb85"),k=a("eebe"),w=a.n(k),I=Object(m["a"])(d,s,n,!1,null,null,null);e["a"]=I.exports;w()(I,"components",{QCard:p["a"],QCardSection:h["a"],QCardActions:f["a"],QBadge:b["a"],QList:g["a"],QItem:v["a"],QItemSection:q["a"],QItemLabel:y["a"],QIcon:x["a"],QSeparator:C["a"]})},"84ba":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{staticClass:"no-shadow"},[a("q-card-section",{class:t.section_class},[a("div",{staticClass:"text-h4",staticStyle:{"font-weight":"bolder"}},[t._v(t._s(t.value)),t.icon?a("q-icon",{staticClass:"q-mr-md q-mt-md absolute-right",attrs:{color:t.icon_color,name:t.icon,size:"3.8rem"}}):t._e()],1),a("div",{staticClass:"text-subtitle2 text-uppercase",staticStyle:{"font-size":"0.75rem"}},[t._v(t._s(t.title||t.defaults.title))])]),t.to?a("q-card-actions",{class:t.action_class,attrs:{align:"center"}},[a("q-btn",{attrs:{size:"sm",flat:"",type:"a",to:t.to}},[t._v("View Detail "),a("q-icon",{staticClass:"q-ml-sm",attrs:{name:"double_arrow",size:"0.8rem"}})],1)],1):t._e()],1)},n=[],i={name:"DigitMetric",props:["bg","value","text","title","icon","to"],data(){return{defaults:{bg:"white",text:"black",title:"Title"}}},computed:{section_class(){return[].concat("bg-"+this.bg||!1).concat("text-"+this.text||!1)},action_class(){return[].concat("bg-"+(this.bg||this.defaults.bg)+"-9").concat("text-"+(this.text||this.defaults.text)).concat("q-pa-none")},icon_color(){return(this.bg||this.defaults.bg)+"-9"}}},r=i,o=a("2877"),l=a("f09f"),c=a("a370"),u=a("0016"),d=a("4b7e"),m=a("9c40"),p=a("eebe"),h=a.n(p),f=Object(o["a"])(r,s,n,!1,null,null,null);e["a"]=f.exports;h()(f,"components",{QCard:l["a"],QCardSection:c["a"],QIcon:u["a"],QCardActions:d["a"],QBtn:m["a"]})},"85b2":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.seating?a("div",{staticClass:"row content-around"},[a("div",{staticClass:"col text-weight-bold"},[t._v("Seat"),a("div",{staticClass:"text-caption"},[t._v(t._s(t.seat.name))])]),a("div",{staticClass:"col text-weight-bold"},[t._v("Price List"),a("div",{staticClass:"text-caption"},[t._v(t._s(t.price.name))])])]):t._e()},n=[],i={name:"OrderSeatingInfo",props:["seating"],computed:{seat(){return _.get(this.$store.state.seating.data,_.toSafeInteger(this.seating))},price(){return _.get(this.$store.state.prices.list,_.toSafeInteger(this.seat.price_list))}}},r=i,o=a("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["a"]=l.exports},8808:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"d",(function(){return n})),a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"e",(function(){return c}));a("13d5"),a("fb6a");function s({amount:t,discount:e,round:a}){return _.toNumber(t)-_.toNumber(e)-_.toNumber(a)}function n({contents:t}){return _.sumBy(t,(({tax:{amount:t,price:e,quantity:a}})=>t>0?_.toNumber(e)*a:0))}function i({contents:t}){return _.sumBy(t,(({tax:{amount:t}})=>_.toNumber(t)))}function r({contents:t}){let e={};return _.forEach(t,(function({tax:{contents:t}}){_.forEach(t,(function({name:t,amount:a}){_.has(e,t)||Object.assign(e,_.fromPairs([[t,0]])),e[t]+=_.toNumber(a)}))})),e}const o={accept:0,start:0,process:0,complete:0,serve:0};function l(t){t=t.slice(_.findLastIndex(t,["status","Cancelled"])+1);let e=_.cloneDeep(o);if(!_.isEmpty(t)){let a=0,s=0,n=0,i=0;_.forEach(t,(function({status:t,time:r}){switch(t){case"New":a=r;break;case"Accepted":e["accept"]=r-a,s=r;break;case"Processing":e["start"]=r-a,n=r;break;case"Completed":e["process"]=r-n,e["complete"]=r-s,i=r;break;case"Served":e["serve"]=r-i;break}}))}return e}function c(t,e){let a=_.map(t,l),s=["process","complete"];return _.reduce(a,(function(t,a,n,i){return["accept","start","process","complete","serve"].forEach((e=>t[e]+=a[e])),n+1===i.length?_.mapValues(t,((t,a)=>t/(s.includes(a)?e:n+1))):t}),_.cloneDeep(o))}},"8f5b":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{staticStyle:{"font-size":"0.8rem"},attrs:{flat:"",bordered:"",square:""}},[a("q-card-section",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"title"}],staticClass:"bg-blue-grey-10 text-white text-bold q-py-sm"},[t._v(t._s(t.title))]),a("ReportHead",{directives:[{name:"show",rawName:"v-show",value:t.head,expression:"head"}],attrs:{data:t.head}}),a("ReportTable",t._b({attrs:{data:t.table}},"ReportTable",t.$attrs,!1)),a("ReportFoot",{attrs:{data:t.foot}}),a("q-card-section",{staticClass:"q-pa-none q-pb-none"},[a("div",{staticClass:"col-12 q-px-xl q-py-xs text-center bg-grey-1",staticStyle:{"font-size":"0.45rem"}},[t._v(t._s(t.footer))])])],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-table",{staticClass:"no-shadow",attrs:{data:t.records,columns:t.columns,dense:"",bordered:"","table-header-class":"bg-blue-grey-10 text-white",square:"",pagination:{rowsPerPage:0},"hide-pagination":""},scopedSlots:t._u([t._l(t.html_slots,(function(e){return{key:e,fn:function(e){return[a("q-td",{attrs:{props:e},domProps:{innerHTML:t._s(e.value)}})]}}}))],null,!0)})},r=[],o={name:"ReportTable",props:["data","right","center","index","html"],computed:{records(){return void 0===this.index?this.data:_.map(this.data,((t,e)=>Object.assign({},{"#":e+1},t)))},columns(){return _.map(_.first(this.records),((t,e)=>_.zipObject(["name","field","sortable","label","align"],[e,e,!1,e,_.includes(this.right,e)?"right":_.includes(this.center,e)?"center":"left"])))},html_slots(){return this.html?_.map(this.html,this.dynamicSlotName):[]}},methods:{dynamicSlotName(t){return"body-cell-"+t}}},l=o,c=a("2877"),u=a("eaac"),d=a("db86"),m=a("eebe"),p=a.n(m),h=Object(c["a"])(l,i,r,!1,null,null,null),f=h.exports;p()(h,"components",{QTable:u["a"],QTd:d["a"]});var b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-list",{attrs:{dense:"",separator:""}},t._l(t.data,(function(e,s){return a("q-item",{key:t.hKey(s),attrs:{dense:""}},[a("q-item-section",[a("q-item-label",{staticClass:"text-bold"},[t._v(t._s(s))])],1),a("q-item-section",{attrs:{side:""}},[t._v(t._s(e))])],1)})),1)},g=[],v=(a("5319"),{name:"ReportHead",props:["data"],methods:{hKey(t){return _.toLower(t).replace(/\s/g,"")}}}),q=v,y=a("1c1c"),x=a("66e5"),C=a("4074"),k=a("0170"),w=Object(c["a"])(q,b,g,!1,null,null,null),I=w.exports;p()(w,"components",{QList:y["a"],QItem:x["a"],QItemSection:C["a"],QItemLabel:k["a"]});var $=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card-section",{staticClass:"q-pa-none q-pb-none"},[a("div",{staticClass:"row"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.data,expression:"data"}],staticClass:"col-xs-12 col-sm-6 offset-xs-0 offset-sm-6",staticStyle:{"border-left":"1px solid #DDDDDD"}},[a("q-list",{staticStyle:{"font-size":"0.75rem"},attrs:{dense:"",separator:""}},t._l(t.data,(function(e,s){return a("q-item",{key:t.hKey(s),attrs:{dense:""}},[a("q-item-section",[a("q-item-label",{staticClass:"text-bold"},[t._v(t._s(s))])],1),a("q-item-section",{staticClass:"text-bold text-black",attrs:{side:""}},[t._v(t._s(e))])],1)})),1)],1)])])},Q=[],O={name:"ReportFoot",props:["data"],methods:{hKey(t){return _.toLower(t).replace(/\s/g,"")}}},j=O,S=a("a370"),D=Object(c["a"])(j,$,Q,!1,null,null,null),E=D.exports;p()(D,"components",{QCardSection:S["a"],QList:y["a"],QItem:x["a"],QItemSection:C["a"],QItemLabel:k["a"]});var L=a("b1c1"),N={name:"ReportCard",components:{ReportFoot:E,ReportTable:f,ReportHead:I},props:["head","foot","table","title"],data(){return{time:null}},computed:{footer(){return`Report generated by ${_USER.name} on ${this.time} using Smart Kitchen.`}},watch:{data:{immediate:!0,deep:!0,handler(){this.time=Object(L["q"])("ddd Do MMM YYYY @ hh:mm:ss A")}}}},P=N,T=a("f09f"),A=Object(c["a"])(P,s,n,!1,null,null,null);e["a"]=A.exports;p()(A,"components",{QCard:T["a"],QCardSection:S["a"]})},9061:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-select",t._b({attrs:{options:t.options,value:t.optValue},on:{input:t.doEmit}},"q-select",t.$attrs,!1))},n=[],i=a("2071"),r={name:"PriceListSelectDropDown",mixins:[i["a"]],computed:{options(){return _(this.$store.state.prices.list).filter(["status","Active"]).map((t=>Object.assign({},t,{label:this.getName(t),value:t.id}))).value()}}},o=r,l=a("2877"),c=a("ddd8"),u=a("eebe"),d=a.n(u),m=Object(l["a"])(o,s,n,!1,null,null,null);e["a"]=m.exports;d()(m,"components",{QSelect:c["a"]})},9708:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-select",{attrs:{outlined:"",dense:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:t.options,label:"Select Customer",clearable:""},on:{filter:t.filter,"new-value":t.createCustomer},model:{value:t.customer,callback:function(e){t.customer=e},expression:"customer"}}),a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.create_mode,callback:function(e){t.create_mode=e},expression:"create_mode"}},[a("CustomerCreate",{staticStyle:{width:"700px","max-width":"60vw"},attrs:{param:t.param,param_value:t.param_value},on:{close:t.closeCreate,customer:t.closeCreate}})],1)],1)},n=[],i=(a("c975"),a("ddb0"),a("ded3")),r=a.n(i),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",[a("q-card-section",{staticClass:"row items-center q-pb-none"},[a("div",{staticClass:"text-h6"},[t._v("New Customer")]),a("q-space"),a("q-btn",{attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:function(e){return t.$emit("close",null)}}})],1),a("q-card-section",{staticClass:"q-gutter-xs"},[a("q-input",{attrs:{dense:"",outlined:"",label:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("q-input",{attrs:{dense:"",outlined:"",label:"Phone"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),a("q-input",{attrs:{dense:"",type:"email",outlined:"",label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("q-input",{attrs:{dense:"",type:"textarea",outlined:"",label:"Address"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{staticClass:"text-grey",attrs:{color:"primary",label:"Reset",type:"reset",flat:""},on:{click:function(e){return e.preventDefault(),t.reset(e)}}}),a("q-btn",{attrs:{color:"primary",label:"Submit",type:"submit"},on:{click:function(e){return e.preventDefault(),t.submit(e)}}})],1)],1)},l=[],c={name:"CustomerCreate",props:["param","param_value"],data(){return{name:"",phone:"",email:"",address:""}},methods:{reset(){this.name=this.phone=this.email=this.address=""},submit(){if(!this.name&&!this.phone)return;let t=_.zipObject(["name","phone","email","address"],[this.name,this.phone,this.email,this.address]);post("customer","create",t).then((t=>{this.$emit("customer",t),this.reset()}))}},created(){this[this.param]=this.param_value}},u=c,d=a("2877"),m=a("f09f"),p=a("a370"),h=a("2c91"),f=a("9c40"),b=a("27f9"),g=a("4b7e"),v=a("eebe"),q=a.n(v),y=Object(d["a"])(u,o,l,!1,null,null,null),x=y.exports;q()(y,"components",{QCard:m["a"],QCardSection:p["a"],QSpace:h["a"],QBtn:f["a"],QInput:b["a"],QCardActions:g["a"]});var C=a("b1c1"),k=a("2f62"),w={name:"OrderCustomer",components:{CustomerCreate:x},props:["value","get"],data(){return{create_mode:!1,param:"name",param_value:"",options:[]}},computed:r()(r()({},Object(k["d"])("customers",{customers:"data"})),{},{customer_options(){return Object(C["l"])(this.customers)},customer:{get(){return void 0===this.value?null:void 0===this.get?this.value:_.find(this.customer_options,[this.get,this.value])},set(t){this.$emit("input",void 0===this.get?t:_.get(t,this.get,null))}}}),methods:{filter(t,e){e((()=>{const e=(t||"").toLowerCase();this.options=e?Object(C["l"])(this.customers).filter((t=>_.values(t).join(" ").toLowerCase().indexOf(e)>-1)):Object(C["l"])(this.customers)}))},createCustomer(t){this.param=_.toNumber(t)==t?"phone":"name",this.param_value=t,this.customer=null,this.create_mode=!0},closeCreate(t){this.create_mode=!1,this.customer=t?Object(C["k"])(t):null}},created(){this.options=this.customer_options}},I=w,$=a("ddd8"),Q=a("24e8"),O=Object(d["a"])(I,s,n,!1,null,null,null);e["a"]=O.exports;q()(O,"components",{QSelect:$["a"],QDialog:Q["a"]})},"97b7":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",[a("q-card-section",{staticClass:"bg-grey-2 text-weight-bold"},[t._v("Items Price")]),a("q-card-section",[a("div",{staticClass:"row q-col-gutter-xs"},[a("div",{staticClass:"col-12"},[a("FilterInputText",{on:{text:function(e){t.filter=e}}})],1),t._l(t.items,(function(e,s){var n=e.item,i=e.price,r=e.name;return a("div",{directives:[{name:"show",rawName:"v-show",value:!t.filter||r.toLowerCase().includes(t.filter.toLowerCase()),expression:"!filter || name.toLowerCase().includes(filter.toLowerCase())"}],key:"plps-"+n,staticClass:"col-sm-3 col-md-2 col-lg-1",class:t.colXSCls},[a("q-input",{attrs:{label:r,type:"number",dense:"",outlined:"",value:i},on:{input:function(e){return t.update(n,e)}}})],1)}))],2)])],1)},n=[],i=a("ded3"),r=a.n(i),o=a("2f62"),l=a("5ab9"),c={name:"AdministratorMasterPriceListPriceSet",components:{FilterInputText:l["a"]},props:["list"],data(){return{filter:"",updates:{}}},computed:r()(r()({},Object(o["d"])("items",{products:"data"})),{},{colXSCls(){return this.$q.screen.width>430?["col-xs-4"]:["col-xs-6"]},lPrice(){return this.list?_(this.$store.state.prices.data).filter(["price_list",this.list]).mapKeys("item").mapValues((({price:t})=>_.toNumber(t))).value():{}},items(){return _(this.products).map((({id:t,name:e})=>Object.assign({},{item:t,price:this.getPrice(t),name:e}))).value()},uPrice(){return 0===_.size(this.updates)?this.items:_.map(this.items,(t=>_.has(this.updates,t.item)?_.set(_.clone(t),"price",this.updates[t.item]):t))}}),methods:{getPrice(t){return _.has(this.updates,t)?this.updates[t]:_.toNumber(_.get(this.lPrice,t,0))},update(t,e){this.$set(this.updates,t,_.toNumber(e)),this.$emit("input",this.updates)}},watch:{list(){this.updates={}}}},u=c,d=a("2877"),m=a("f09f"),p=a("a370"),h=a("27f9"),f=a("eebe"),b=a.n(f),g=Object(d["a"])(u,s,n,!1,null,null,null);e["a"]=g.exports;b()(g,"components",{QCard:m["a"],QCardSection:p["a"],QInput:h["a"]})},"9b77":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-form",{staticClass:"q-gutter-y-xs",on:{submit:function(){return!1}}},[a("div",{staticClass:"text-right"},[a("q-btn",{attrs:{label:"CREATE",color:"light-blue",disable:t.loading},on:{click:t.reset}})],1),t._l(t.fields,(function(e,s,n){return["status"===e?a("q-select",{attrs:{options:["Active","Inactive"],label:t.title(s),outlined:""},model:{value:t.params[s],callback:function(e){t.$set(t.params,s,e)},expression:"params[field]"}}):"yesno"===e?a("q-select",{attrs:{options:["Yes","No"],label:t.title(s),outlined:""},model:{value:t.params[s],callback:function(e){t.$set(t.params,s,e)},expression:"params[field]"}}):"noyes"===e?a("q-select",{attrs:{options:["No","Yes"],label:t.title(s),outlined:""},model:{value:t.params[s],callback:function(e){t.$set(t.params,s,e)},expression:"params[field]"}}):"PL"===e?a("PriceListSelectDropDown",{attrs:{label:t.title(s),outlined:"",get:"id"},model:{value:t.params[s],callback:function(e){t.$set(t.params,s,e)},expression:"params[field]"}}):"seats_input"===e?a("SeatInputSeats",{attrs:{label:t.title(s),outlined:""},model:{value:t.params[s],callback:function(e){t.$set(t.params,s,e)},expression:"params[field]"}}):"tax_contents"===e?a("TaxContentManage",{attrs:{label:t.title(s)},model:{value:t.params[s],callback:function(e){t.$set(t.params,s,e)},expression:"params[field]"}}):"items_choose"===e?a("ItemsChoose",{attrs:{label:t.title(s)},model:{value:t.params[s],callback:function(e){t.$set(t.params,s,e)},expression:"params[field]"}}):"login_pin"===e?a("UserLoginPin",{attrs:{label:t.title(s),outlined:"",update:t.data?t.data[s]:null},model:{value:t.params[s],callback:function(e){t.$set(t.params,s,e)},expression:"params[field]"}}):"login_user"===e?a("UserLoginUserName",{attrs:{label:t.title(s),outlined:"",update:t.data?t.data[s]:null},model:{value:t.params[s],callback:function(e){t.$set(t.params,s,e)},expression:"params[field]"}}):a("q-input",{attrs:{type:e,label:t.title(s),outlined:""},model:{value:t.params[s],callback:function(e){t.$set(t.params,s,e)},expression:"params[field]"}})]})),t._t("default"),a("q-btn",{staticClass:"block full-width",attrs:{label:"Save",color:"light-blue",loading:t.loading},on:{click:function(e){return t.$emit("save",t.params)}}})],2)},n=[],i=a("9061"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-select",t._b({attrs:{options:t.options,value:t.optValue,"use-chips":"",multiple:"","stack-label":"","use-input":""},on:{input:t.doEmit}},"q-select",t.$attrs,!1))},o=[],l=(a("5db7"),a("73d9"),a("2071")),c={name:"SeatInputSeats",mixins:[l["a"]],computed:{optValue(){return _.isArray(this.value)?this.value:this.value?[this.value]:[]},options(){let t=0,e=_.flatMap(this.$store.state.seating.data,"seats"),a=_.map(Array(_.max(e)-_.min(e)+1+20),(()=>++t));return _.difference(a,e)}}},u=c,d=a("2877"),m=a("ddd8"),p=a("eebe"),h=a.n(p),f=Object(d["a"])(u,r,o,!1,null,null,null),b=f.exports;h()(f,"components",{QSelect:m["a"]});var g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",[a("q-card-section",{staticClass:"bg-grey-2 text-bold"},[t._v(t._s(t.label||"Add/Edit Tax Contents"))]),a("q-card-section",{staticClass:"row q-col-gutter-xs"},t._l(t.contents,(function(e,s){return a("div",{key:"tcm-"+s,staticClass:"col-sm-4 col-md-3 col-lg-2 col-xl-1",class:t.colXSCls},[a("q-card",[a("q-card-section",{staticClass:"text-bold bg-grey-1"},[t._v(t._s(e.name))]),a("q-card-section",{staticClass:"text-caption text-center text-weight-bold"},[t._v("\n            "+t._s(e.nature||"-")),a("br"),t._v(t._s(e.percent)+"%\n          ")]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{size:"xs",icon:"delete",color:"negative"},on:{click:function(e){return t.remove(s)}}}),a("q-btn",{attrs:{size:"xs",icon:"edit",color:"warning"},on:{click:function(e){return t.edit(s)}}})],1)],1)],1)})),0),a("q-card-actions",{staticClass:"bg-grey-1 q-px-md"},[a("div",{staticClass:"col-12 q-col-gutter-xs row"},[a("div",{staticClass:"col-3"},[a("q-input",{attrs:{dense:"",outlined:"",label:"Name"},model:{value:t.fresh["name"],callback:function(e){t.$set(t.fresh,"name",e)},expression:"fresh['name']"}})],1),a("div",{staticClass:"col-3"},[a("q-input",{attrs:{dense:"",outlined:"",label:"Nature"},model:{value:t.fresh["nature"],callback:function(e){t.$set(t.fresh,"nature",e)},expression:"fresh['nature']"}})],1),a("div",{staticClass:"col-3"},[a("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Percent"},model:{value:t.fresh["percent"],callback:function(e){t.$set(t.fresh,"percent",t._n(e))},expression:"fresh['percent']"}})],1),a("div",{staticClass:"col-3"},[a("q-btn",{staticClass:"full-width full-height",attrs:{dense:"",icon:"add",color:"secondary"},on:{click:t.add}})],1)])])],1)},v=[],q=(a("a434"),{name:"TaxContentManage",props:["value","label"],data(){return{contents:[],fresh:{name:"",percent:"",nature:""}}},computed:{colXSCls(){return"col-xs-"+[12,6,4][_.toInteger(this.$q.screen.width/220)]}},methods:{add(){this.contents.push(_.clone(this.fresh)),_.forEach(this.fresh,((t,e)=>this.fresh[e]=""))},remove(t){return this.contents.splice(t,1)},edit(t){return _.forEach(this.remove(t)[0],((t,e)=>this.fresh[e]=t))}},watch:{contents:{deep:!0,immediate:!0,handler(t){return this.$emit("input",t)}},value:{deep:!0,immediate:!0,handler(){this.contents=this.value?this.value:[]}}}}),y=q,x=a("f09f"),C=a("a370"),k=a("4b7e"),w=a("9c40"),I=a("27f9"),$=Object(d["a"])(y,g,v,!1,null,null,null),Q=$.exports;h()($,"components",{QCard:x["a"],QCardSection:C["a"],QCardActions:k["a"],QBtn:w["a"],QInput:I["a"]});var O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",[a("q-card-section",{staticClass:"text-weight-bold bg-grey-1"},[t._v(t._s(t.label||"Choose Items"))]),a("q-card-section",[a("FilterInputText",{staticClass:"q-mb-sm",on:{text:t.fTxt}}),t._l(t.items,(function(e){return a("q-chip",{key:"tic-"+e.id,attrs:{color:"secondary",outline:!t.chosen.includes(e.id),clickable:""},on:{click:function(a){return t.toggle(e)}}},[a("q-avatar",[a("q-img",{attrs:{src:e.image}})],1),t._v(t._s(e.name))],1)}))],2)],1)},j=[],S=(a("c975"),a("ded3")),D=a.n(S),E=a("2f62"),L=a("b1c1"),N=a("5ab9"),P={name:"ItemsChoose",components:{FilterInputText:N["a"]},data(){return{chosen:[],filter:""}},props:["label","value"],computed:D()({},Object(E["d"])("items",{items({data:t}){return this.filter?_(t).filter(this.has).map(this.itmObj).value():_.map(t,this.itmObj)}})),methods:{fTxt(t){this.filter=t?t.toLowerCase():""},toggle({id:t}){let e=_.indexOf(this.chosen,t);e>-1?this.chosen.splice(e,1):this.chosen.push(t),this.$emit("input",this.chosen)},image(t){return Object(L["e"])(t)},itmObj({id:t,name:e,image:a}){return _.zipObject(["id","name","image"],[t,e,this.image(a)])},has({name:t}){return t.toLowerCase().includes(this.filter)}},watch:{value:{immediate:!0,deep:!0,handler(){this.chosen=_.clone(this.value?_.isArray(this.value)?this.value:[this.value]:[])}}}},T=P,A=a("b047"),M=a("cb32"),z=a("068f"),B=Object(d["a"])(T,O,j,!1,null,null,null),F=B.exports;h()(B,"components",{QCard:x["a"],QCardSection:C["a"],QChip:A["a"],QAvatar:M["a"],QImg:z["a"]});var Y=a("97b7"),K=a("bf8e"),U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-input",t._b({ref:"input",attrs:{type:"number",rules:t.rules,"lazy-rules":"",clearable:""},model:{value:t.v_pin,callback:function(e){t.v_pin=e},expression:"v_pin"}},"q-input",t.$attrs,!1))},R=[],H=(a("e6cf"),{name:"UserLoginPin",props:["value","update"],data(){return{pin:"",rules:[t=>!!t||"PIN Required",t=>4===t.length||"4 Digit",this.unique]}},computed:{pins(){return _.map(this.$store.state.users.data,"pin")},v_pin:{get(){return(this.pin||this.value).substr(-4)},set(t){this.pin=_.size(t)>4?t.substr(-4):t}}},methods:{unique(t){return Promise.resolve(this.update&&this.update===t||!this.pins.includes(t)||"PIN is already using by another user")}},watch:{pin(t){let e=this.$refs.input.validate(t);return _.isBoolean(e)?this.$emit("input",e?t:""):_.isObject(e)?e.then((e=>this.$emit("input",e?t:""))):void 0},value(t){this.v_pin=t}}}),V=H,J=Object(d["a"])(V,U,R,!1,null,null,null),W=J.exports;h()(J,"components",{QInput:I["a"]});var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-input",t._b({ref:"input",attrs:{rules:t.rules,"lazy-rules":"",clearable:""},model:{value:t.v_login,callback:function(e){t.v_login=e},expression:"v_login"}},"q-input",t.$attrs,!1))},G=[],Z={name:"UserLoginUserName",props:["value","update"],data(){return{login:"",rules:[t=>!!t||"Login Required",this.unique]}},computed:{logins(){return _.map(this.$store.state.users.data,"login")},v_login:{get(){return this.login||this.value},set(t){this.login=t}}},methods:{unique(t){return Promise.resolve(this.update&&this.update===t||!this.logins.includes(t)||"This is already using by another user")}},watch:{login(t){let e=this.$refs.input.validate(t);return _.isBoolean(e)?this.$emit("input",e?t:""):_.isObject(e)?e.then((e=>this.$emit("input",e?t:""))):void 0},value(t){this.v_login=t}}},tt=Z,et=Object(d["a"])(tt,X,G,!1,null,null,null),at=et.exports;h()(et,"components",{QInput:I["a"]});const st={status:"Active",yesno:"Yes",noyes:"No"};var nt={name:"MasterForm",components:{UserLoginUserName:at,UserLoginPin:W,KitchenSelectDropDown:K["a"],AdministratorMasterPriceListPriceSet:Y["a"],ItemsChoose:F,TaxContentManage:Q,SeatInputSeats:b,PriceListSelectDropDown:i["a"]},props:["fields","data","loading"],data(){return{params:{}}},methods:{title(t){return _.startCase(t)},defs(t){return _.get(st,t,"")},reset(){let t=this;_.forEach(this.params,((e,a)=>t.$set(t["params"],a,this.defs(this.fields[a])))),this.$emit("new")}},watch:{fields:{immediate:!0,deep:!0,handler(){let t=this;_.forEach(this.fields,((e,a)=>t.$set(t["params"],a,_.get(this.data,a,this.defs(e)))))}},data(t){let e=this;_.forEach(t,((t,a)=>_.has(e["params"],a)?e["params"][a]=t:null))}}},it=nt,rt=a("0378"),ot=Object(d["a"])(it,s,n,!1,null,null,null);e["a"]=ot.exports;h()(ot,"components",{QForm:rt["a"],QBtn:w["a"],QSelect:m["a"],QInput:I["a"]})},"9ee2":function(t,e,a){"use strict";var s=a("2f62"),n=a("232e");e["a"]={computed:Object(s["d"])({seats({seating:{data:t},tokens:e,prices:{list:a},users:s,customers:n}){let i=_.keyBy(e.data,"seating");return _.map(t,(t=>{let e=_.toInteger(t.id),r=_.get(i,e);return r?this.seatToken(t,r,a[r.price_list],_.get(s,["data",r.user]),_.get(n,["data",r.customer])):Object.assign({},t,{status:"Vacant"})}))}}),methods:{seatToken(t,{id:e,date:a,progress:s},i,r,o){return s="Billed"===s&&"Paid"===_.get(this.bills,e)?"Paid":s,Object.assign({},t,_.zipObject(["token","price","user","waiter","customer_id","customer","phone","progress","date","status"],[e,i.name,_.get(r,"id"),_.get(r,"name"),_.get(o,"id"),_.get(o,"name"),_.get(o,"phone"),s,a,n["j"][s]]))}}}},a861:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-list",{attrs:{separator:"",bordered:""}},[t._l(t.rows,(function(e){return a("q-item",{key:t.hKey(e),attrs:{disable:"Cancelled"===e.progress}},[a("q-item-section",[a("q-item-label",[t._v(t._s(e.quantity)+" x "+t._s(t.itemName(e))),e.narration?a("span",[t._v(" ("+t._s(e.narration)+")")]):t._e()]),t.delay(e)?a("q-item-label",{attrs:{lines:"1",caption:""}},[t._v("Delay: "+t._s(t.delay(e))+" seconds")]):t._e(),t.kitchen(e)?a("q-item-label",{attrs:{lines:"1",caption:""}},[t._v("Kitchen: "+t._s(t.kitchen(e)))]):t._e()],1),a("q-item-section",{attrs:{side:""}},[a("q-badge",{staticClass:"q-py-xs",attrs:{label:e.progress}})],1),a("q-item-section",{attrs:{side:""}},[t.editable(e)?a("q-btn",{attrs:{icon:"edit",color:"warning",round:"",dense:""},on:{click:function(a){t.edit_mode=!!(t.edit_obj=e)}}}):t._e(),"Completed"===e.progress?a("q-btn",{attrs:{icon:"how_to_reg",color:"positive",round:"",dense:""},on:{click:function(a){return t.served(e)}}}):t._e()],1),a("q-inner-loading",{attrs:{showing:t.processing.includes(e.id)}},[a("q-spinner-facebook",{attrs:{color:"primary",size:"2em"}})],1)],1)})),a("q-dialog",{attrs:{persistent:""},model:{value:t.edit_mode,callback:function(e){t.edit_mode=e},expression:"edit_mode"}},[a("OrderSummaryItemUpdate",t._b({staticStyle:{width:"700px","max-width":"90vw"},attrs:{token:t.order},on:{close:function(e){t.edit_mode=!!(t.edit_obj=null)}}},"OrderSummaryItemUpdate",t.edit_obj,!1))],1)],2)},n=[],i=a("ded3"),r=a.n(i),o=a("2f62"),l=a("b1c1"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",[a("q-card-section",{staticClass:"row items-center q-pb-none"},[a("div",{staticClass:"text-h6"},[t._v("Update "+t._s(t.name))]),a("q-space"),a("q-btn",{attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:function(e){return t.$emit("close",null)}}})],1),a("q-card-section",{staticClass:"q-gutter-xs q-pb-none"},[a("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Quantity"},model:{value:t.params.quantity,callback:function(e){t.$set(t.params,"quantity",t._n(e))},expression:"params.quantity"}}),a("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Delay in Minutes"},model:{value:t.params.delay,callback:function(e){t.$set(t.params,"delay",t._n(e))},expression:"params.delay"}}),a("q-input",{attrs:{dense:"",type:"textarea",outlined:"",label:"Narration if any"},model:{value:t.params.narration,callback:function(e){t.$set(t.params,"narration",e)},expression:"params.narration"}})],1),a("q-card-actions",{staticClass:"q-px-md q-pt-xs",attrs:{align:"right"}},[a("q-btn",{attrs:{color:"negative",label:"Cancel Item",type:"submit",disable:t.loading,icon:"delete"},on:{click:function(e){return e.preventDefault(),t.cancel(e)}}}),a("q-space"),a("q-btn",{attrs:{color:"warning",flat:"",label:"Close",type:"submit",disable:t.loading},on:{click:function(e){return e.preventDefault(),t.$emit("close",null)}}}),a("q-btn",{attrs:{color:"primary",label:"Update Item",type:"submit",loading:t.loading},on:{click:function(e){return e.preventDefault(),t.update(e)}}})],1)],1)},u=[],d={name:"OrderSummaryItemUpdate",props:["token"],data(){return{loading:!1,params:{item:null,quantity:1,narration:"",delay:0,id:null}}},computed:{name(){return _.get(this.$store.state.items,[this.params.item,"name"])}},methods:{cancel(){this.loading=!0,post("token","cancel",{id:this.params.id}).then((()=>{this.$emit("close")})).catch().then((()=>this.loading=!1))},update(){this.loading=!0,post("token","item",this.params).then((()=>this.$emit("close"))).catch().then((()=>this.loading=!1))}},created(){_.forEach(["item","quantity","narration","id"],(t=>this.params[t]=_.get(this.$attrs,t))),this.$attrs.delay&&this.$attrs.delay>0&&1e3*this.$attrs.delay>(new Date).getTime()?this.params.delay=_.ceil((this.$attrs.delay-_.toInteger((new Date).getTime()/1e3))/60):this.params.delay=0}},m=d,p=a("2877"),h=a("f09f"),f=a("a370"),b=a("2c91"),g=a("9c40"),v=a("27f9"),q=a("4b7e"),y=a("eebe"),x=a.n(y),C=Object(p["a"])(m,c,u,!1,null,null,null),k=C.exports;x()(C,"components",{QCard:h["a"],QCardSection:f["a"],QSpace:b["a"],QBtn:g["a"],QInput:v["a"],QCardActions:q["a"]});var w={name:"OrderSummaryWaiterOrderItemsList",components:{OrderSummaryItemUpdate:k},props:["order"],data(){return{edit_mode:!1,edit_obj:null,processing:[],completed:[]}},computed:r()({rows(){return _.get(this.$store.state.tokens.items,_.toInteger(this.order),[])}},Object(o["d"])({items:({items:{data:t}})=>t,kitchens:({kitchens:{data:t}})=>t})),methods:{hKey({id:t,item:e}){return Object(l["d"])("waiter","order","items","list","item",e,"id",t)},itemName({item:t}){return _.get(this.items,[_.toSafeInteger(t),"name"])},delay({delay:t}){return t>0&&1e3*t>(new Date).getTime()?t-_.toInteger((new Date).getTime()/1e3):0},kitchen({kitchen:t}){return _.get(this.kitchens,[_.toSafeInteger(t),"name"],null)},editable({progress:t}){return["New","Accepted"].includes(t)},edit(t){this.edit_obj=t,this.edit_mode=!0},served({id:t}){this.processing.push(t),post("token","served",{id:t}).then((()=>this.processing=_.difference(this.processing,[t])))}},created(){this.completed=_(this.rows).filter(["progress","Completed"]).map("id").value()},watch:{rows:{deep:!0,handler(t){_.forEach(t,(({progress:t,id:e})=>"Completed"!==t||this.completed.includes(e)?null:Object(l["a"])(this.completed.push(e))))}}}},I=w,$=a("1c1c"),Q=a("66e5"),O=a("4074"),j=a("0170"),S=a("58a8"),D=a("74f7"),E=a("e669"),L=a("24e8"),N=Object(p["a"])(I,s,n,!1,null,null,null);e["a"]=N.exports;x()(N,"components",{QList:$["a"],QItem:Q["a"],QItemSection:O["a"],QItemLabel:j["a"],QBadge:S["a"],QBtn:g["a"],QInnerLoading:D["a"],QSpinnerFacebook:E["a"],QDialog:L["a"]})},b1c1:function(t,e,a){"use strict";a.d(e,"a",(function(){return d})),a.d(e,"d",(function(){return m})),a.d(e,"k",(function(){return p})),a.d(e,"l",(function(){return h})),a.d(e,"n",(function(){return f})),a.d(e,"m",(function(){return g})),a.d(e,"i",(function(){return v})),a.d(e,"j",(function(){return q})),a.d(e,"c",(function(){return x})),a.d(e,"p",(function(){return C})),a.d(e,"h",(function(){return k})),a.d(e,"g",(function(){return w})),a.d(e,"q",(function(){return I})),a.d(e,"o",(function(){return $})),a.d(e,"f",(function(){return Q})),a.d(e,"b",(function(){return O})),a.d(e,"e",(function(){return j})),a.d(e,"r",(function(){return S}));a("ddb0");const{formatDate:s,extractDate:n,isSameDate:i,startOfDate:r,subtractFromDate:o,addToDate:l,isBetweenDates:c}=a("fe09").date,u=new Audio(MEDIA_ROOT+"/attention.mp3");function d(){u.play()}function m(){return Array.from(arguments).join("-")}function p(t){return _.assign({},t,{label:[t.name,t.phone].join(", ")})}function h(t){return _(t).map(p).value()}function f(t,e){return _.toNumber(t).toFixed(e||2)}function b(t,e,a){let s=_.map(e,(e=>t[e])).join(a||",");return _.assign({},t,{label:s})}function g(t,e,a){return _.map(t,(t=>b(t,e,a||", ")))}function v(t,e,a){return _.includes(_.values(_.pick(t,e)).join(" ").toLowerCase(),a.toString().toLowerCase())}function q(){return _.toInteger((new Date).getTime()/1e3)}function y(t){return t||"YYYY-MM-DD HH:mm:ss"}function x(t,e){return e=y(e),n(t,e)}function C(t,e){return e=y(e),s(n(t,e),"hh:mm A")}function k(t,e){return e=y(e),i(n(t,e),new Date,"day")}function w(t,e,a,s){return s=y(s),i(n(t,s),n(e,s),a||"day")}function I(t,e){return t=y(t),s(e||new Date,t)}function $(t,e){return _.has(t,"from")&&(e=_.get(t,"to",I("YYYY-MM-DD"))+" 11:59:59",t=_.get(t,"from",I("YYYY-MM-DD"))+" 11:59:59"),t=r(t||I(),"day"),e=o(r(e||l(I(),{days:1}),"day"),{seconds:1}),{from:I("YYYY-MM-DD HH:mm:ss",t),to:I("YYYY-MM-DD HH:mm:ss",e)}}function Q(t,e,a){return c(x(t),x(e),x(a),{inclusiveFrom:!0,inclusiveTo:!0,onlyDate:!0})}function O(t,e=0){let a=3735928559^e,s=1103547991^e;for(let n,i=0;i<t.length;i++)n=t.charCodeAt(i),a=Math.imul(a^n,2654435761),s=Math.imul(s^n,1597334677);return a=Math.imul(a^a>>>16,2246822507)^Math.imul(s^s>>>13,3266489909),s=Math.imul(s^s>>>16,2246822507)^Math.imul(a^a>>>13,3266489909),4294967296*(2097151&s)+(a>>>0)}function j(t){return[MEDIA_ROOT,t].join("/")}function S(t){return _.map(_.toPairs(t),(t=>t.join(": "))).join("<br />")}},bf8e:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-select",t._b({attrs:{options:t.options,value:t.optValue},on:{input:t.doEmit}},"q-select",t.$attrs,!1))},n=[],i=a("2071"),r={name:"KitchenSelectDropDown",mixins:[i["a"]],computed:{options(){return _.map(this.$store.state.kitchens.data)}}},o=r,l=a("2877"),c=a("ddd8"),u=a("eebe"),d=a.n(u),m=Object(l["a"])(o,s,n,!1,null,null,null);e["a"]=m.exports;d()(m,"components",{QSelect:c["a"]})},c22d:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("q-card",{attrs:{flat:""}},[a("FilterInputText",{on:{text:function(e){t.search=e}}}),a("q-card-section",{attrs:{horizontal:""}},[a("q-virtual-scroll",{staticStyle:{height:"80vh",width:"24rem"},attrs:{items:t.list,separator:"",bordered:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.item;return[a("q-item",{key:t.hKey(s),attrs:{clickable:"",active:t.current&&t.current.id===s.id,"active-class":"bg-light-blue text-white"},on:{click:function(e){t.current=s}}},[a("q-item-section",[a("q-item-label",[t._v(t._s(s[t.label]))])],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{color:"white",name:"send"}})],1)],1)]}}])}),a("q-card-section",{staticClass:"full-width"},[a("MasterForm",{ref:"master_form",attrs:{data:t.current,fields:t.fields,loading:t.loading},on:{new:function(e){t.current=null},save:t.save}},[t._t("default")],2)],1)],1)],1)],1)},n=[],i=(a("ddb0"),a("b1c1")),r=a("9b77"),o=a("5ab9"),l=a("43fa"),c={name:"AdministratorMasterCommon",components:{CardImageTitle:l["a"],FilterInputText:o["a"],MasterForm:r["a"]},data(){return{search:"",loading:!1,v_current:null}},props:["content","items","label","fields","validate","update","create","filter","extra"],computed:{list(){return _.isEmpty(this.search)?_.isArray(this.items)?this.items:_.values(this.items):_.filter(this.items,(t=>Object(i["i"])(t,this.filter||[this.label],this.search)))},current:{get(){return this.v_current},set(t){this.v_current=t,this.$emit("current",this.v_current)}}},methods:{hKey({id:t}){return Object(i["d"])("masters",this.content,"list",this.content,t)},save(t){if(this.loading=!0,this.extra&&_.size(this.extra)&&_.forEach(this.extra,((e,a)=>this.$set(t,a,e))),!_.every(this.validate||[],(e=>_.isArray(t[e])?!_.isEmpty(t[e]):!!t[e])))return this.loading=!1;this.current&&(t["id"]=this.current.id),post(this.content,_.has(t,"id")&&t["id"]?this.update:this.create,t).then((t=>{this.$emit("response",t),this.current=null,this.$refs["master_form"].reset(),this.loading=!1}))}}},u=c,d=a("2877"),m=a("9989"),p=a("f09f"),h=a("a370"),f=a("a12b"),b=a("66e5"),g=a("4074"),v=a("0170"),q=a("0016"),y=a("eebe"),x=a.n(y),C=Object(d["a"])(u,s,n,!1,null,null,null);e["a"]=C.exports;x()(C,"components",{QPage:m["a"],QCard:p["a"],QCardSection:h["a"],QVirtualScroll:f["a"],QItem:b["a"],QItemSection:g["a"],QItemLabel:v["a"],QIcon:q["a"]})},c624:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"masonry-container",staticClass:"column full-width masonry-container content-start",class:["masonry"+t.cols,"q-col-gutter-"+(t.gutter||"xs")],style:{height:t.containerHeight}},[t._l(t.cols,(function(t,e){return a("div",{class:{hidden:!e},style:{flex:"1 0 100%",width:0}})})),t._l(t.items,(function(e,s,n){return a("div",{key:t.hKey(s),staticClass:"q-mb-xs",style:{width:t.cell_width},attrs:{tabindex:"0"}},[t._t("item",null,{identity:s,index:n},"object"!==typeof e||Array.isArray(e)?{item:e}:e)],2)}))],2)},n=[],i=a("0831"),r=a("b1c1");const{getScrollHeight:o}=i["a"];var l={name:"Masonry",props:["columns","items","gutter","width"],data(){return{arg:0,containerHeight:null}},computed:{cols(){return this.columns?_.toInteger(this.columns):this.masonry_cols(this.width)},cell_width(){return _.floor(100/this.cols)+"%"}},methods:{hKey(t){return Object(r["d"])("masonry","row",t)},masonry_cols(t){return[1,1,2,3,4,5,6,7,8,9,10,11][_.floor(this.$q.screen.width/_.toInteger(t||220))]||12},set_height(){this.containerHeight=null;let t=o(this.$refs["masonry-container"]),e=_.size(this.items),a=_.ceil(t/e),s=_.ceil(e/this.cols),n=a*s+a;this.containerHeight=n+"px"}},created(){this.arg=_.isArray(this.items)?0:1},mounted(){setTimeout(this.set_height,125*(_.size(this.items)/50+1))}},c=l,u=a("2877"),d=Object(u["a"])(c,s,n,!1,null,null,null);e["a"]=d.exports},e97b:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",[a("q-card-section",{staticClass:"row items-center q-pb-none"},[a("div",{staticClass:"text-h6"},[t._v("Add Item")]),a("q-space"),a("q-btn",{attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:function(e){return t.$emit("close",null)}}})],1),a("q-card-section",{staticClass:"q-gutter-xs q-pb-none"},[a("q-select",{attrs:{outlined:"",dense:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:t.item_options,label:"Select Item",clearable:""},on:{filter:t.filter},model:{value:t.item_obj,callback:function(e){t.item_obj=e},expression:"item_obj"}}),a("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Quantity"},model:{value:t.params.quantity,callback:function(e){t.$set(t.params,"quantity",t._n(e))},expression:"params.quantity"}}),a("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Delay in Minutes"},model:{value:t.params.delay,callback:function(e){t.$set(t.params,"delay",t._n(e))},expression:"params.delay"}}),a("q-input",{attrs:{dense:"",type:"textarea",outlined:"",label:"Narration if any"},model:{value:t.params.narration,callback:function(e){t.$set(t.params,"narration",e)},expression:"params.narration"}})],1),a("q-card-actions",{staticClass:"q-px-md q-pt-xs",attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"Add Item",type:"submit",loading:t.loading},on:{click:function(e){return e.preventDefault(),t.add(e)}}})],1)],1)},n=[],i=(a("c975"),a("ddb0"),a("ded3")),r=a.n(i),o=a("2f62"),l=a("b1c1"),c={name:"OrderSummaryItemAdd",props:["token"],data(){return{item_obj:null,add_item_mode:!1,item_options:[],loading:!1,params:{item:null,quantity:1,narration:"",delay:0,token:null}}},computed:r()(r()({},Object(o["d"])({items:({items:{data:t}})=>t,token_items:({tokens:{items:t}})=>t})),{},{items_in_token(){return _.map(this.token_items[_.toSafeInteger(this.token)],(({item:t})=>_.toSafeInteger(t)))}}),methods:{filter(t,e){e((()=>{const e=(t||"").toLowerCase();this.item_options=e?Object(l["m"])(this.items,["name"]).filter((t=>_.values(t).join(" ").toLowerCase().indexOf(e)>-1)):Object(l["m"])(this.items,["name"])}))},add(){if(this.loading=!0,this.params.item=_.get(this.item_obj,"id",null),this.params.token=this.token,!this.params.quantity||!this.params.item||!this.params.token)return this.loading=!1;post("token","item",this.params).then((()=>this.$emit("close"))).catch().then((()=>this.loading=!1))}},created(){this.item_options=Object(l["m"])(this.items,["name"],"")}},u=c,d=a("2877"),m=a("f09f"),p=a("a370"),h=a("2c91"),f=a("9c40"),b=a("ddd8"),g=a("27f9"),v=a("4b7e"),q=a("eebe"),y=a.n(q),x=Object(d["a"])(u,s,n,!1,null,null,null);e["a"]=x.exports;y()(x,"components",{QCard:m["a"],QCardSection:p["a"],QSpace:h["a"],QBtn:f["a"],QSelect:b["a"],QInput:g["a"],QCardActions:v["a"]})},ec70:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{class:t.cCls,attrs:{flat:void 0!==t.flat&&t.flat,bordered:void 0!==t.bordered&&t.bordered,dark:void 0!==t.dark&&t.dark}},[t.img?a("q-img",{attrs:{basic:"",src:t.img}},[a("div",{staticClass:"absolute-bottom text-subtitle2 text-center"},[t._v(t._s(t.text))])]):a("q-card-section",[t.icon?a("q-icon",{attrs:{name:t.icon,size:t.size||"sm"}}):t._e(),a("div",{class:"text-"+(t.weight||"bold")},[t._v(t._s(t.text))])],1)],1)},n=[],i={name:"Jumbotron",props:["text","icon","weight","size","bordered","flat","img","color","font","dark"],computed:{cCls(){return _([]).concat(this.color?"bg-"+this.color:null).concat(this.font?"text-"+this.font:null).filter().value()}}},r=i,o=a("2877"),l=a("f09f"),c=a("068f"),u=a("a370"),d=a("0016"),m=a("eebe"),p=a.n(m),h=Object(o["a"])(r,s,n,!1,null,null,null);e["a"]=h.exports;p()(h,"components",{QCard:l["a"],QImg:c["a"],QCardSection:u["a"],QIcon:d["a"]})},ed79:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-btn",{class:{spin:t.since<1},attrs:{flat:"",round:"",dense:"",icon:"sync",disable:t.since<3},on:{click:function(e){return t.$store.dispatch("server/ping")}}})},n=[],i=a("2f62"),r={name:"ManualSync",data(){return{now:0}},computed:Object(i["d"])("server",{since({pinged:t}){return this.now-t}}),created(){setInterval((t=>t.now=_.toInteger((new Date).getTime()/1e3)),1e3,this)}},o=r,l=a("2877"),c=a("9c40"),u=a("eebe"),d=a.n(u),m=Object(l["a"])(o,s,n,!1,null,null,null);e["a"]=m.exports;d()(m,"components",{QBtn:c["a"]})},f567:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));const s={no:"no-image.jpg",item:"item.png",seating:"seating.jpg",kitchen:"kitchen.png",takeaway:"takeaway.jpg",homedelivery:"homedelivery.jpg"}}}]);