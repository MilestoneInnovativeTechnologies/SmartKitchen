(function(t){function e(e){for(var a,o,s=e[0],u=e[1],c=e[2],d=0,l=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&l.push(r[o][0]),r[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);f&&f(e);while(l.length)l.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={1:0},i=[];function o(t){return s.p+"js/"+({}[t]||t)+"."+{2:"87f112e5",3:"b5ef5812",4:"2b193130",5:"43f91feb",6:"9b980bdf",7:"dda01d61",8:"0aa4c393",9:"4025f735",10:"06579dc2",11:"8bb8e88c",12:"1395c5c6",13:"070a0cf0",14:"f2a477b1",15:"efb3f431"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=r[t]=[e,a]}));e.push(n[2]=a);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=o(t);var c=new Error;i=function(e){u.onerror=u.onload=null,clearTimeout(d);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",c.name="ChunkLoadError",c.type=a,c.request=i,n[1](c)}r[t]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=c;i.push([0,0]),n()})({0:function(t,e,n){t.exports=n("2f39")},"0e5d":function(t,e){},"0e68":function(t,e){},"11e3":function(t,e){},"2f39":function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"sync",(function(){return G}));var r={};n.r(r),n.d(r,"post",(function(){return W})),n.d(r,"ping",(function(){return Q})),n.d(r,"init",(function(){return F}));var i={};n.r(i),n.d(i,"roles",(function(){return Z})),n.d(i,"role_users",(function(){return tt}));var o={};n.r(o),n.d(o,"add",(function(){return et}));var s={};n.r(s),n.d(s,"init",(function(){return nt}));var u={};n.r(u),n.d(u,"today",(function(){return ot}));var c={};n.r(c),n.d(c,"add",(function(){return st})),n.d(c,"items",(function(){return ut}));var d={};n.r(d),n.d(d,"add",(function(){return _t}));var f={};n.r(f),n.d(f,"init",(function(){return pt}));var l={};n.r(l),n.d(l,"add",(function(){return St}));var m={};n.r(m),n.d(m,"init",(function(){return bt}));var p={};n.r(p),n.d(p,"add",(function(){return At}));var h={};n.r(h),n.d(h,"init",(function(){return It}));var g={};n.r(g),n.d(g,"kitchen_items",(function(){return Tt})),n.d(g,"kitchen_item_stocks",(function(){return xt})),n.d(g,"my_kitchen_items",(function(){return Ot})),n.d(g,"my_kitchen_item_stocks",(function(){return jt}));var v={};n.r(v),n.d(v,"add",(function(){return Lt})),n.d(v,"items",(function(){return Mt})),n.d(v,"assign",(function(){return Ct})),n.d(v,"status",(function(){return Kt}));var S={};n.r(S),n.d(S,"init",(function(){return Bt}));var b={};n.r(b),n.d(b,"add",(function(){return Vt})),n.d(b,"section",(function(){return Ut}));var y={};n.r(y),n.d(y,"init",(function(){return Jt}));var k={};n.r(k),n.d(k,"add",(function(){return Qt})),n.d(k,"list",(function(){return Ft}));var E={};n.r(E),n.d(E,"init",(function(){return Ht}));var A={};n.r(A),n.d(A,"natures",(function(){return Zt}));var I={};n.r(I),n.d(I,"add",(function(){return te}));var w={};n.r(w),n.d(w,"init",(function(){return ee}));var P={};n.r(P),n.d(P,"add",(function(){return ie}));var T={};n.r(T),n.d(T,"init",(function(){return oe}));var x={};n.r(x),n.d(x,"pending",(function(){return ce}));var O={};n.r(O),n.d(O,"add",(function(){return de}));var j={};n.r(j),n.d(j,"add",(function(){return pe})),n("e6cf"),n("5319"),n("7d6e"),n("e54f"),n("985d"),n("31cd");var L=n("2b0e"),M=n("1f91"),C=n("42d2"),K=n("b05d");L["a"].use(K["a"],{config:{},lang:M["a"],iconSet:C["a"]});var N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},q=[],B={name:"App"},R=B,D=n("2877"),$=Object(D["a"])(R,N,q,!1,null,null,null),V=$.exports,U=n("2f62"),J=function(){return{map:{customers:"customers",bills:"bills",items:"items",item_groups:"groups",kitchens:"kitchens",kitchen_items:["kitchens","items"],kitchen_statuses:["kitchens","status"],menus:"menus",payments:"payments",prices:"prices",price_lists:"price_lists",seating:"seating",tokens:"tokens",token_items:["tokens","items"]},interval:5e3,timeOut:null}},z=n("68a1");function G(t,e){clearInterval(t.timeOut),L["a"].set(t,"timeOut",e)}function W({state:{map:t,interval:e},commit:n,dispatch:a},{item:r,action:i,data:o}){let s=`${r}/${i}`;return new Promise((e=>{api(s,o).then((({headers:a,data:r})=>{if(_.has(a,"sk-action-result"))try{e(JSON.parse(_.get(a,"sk-action-result")))}catch(i){e(null)}H(r,t,n)}))}))}function Q({state:{map:t,interval:e},commit:n,dispatch:a}){api("ping").then((({data:e})=>H(e,t,n))).catch((()=>null)).then((()=>n("sync",setTimeout(a,e,"ping"))))}function F({commit:t,dispatch:e,state:{interval:n}}){t("sync",setTimeout(e,2500,"ping"))}function H(t,e,n){t&&!_.isEmpty(t)&&_.forEach(t,((t,a)=>{if(!_.has(e,a)||_.isEmpty(_.get(e,a)))return!0;let r=_.get(e,a),i=null;_.isString(r)?i="add":(i=r[1],r=r[0]);let o=`${r}/${i}`;n(o,t,{root:!0})}))}var X={namespaced:!0,getters:z,mutations:a,actions:r,state:J},Y=function(){return{data:{}}};function Z({data:t}){return _(t).map("role").uniq().value()}function tt({data:t}){return e=>_(t).filter(["role",e]).value()}function et(t,e){_.isArray(e)||(e=[e]),_.forEach(e,(e=>{if(!e.id)return;let n=_.toSafeInteger(e.id);_.has(t.data,n)&&L["a"].delete(t.data,n),L["a"].set(t.data,n,e)}))}function nt({commit:t}){let e=["USERS"];_.forEach(e,(e=>_.has(DATA,e)&&DATA[e]?t("add",DATA[e]):null))}var at={namespaced:!0,getters:i,mutations:o,actions:s,state:Y},rt=function(){return{data:{},items:{}}};const{isSameDate:it}=n("fe09").date;function ot({data:t}){return _(t).filter((({date:t})=>it(new Date(t),new Date,"day"))).mapKeys((({id:t})=>_.toSafeInteger(t))).value()}function st(t,e){_.isArray(e)||(e=[e]),_.forEach(e,(e=>{if(!e.id)return;let n=_.toSafeInteger(e.id);_.has(t.data,n)&&L["a"].delete(t.data,n),L["a"].set(t.data,n,e)}))}function ut(t,e){if(!e)return;_.isArray(e)||(e=[e]);let n=_.groupBy(e,"token");_.forEach(n,((e,n)=>{n=_.toSafeInteger(n),_.has(t.items,n)?_.forEach(e,(e=>{let a=_.findIndex(t.items[n],["id",_.toSafeInteger(e.id)]);a<0?t.items[n].push(ct(e)):L["a"].set(t.items[n],a,ct(e))})):L["a"].set(t.items,n,_.map(e,ct))}))}function ct({id:t,token:e,user:n,item:a,quantity:r,kitchen:i,progress:o,delay:s,narration:u,progress_timing:c}){return _.fromPairs([["id",_.toSafeInteger(t)],["token",_.toSafeInteger(e)],["user",_.toSafeInteger(n)],["item",_.toSafeInteger(a)],["kitchen",_.toSafeInteger(i)],["quantity",_.toNumber(r)],["delay",_.toNumber(s)],["progress",o],["narration",u],["progress_timing",c]])}var dt=n("3001"),ft={namespaced:!0,state:rt,getters:u,mutations:c,actions:dt},lt=function(){return{data:{}}},mt=n("0e68");function _t(t,e){_.isArray(e)||(e=[e]),_.forEach(e,(e=>{if(!e.id)return;let n=_.toSafeInteger(e.id);_.has(t.data,n)&&L["a"].delete(t.data,n),L["a"].set(t.data,n,e)}))}function pt({commit:t}){"undefined"!==typeof _ASSET_Customer&&t("add",_ASSET_Customer)}var ht={namespaced:!0,state:lt,getters:mt,mutations:d,actions:f},gt=function(){return{data:{}}},vt=n("0e5d");function St(t,e){_.isArray(e)||(e=[e]),_.forEach(e,(e=>{if(!e.id)return;let n=_.toSafeInteger(e.id);_.has(t.data,n)&&L["a"].delete(t.data,n),L["a"].set(t.data,n,e)}))}function bt({commit:t}){"undefined"!==typeof _ASSET_Item&&t("add",_ASSET_Item)}var yt={namespaced:!0,state:gt,getters:vt,mutations:l,actions:m},kt=function(){return{data:{}}},Et=n("11e3");function At(t,e){_.isArray(e)||(e=[e]),_.forEach(e,(e=>{if(!e.id)return;let n=_.toSafeInteger(e.id);_.has(t.data,n)&&L["a"].delete(t.data,n),L["a"].set(t.data,n,e)}))}function It({commit:t}){"undefined"!==typeof _ASSET_ItemGroup&&t("add",_ASSET_ItemGroup)}var wt={namespaced:!0,state:kt,getters:Et,mutations:p,actions:h},Pt=function(){return{data:{},items:{},status:{},assign:[]}};function Tt({assign:t,items:e}){return _(e).pick(t).flatMap().map("item").value()}function xt({assign:t,items:e}){return _(e).pick(t).flatMap().mapKeys("item").mapValues("stock").value()}function Ot({items:t}){return e=>_(t[_.toSafeInteger(e)]).flatMap().map((({item:t})=>_.toSafeInteger(t))).value()}function jt({items:t}){return e=>_(t[_.toSafeInteger(e)]).flatMap().mapKeys("item").mapValues("stock").value()}function Lt(t,e){_.isArray(e)||(e=[e]),_.forEach(e,(e=>{if(!e.id)return;let n=_.toSafeInteger(e.id);_.has(t.data,n)&&L["a"].delete(t.data,n),L["a"].set(t.data,n,e)}))}function Mt(t,e){if(!e)return;_.isArray(e)||(e=[e]);let n=_.groupBy(e,"kitchen");_.forEach(n,((e,n)=>{n=_.toSafeInteger(n),_.has(t.items,n)?_.forEach(e,(e=>{let a=_.findIndex(t.items[n],["id",_.toSafeInteger(e.id)]);a<0?t.items[n].push(Nt(e)):L["a"].set(t.items[n],a,Nt(e))})):L["a"].set(t.items,n,_.map(e,Nt))}))}function Ct(t,e){if(_.isArray(e))return t.assign=_.map(e,_.toSafeInteger);e=_.toSafeInteger(e),t.assign.includes(e)||t.assign.push(e)}function Kt(t,e){if(!e)return;_.isArray(e)||(e=[e]);let n=_.keyBy(e,"kitchen");_.forEach(n,((e,n)=>{n=_.toSafeInteger(n),_.has(t.status,n)&&L["a"].delete(t.status,n),L["a"].set(t.status,n,qt(e))}))}function Nt({id:t,stock:e,item:n,kitchen:a,duration:r,auto_process:i,status:o}){return _.fromPairs([["id",_.toSafeInteger(t)],["stock",_.toNumber(e)],["item",_.toSafeInteger(n)],["kitchen",_.toSafeInteger(a)],["duration",_.toNumber(r)],["auto_process",i],["status",o]])}function qt({users:t,status:e,kitchen:n}){return _.zipObject(["kitchen","users","status"],[_.toSafeInteger(n),_.map(t,_.toSafeInteger),e])}function Bt({commit:t}){"undefined"!==typeof _ASSET_Kitchen&&t("add",_ASSET_Kitchen),"undefined"!==typeof _ASSET_KitchenItem&&t("items",_ASSET_KitchenItem)}n("5db7"),n("73d9");var Rt={namespaced:!0,state:Pt,getters:g,mutations:v,actions:S},Dt=function(){return{data:{},section:"",s_items:[]}},$t=n("8d21");function Vt(t,e){_.isArray(e)||(e=[e]),_.forEach(e,(e=>{if(!e.id)return;let n=_.toSafeInteger(e.id);_.has(t.data,n)&&L["a"].delete(t.data,n),L["a"].set(t.data,n,e)}))}function Ut(t,e){if(!e)return t.s_items.splice(0,t.s_items.length);_.forEach(e,((e,n)=>{t["section"]=n,t["s_items"]=_.map(e,_.toSafeInteger)}))}function Jt({commit:t}){"undefined"!==typeof _ASSET_Menu&&t("add",_ASSET_Menu),"undefined"!==typeof _SECTION&&t("section",_SECTION)}n("a434");var zt={namespaced:!0,state:Dt,getters:$t,mutations:b,actions:y},Gt=function(){return{data:{},list:{}}},Wt=n("d46a");function Qt(t,e){_.isArray(e)||(e=[e]),_.forEach(e,(e=>{if(!e.id)return;let n=_.toSafeInteger(e.id);_.has(t.data,n)&&L["a"].delete(t.data,n),L["a"].set(t.data,n,e)}))}function Ft(t,e){_.isArray(e)||(e=[e]),_.forEach(e,(e=>{if(!e.id)return;let n=_.toSafeInteger(e.id);_.has(t.list,n)&&L["a"].delete(t.list,n),L["a"].set(t.list,n,e)}))}function Ht({commit:t}){"undefined"!==typeof _ASSET_Price&&t("add",_ASSET_Price),"undefined"!==typeof _ASSET_PriceList&&t("list",_ASSET_PriceList)}var Xt={namespaced:!0,state:Gt,getters:Wt,mutations:k,actions:E},Yt=function(){return{data:{}}};function Zt({data:t}){return _(t).filter(["status","Active"]).flatMap((({contents:t})=>_.map(t,"nature"))).uniq().value()}function te(t,e){_.isArray(e)||(e=[e]),_.forEach(e,(e=>{if(!e.id)return;let n=_.toSafeInteger(e.id);_.has(t.data,n)&&L["a"].delete(t.data,n),L["a"].set(t.data,n,e)}))}function ee({commit:t}){"undefined"!==typeof _ASSET_Tax&&t("add",_ASSET_Tax)}var ne={namespaced:!0,state:Yt,getters:A,mutations:I,actions:w},ae=function(){return{data:{}}},re=n("8f32");function ie(t,e){_.isArray(e)||(e=[e]),_.forEach(e,(e=>{if(!e.id)return;let n=_.toSafeInteger(e.id);_.has(t.data,n)&&L["a"].delete(t.data,n),L["a"].set(t.data,n,e)}))}function oe({commit:t}){"undefined"!==typeof _ASSET_Seating&&t("add",_ASSET_Seating)}var se={namespaced:!0,state:ae,getters:re,mutations:P,actions:T},ue=function(){return{data:{}}};function ce({data:t}){return _(t).filter((({progress:t})=>["Pending","Partial"].includes(t))).mapKeys((({id:t})=>_.toInteger(t))).value()}function de(t,e){_.isArray(e)||(e=[e]),_.forEach(e,(e=>{if(!e.id)return;let n=_.toSafeInteger(e.id);_.has(t.data,n)&&L["a"].delete(t.data,n),L["a"].set(t.data,n,e)}))}var fe=n("7291"),le={namespaced:!0,state:ue,getters:x,mutations:O,actions:fe},me=function(){return{data:{}}},_e=n("f875");function pe(t,e){_.isArray(e)||(e=[e]),_.forEach(e,(e=>{if(!e.id)return;let n=_.toSafeInteger(e.id);_.has(t.data,n)&&L["a"].delete(t.data,n),L["a"].set(t.data,n,e)}))}var he=n("ccf2"),ge={namespaced:!0,state:me,getters:_e,mutations:j,actions:he};L["a"].use(U["a"]);var ve=new U["a"].Store({modules:{server:X,users:at,customers:ht,items:yt,groups:wt,menus:zt,prices:Xt,kitchens:Rt,tax:ne,seating:se,tokens:ft,bills:le,payments:ge},state:{title:"",back:null},mutations:{title(t,e){L["a"].set(t,"title",e)},back(t,e){L["a"].set(t,"back",e)}},strict:!1}),Se=n("8c4f");n("ddb0");const{map:be,set:ye}=n("2ef0"),ke={Login:{path:"/",component:()=>Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"4632"))},Waiter:{path:"/",component:()=>Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"657a"))},Chef:{path:"/",component:()=>Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"b56d"))},Receptionist:{path:"/",component:()=>Promise.all([n.e(0),n.e(10)]).then(n.bind(null,"7711"))}},Ee={Login:[],Waiter:["waiter_index","orders","order_new"],Chef:["chef_index","kitchen_items","tokens"],Receptionist:["receptionist_index","receptionist_tokens","bills"]},Ae={waiter_index:{name:"waiter_index",path:"",component:()=>Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"c2e6")),meta:{title:""}},orders:{name:"orders",path:"/orders",component:()=>Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"509f")),meta:{title:"Order"}},order_new:{name:"order_new",path:"/order/new",component:()=>Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"572d")),meta:{title:"New Order",back:!0}},chef_index:{name:"chef_index",path:"",component:()=>Promise.all([n.e(0),n.e(12)]).then(n.bind(null,"8443")),meta:{title:""}},kitchen_items:{name:"kitchen_items",path:"kitchen/items",component:()=>Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"1984")),meta:{title:"Kitchen Item Stock"}},tokens:{name:"tokens",path:"/tokens",component:()=>Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"2836")),meta:{title:"Tokens"}},receptionist_index:{name:"receptionist_index",path:"",component:()=>Promise.all([n.e(0),n.e(14)]).then(n.bind(null,"16e6")),meta:{title:""}},receptionist_tokens:{name:"receptionist_tokens",path:"tokens",component:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"5f49")),meta:{title:"Completed Tokens"}},bills:{name:"bills",path:"bills/pending",component:()=>Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"22b3")),meta:{title:"Pending Bills"}}};function Ie(t){let e=ke[t];if(!t||!e)return console.error("No Page or Layout defined.. Page: ",t," & Layout: ",e)||[];let n=be(Ee[t],(t=>_.get(Ae,t)));return[ye(e,"children",n)]}const we=[...Ie(_ROLE),{path:"*",component:()=>Promise.all([n.e(0),n.e(13)]).then(n.bind(null,"e51e"))}];var Pe=we;L["a"].use(Se["a"]);var Te=function({store:t}){const e=new Se["a"]({scrollBehavior:()=>({x:0,y:0}),routes:Pe,mode:"hash",base:""});return e.beforeEach(((e,n,a)=>{t.commit("title",_.get(e,["meta","title"],""),{root:!0}),t.commit("back",_.has(e,["meta","back"])&&e["meta"]["back"]?n:null,{root:!0}),a()})),e},xe=async function(){const t="function"===typeof ve?await ve({Vue:L["a"]}):ve,e="function"===typeof Te?await Te({Vue:L["a"],store:t}):Te;t.$router=e;const n={router:e,store:t,render:t=>t(V),el:"#q-app"};return{app:n,store:t,router:e}},Oe=n("758b"),je=n("30d4"),Le=n.n(je),Me=n("c60b");const Ce="";async function Ke(){const{app:t,store:e,router:n}=await xe();let a=!1;const r=t=>{a=!0;const e=Object(t)===t?n.resolve(t).route.fullPath:t;window.location.href=e},i=window.location.href.replace(window.location.origin,""),o=[Oe["a"],Le.a,Me["a"]];for(let u=0;!1===a&&u<o.length;u++)if("function"===typeof o[u])try{await o[u]({app:t,router:n,store:e,Vue:L["a"],ssrContext:null,redirect:r,urlPath:i,publicPath:Ce})}catch(s){return s&&s.url?void(window.location.href=s.url):void console.error("[Quasar] boot error:",s)}!0!==a&&new L["a"](t)}Ke()},3001:function(t,e){},"30d4":function(t,e,n){(function(t){t._=n("2ef0")}).call(this,n("c8ba"))},"31cd":function(t,e,n){},"68a1":function(t,e){},7291:function(t,e){},"758b":function(t,e,n){"use strict";(function(t){n("ddb0"),n("2b3d");var a=n("bc3a"),r=n.n(a);const i=r.a.create({headers:{Authorization:"Bearer "+new URLSearchParams(document.location.search.substring(1)).get("token")},baseURL:BASE_URL});e["a"]=()=>{t.api=i.post}}).call(this,n("c8ba"))},"8d21":function(t,e){},"8f32":function(t,e){},c60b:function(t,e,n){"use strict";(function(t){n("e6cf"),e["a"]=async({store:e})=>{t.post=function(t,n,a){return new Promise((r=>{e.dispatch("server/post",{item:t,action:n,data:a},{root:!0}).then(r)}))},_.forEach(e._actions,((t,n)=>"init"===n.substr(-4)?e.dispatch(n,null,{root:!0}):null))}}).call(this,n("c8ba"))},ccf2:function(t,e){},d46a:function(t,e){},f875:function(t,e){}});