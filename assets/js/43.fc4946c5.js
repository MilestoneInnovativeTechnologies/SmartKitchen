(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[43],{8439:function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{attrs:{padding:""}},[i("div",{staticClass:"row q-col-gutter-xs"},[i("div",{staticClass:"col-xs-12 col-sm-6"},[i("DigitMetric",{attrs:{value:e.tokens_own.length,bg:"cyan",text:"white",title:"Own Orders",icon:"receipt"}})],1),i("div",{staticClass:"col-xs-6 lt-sm"},[i("DigitMetric",{attrs:{value:e.deliverable.length,bg:"orange",text:"white",title:"Deliverable",icon:"delivery_dining"}})],1),i("div",{staticClass:"col-xs-6"},[i("DigitMetric",{attrs:{value:e.delivered.length,bg:"green",text:"white",title:"Delivered",icon:"done_all"}})],1),i("div",{staticClass:"col-xs-6 col-sm-4"},[i("DigitMetric",{attrs:{value:e.processing.length,bg:"blue-grey",text:"white",title:"Processing",icon:"memory"}})],1),i("div",{staticClass:"col-xs-6 col-sm-4"},[i("DigitMetric",{attrs:{value:e.Billable.length,bg:"red",text:"white",title:"Billable",icon:"request_quote"}})],1),i("div",{staticClass:"col-xs-6 col-sm-4 gt-xs"},[i("DigitMetric",{attrs:{value:e.deliverable.length,bg:"orange",text:"white",title:"Deliverable",icon:"delivery_dining"}})],1),i("div",{staticClass:"col-xs-6"},[i("DigitMetric",{attrs:{value:e.Payments,bg:"light-green",text:"white",title:"Total Payments",icon:"account_balance_wallet"}})],1),i("div",{staticClass:"col-xs-6"},[i("DigitMetric",{attrs:{value:e.Tokens.length,bg:"deep-purple",text:"white",title:"Total Orders",icon:"format_list_numbered"}})],1)]),i("q-list",[e.processing.length?i("q-item-label",{attrs:{header:""}},[e._v("Processing Orders "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.processing.length>4,expression:"processing.length > 4"}]},[e._v("(+ "+e._s(e.processing.length-4)+" More)")])]):e._e(),i("OrderSummaryDeliveryBoy",{attrs:{tokens:e.take_only(e.processing,4),kitchen:"",separator:""}}),e.Billable.length?i("q-item-label",{attrs:{header:""}},[e._v("Billable Orders "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.Billable.length>4,expression:"Billable.length > 4"}]},[e._v("(+ "+e._s(e.Billable.length-4)+" More)")])]):e._e(),i("OrderSummaryDeliveryBoy",{attrs:{tokens:e.take_only(e.Billable,4),separator:""}}),e.deliverable.length?i("q-item-label",{attrs:{header:""}},[e._v("Deliverable Orders "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.deliverable.length>4,expression:"deliverable.length > 4"}]},[e._v("(+ "+e._s(e.deliverable.length-4)+" More)")])]):e._e(),i("OrderSummaryDeliveryBoy",{attrs:{tokens:e.take_only(e.deliverable,4),address:"",separator:""}})],1),i("OrderNewFabDeliveryBoy")],1)},s=[],r=(i("26e9"),i("58d1")),a=i("b1c1"),n=i("84ba"),o=i("db7a"),d=i("232e"),c=i("9416"),g={name:"PageDeliveryBoyIndex",components:{OrderNewFabDeliveryBoy:c["a"],OrderSummaryDeliveryBoy:o["a"],DigitMetric:n["a"]},mixins:[r["a"]],data(){return{me:parseInt(this.$route.meta.me.id)}},computed:{Tokens(){return _(this.tokens).filter((e=>"Cancelled"!==e.progress&&"Home Delivery"===e.type)).sortBy("id").reverse().map((e=>e.customer?e:Object.assign({},e,{customer:d["NoCustomer"]}))).value()},bills_today(){return _(this.bills).filter((({date:e})=>Object(a["n"])(e))).value()},bills_own(){return _.filter(this.bills_today,["user.id",this.me])},token_bill(){return _(this.Tokens).mapKeys((({id:e})=>parseInt(e))).mapValues(((e,t)=>_.get(_.find(this.bills,["token.id",parseInt(t)]),"id",null))).value()},Billable(){return _.filter(this.Tokens,(({id:e,items:t})=>v(t)&&!_.get(this.token_bill,parseInt(e))))},Payments(){return _.sumBy(this.bills_own,(({paid:e})=>_.toNumber(e)))},tokens_own(){return _.filter(this.Tokens,(({user:e,id:t})=>_.get(this.token_bill,t)?_.find(this.bills_own,["id",_.get(this.token_bill,t)]):e===this.me))},deliverable(){return _(this.tokens_own).filter((({id:e})=>_.get(this.token_bill,parseInt(e))&&"Pending"===_.get(_.find(this.bills,["id",_.get(this.token_bill,parseInt(e))]),"progress"))).value()},processing(){return _.filter(this.tokens_own,(({items:e})=>!v(e)))},delivered(){return _(this.tokens_own).filter((({id:e})=>_.get(this.token_bill,parseInt(e)))).filter((({id:e})=>"Pending"!==_.get(_.find(this.bills,["id",_.get(this.token_bill,e)]),"progress"))).value()}},methods:{take_only(e,t){return _.take(e,t||5)}}};function v(e){return e.length&&_.every(e,(({progress:e})=>_.includes(["Cancelled","Completed","Served"],e)))}var h=g,b=i("2877"),u=i("9989"),m=i("1c1c"),p=i("0170"),y=i("eebe"),w=i.n(y),k=Object(b["a"])(h,l,s,!1,null,null,null);t["default"]=k.exports;w()(k,"components",{QPage:u["a"],QList:m["a"],QItemLabel:p["a"]})}}]);