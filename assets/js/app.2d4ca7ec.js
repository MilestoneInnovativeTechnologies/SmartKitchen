(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],_=0,d=[];_<s.length;_++)o=s[_],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},i={2:0},a=[];function o(e){return s.p+"js/"+({1:"chunk-common"}[e]||e)+"."+{1:"2524f984",3:"23ac412f",4:"9e2bdf2f",5:"dac10d9f",6:"d813fc81",7:"d923468f",8:"da184233",9:"e6a3281c",10:"7fa87b37",11:"ca662bc7",12:"9d17c228",13:"3244d4ef",14:"65d391d4",15:"a81d0a02",16:"27818e00",17:"c4084da0",18:"ae23ce2f",19:"b7adf6a2",20:"4a589f28",21:"22357489",22:"5b3a7ef9",23:"8298bf5d",24:"2792e7bc",25:"cf26a3af",26:"1d5976d2",27:"b07ac907",28:"acd76a62",29:"34d0f0dd",30:"756f02bc",31:"daaae9d7",32:"441ce1af",33:"805cbfc3",34:"bddea093",35:"c9a1c2f0",36:"c99ee0d5",37:"e4c8caa5",38:"a443992d",39:"25e3a4d8",40:"41237c9d",41:"b8efa0e5",42:"386aa399",43:"fec11dd9",44:"36435ee5",45:"d96e9bef",46:"f1425681",47:"72bfff51",48:"8d0d8542",49:"33f16f7d",50:"81b67dca",51:"0ad5d14c",52:"15bfdb60",53:"9e964984",54:"53ae8459",55:"c10e6e51",56:"03467143",57:"1379dd27",58:"eaa7a598",59:"a39b8e18",60:"d508f5bd",61:"107e23ab",62:"2cad1a47",63:"5b5577d7",64:"00c530c6",65:"6fbf90ec",66:"9425a206",67:"7a4223db",68:"09c775f3",69:"9c94f3fb",70:"db2befc8",71:"2a01f284",72:"1c7d6a7b",73:"3d0a4a69",74:"fd6a3186",75:"06e81be9",76:"9f6340d4",77:"8e6a8a95",78:"9942c6c9",79:"6f0830b3",80:"56410b45",81:"4a6ab85d",82:"4224af0c",83:"b724b277",84:"8d8ab16e",85:"6297296c",86:"4ffd1362",87:"4016ba73",88:"257a72c9",89:"7ddbfa85",90:"79f781df",91:"afb00886",92:"a017380a"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=r);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(e);var u=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(_);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",u.name="ChunkLoadError",u.type=r,u.request=a,n[1](u)}i[e]=void 0}};var _=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var _=0;_<c.length;_++)t(c[_]);var l=u;a.push([0,0]),n()})({0:function(e,t,n){e.exports=n("2f39")},"0047":function(e,t,n){},"0e68":function(e,t){},1:function(e,t){},10:function(e,t){},11:function(e,t){},"11e3":function(e,t){},12:function(e,t){},13:function(e,t){},2:function(e,t){},"232e":function(e,t,n){"use strict";n.r(t),n.d(t,"OrderTypes",(function(){return a})),n.d(t,"PaymentsTypes",(function(){return o})),n.d(t,"TokenProgressSeatStatus",(function(){return s})),n.d(t,"SeatStatusCardColor",(function(){return c})),n.d(t,"OrderTypeRequiredFields",(function(){return u})),n.d(t,"OrderTypeRequiredFieldsDB",(function(){return _})),n.d(t,"TokenItemProgressColor",(function(){return l})),n.d(t,"TokenProgressColor",(function(){return d})),n.d(t,"DiningTypeColor",(function(){return m})),n.d(t,"KitchenTokensDisplayMode",(function(){return f})),n.d(t,"TokenDeliveryReadableChecks",(function(){return p})),n.d(t,"Archives",(function(){return h})),n.d(t,"NoCustomer",(function(){return b}));var r=n("b1c1"),i=n("f567");const a=["Dining","Home Delivery","Take Away","Sale","Remote","Other"],o=["Cash","Card","Wallet","Credit"],s={New:"Just Filled",Processing:"Busy/Processing",Completed:"Busy/Served",Billed:"Billed/Vacant",Paid:"Vacant",Cancelled:"Vacant"},c={Vacant:"positive","Just Filled":"lime","Busy/Processing":"red-6","Busy/Served":"red-6","Billed/Vacant":"green-13"},u={Dining:["Seating","Waiter","Customer"],"Home Delivery":["Customer","PriceList"],"Take Away":["Customer","PriceList"],Other:[]},_={Dining:["type","seating","user","customer","price_list"],"Home Delivery":["type","customer","price_list","user"],"Take Away":["type","customer","price_list"],Other:[]},l={New:"red",Accepted:"green-6",Processing:"purple-9",Completed:"positive",Served:"primary",Cancelled:"brown"},d={New:"red",Processing:"purple-9",Completed:"green-6",Billed:"positive",Cancelled:"grey-2"},m={Dining:"purple","Home Delivery":"orange","Take Away":"green",Remote:"cyan"},f=["Token","Progress","Item"],p=[[r["m"],"Today","primary"],[r["n"],"Tomorrow","info"],[r["j"],"Within 2 Days","teal",2],[r["j"],"Within 7 Days","purple-6",7],[r["j"],"Within 30 Days","brown-6",30],[r["j"],"After 1 month","brown-9",180],[r["o"],"Yesterday","pink-6"],[null,"Delayed","red-6"]],h=["Tokens","Orders","Sales","Remote","Bills","Payments"],b={id:0,name:"No Customer Selected",image:i["a"].no,phone:"",address:"",email:""}},"2f39":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"sync",(function(){return se}));var i={};n.r(i),n.d(i,"post",(function(){return ue})),n.d(i,"ping",(function(){return _e})),n.d(i,"init",(function(){return le})),n.d(i,"process",(function(){return de})),n.d(i,"verify",(function(){return me}));var a={};n.r(a),n.d(a,"kitchens",(function(){return ke})),n.d(a,"kitchen_items",(function(){return ye})),n.d(a,"tokens",(function(){return Ee})),n.d(a,"token_items",(function(){return Ie})),n.d(a,"token_item_kitchen_item_reference_location",(function(){return Oe})),n.d(a,"is",(function(){return De})),n.d(a,"token_branch",(function(){return Ae})),n.d(a,"read_reference",(function(){return ve})),n.d(a,"token_item_token",(function(){return Pe}));var o={};n.r(o),n.d(o,"add",(function(){return we})),n.d(o,"uploadFn",(function(){return Te})),n.d(o,"monitorFn",(function(){return Ne})),n.d(o,"monitor",(function(){return Le})),n.d(o,"process",(function(){return Me})),n.d(o,"remove",(function(){return Be}));var s={};n.r(s),n.d(s,"init",(function(){return Ue})),n.d(s,"upload",(function(){return Ke})),n.d(s,"uploadRemoteRecord",(function(){return Ye})),n.d(s,"updateRemoteRecord",(function(){return Fe})),n.d(s,"deleteRemoteEntry",(function(){return We})),n.d(s,"addReference",(function(){return qe})),n.d(s,"monitor",(function(){return He})),n.d(s,"remoteUpdate_kitchens",(function(){return Je})),n.d(s,"subscribeWatch_kitchens",(function(){return Ge})),n.d(s,"remoteUpdate_kitchen_items",(function(){return ze})),n.d(s,"subscribeWatch_kitchen_items",(function(){return Xe})),n.d(s,"remoteUpdate_tokens",(function(){return $e})),n.d(s,"subscribeWatch_tokens",(function(){return Ze})),n.d(s,"remoteUpdate_token_items",(function(){return Qe})),n.d(s,"subscribeWatch_token_items",(function(){return et})),n.d(s,"fetch",(function(){return tt})),n.d(s,"fetchReference",(function(){return nt})),n.d(s,"uploadFetch",(function(){return rt})),n.d(s,"uploadFetchToken",(function(){return it})),n.d(s,"completeToken",(function(){return at})),n.d(s,"processReference",(function(){return ot})),n.d(s,"referenceToken",(function(){return st}));var c={};n.r(c),n.d(c,"roles",(function(){return dt})),n.d(c,"role_users",(function(){return mt}));var u={};n.r(u),n.d(u,"add",(function(){return ft})),n.d(u,"remove",(function(){return pt}));var l={};n.r(l),n.d(l,"init",(function(){return ht}));var d={};n.r(d),n.d(d,"today",(function(){return yt})),n.d(d,"map",(function(){return Et})),n.d(d,"remote",(function(){return It})),n.d(d,"progress",(function(){return Ot}));var m={};n.r(m),n.d(m,"add",(function(){return At})),n.d(m,"items",(function(){return vt})),n.d(m,"image",(function(){return Pt}));var f={};n.r(f),n.d(f,"add",(function(){return Nt}));var p={};n.r(p),n.d(p,"init",(function(){return Lt}));var h={};n.r(h),n.d(h,"prices",(function(){return jt}));var b={};n.r(b),n.d(b,"prop",(function(){return xt})),n.d(b,"add",(function(){return Vt})),n.d(b,"rFun",(function(){return Ut}));var g={};n.r(g),n.d(g,"init",(function(){return Kt}));var k={};n.r(k),n.d(k,"add",(function(){return qt}));var y={};n.r(y),n.d(y,"init",(function(){return Ht}));var E={};n.r(E),n.d(E,"add",(function(){return Xt})),n.d(E,"items",(function(){return $t})),n.d(E,"item_remove",(function(){return Zt})),n.d(E,"items_remove",(function(){return Qt})),n.d(E,"status",(function(){return en}));var I={};n.r(I),n.d(I,"init",(function(){return rn})),n.d(I,"chef",(function(){return an})),n.d(I,"auto",(function(){return on})),n.d(I,"printer",(function(){return sn}));var O={};n.r(O),n.d(O,"sale",(function(){return _n}));var D={};n.r(D),n.d(D,"add",(function(){return ln})),n.d(D,"section",(function(){return dn}));var A={};n.r(A),n.d(A,"init",(function(){return mn})),n.d(A,"toggle",(function(){return fn}));var v={};n.r(v),n.d(v,"items",(function(){return bn})),n.d(v,"sale",(function(){return gn})),n.d(v,"home_delivery",(function(){return kn})),n.d(v,"take_away",(function(){return yn})),n.d(v,"remote",(function(){return En}));var P={};n.r(P),n.d(P,"add",(function(){return In})),n.d(P,"list",(function(){return On}));var S={};n.r(S),n.d(S,"init",(function(){return Dn}));var C={};n.r(C),n.d(C,"natures",(function(){return Pn}));var R={};n.r(R),n.d(R,"add",(function(){return Sn}));var w={};n.r(w),n.d(w,"init",(function(){return Cn}));var T={};n.r(T),n.d(T,"add",(function(){return Nn}));var N={};n.r(N),n.d(N,"init",(function(){return Ln}));var L={};n.r(L),n.d(L,"pending",(function(){return jn}));var M={};n.r(M),n.d(M,"add",(function(){return xn})),n.d(M,"cancel",(function(){return Vn}));var B={};n.r(B),n.d(B,"cancel",(function(){return Un}));var j={};n.r(j),n.d(j,"add",(function(){return Wn})),n.d(j,"cancel",(function(){return qn}));var x={};n.r(x),n.d(x,"cancel",(function(){return Hn}));var V={};n.r(V),n.d(V,"settings",(function(){return zn})),n.d(V,"items_per_page",(function(){return Xn})),n.d(V,"items_search_fields",(function(){return $n}));var U={};n.r(U),n.d(U,"add",(function(){return Zn})),n.d(U,"remove",(function(){return Qn}));var K={};n.r(K),n.d(K,"init",(function(){return er}));var Y={};n.r(Y),n.d(Y,"data",(function(){return ir})),n.d(Y,"remove",(function(){return ar}));var F={};n.r(F),n.d(F,"init",(function(){return _r})),n.d(F,"init_remote",(function(){return lr})),n.d(F,"update",(function(){return dr})),n.d(F,"update_remote",(function(){return mr})),n.d(F,"create",(function(){return fr})),n.d(F,"remove",(function(){return pr})),n.d(F,"subWatch",(function(){return hr})),n.d(F,"token",(function(){return br}));var W={};n.r(W),n.d(W,"odd",(function(){return Er})),n.d(W,"even",(function(){return Ir}));var q={};n.r(q),n.d(q,"add",(function(){return Or})),n.d(q,"add2",(function(){return Dr}));n("e6cf"),n("5319"),n("7d6e"),n("e54f"),n("4848"),n("c382"),n("21cb"),n("3e27"),n("d67f"),n("b794"),n("22485"),n("6721"),n("8767"),n("0571"),n("e046"),n("985d"),n("0047"),n("31cd"),n("5b0d");var H=n("2b0e"),J=n("1f91"),G=n("42d2"),z=n("b05d"),X=n("2a19");H["a"].use(z["a"],{config:{},lang:J["a"],iconSet:G["a"],plugins:{Notify:X["a"]}});var $=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},Z=[],Q={name:"App"},ee=Q,te=n("2877"),ne=Object(te["a"])(ee,$,Z,!1,null,null,null),re=ne.exports,ie=(n("a434"),n("2f62")),ae=function(){return{map:{remotes:"remote",customers:"customers",bills:"bills",items:"items",item_groups:"groups",item_props:["items","prop"],kitchens:"kitchens",kitchen_items:["kitchens","items"],kitchen_statuses:["kitchens","status"],menus:"menus",payments:"payments",prices:"prices",price_lists:["prices","list"],seating:"seating",tokens:"tokens",token_items:["tokens","items"],users:"users",taxes:"tax",settings:"settings"},interval:15e3,timeOut:null,pinged:0}},oe=n("68a1");function se(e,t){clearTimeout(e.timeOut),H["a"].set(e,"timeOut",t),H["a"].set(e,"pinged",_.toInteger((new Date).getTime()/1e3))}n("ddb0");const ce={tokens:[],bills:[],payments:[]};function ue({state:{map:e,interval:t},commit:n,dispatch:r},{item:i,action:a,data:o}){let s=`${i}/${a}`;return new Promise((e=>{api(s,o).then((({headers:t,data:n})=>{if(_.has(t,"sk-action-result"))try{e(JSON.parse(_.get(t,"sk-action-result")))}catch(i){e(null)}r("process",n)}))}))}function _e({state:{interval:e},commit:t,dispatch:n}){api("ping").then((({data:e})=>n("process",e))).catch((()=>null)).then((()=>t("sync",setTimeout(n,e,"ping"))))}function le({commit:e,dispatch:t}){localStorage.getItem("jwt_TOKEN")&&e("sync",setTimeout(t,1e3,"ping"))}function de({state:{map:e},commit:t,dispatch:n},r){r&&!_.isEmpty(r)&&(_.forEach(r,((n,r)=>{if(!_.has(e,r)||_.isEmpty(_.get(e,r)))return!0;let i=_.get(e,r),a=null;_.isString(i)?a="add":(a=i[1],i=i[0]);let o=`${i}/${a}`;t(o,n,{root:!0})})),_.intersection(_.keys(r),["tokens","token_items","bills","payments"]).length&&n("verify"))}function me({rootState:e}){const t=_.map(_.keys(e.tokens.data),_.toInteger),n=_.map(_.keys(e.tokens.items),_.toInteger),r=_(e.bills.data).filter((({status:e})=>"Cancelled"!==e)).map((({token:e})=>_.toInteger(e))).uniq().value(),i=_(e.bills.data).filter((({status:e})=>"Cancelled"!==e)).map((({id:e})=>_.toInteger(e))).value(),a=_(e.payments.data).filter(["status","Active"]).map((({bill:e})=>_.toInteger(e))).uniq().value(),o=_(e.payments.data).filter(["status","Active"]).map((({id:e})=>_.toInteger(e))).value(),s={tokens:[],token_items_of_token:[],bills_of_token:[],bills:[],payments_of_bill:[],payments:[]},c=_.difference(_.concat(t,n),ce.tokens),u=_.difference(_.concat(i,a),ce.bills),l=_.difference(o,ce.payments);c&&c.length&&_.forEach(c,(function(t){_.has(e.tokens.data,t)?_.has(e.tokens.items,t)?"Billed"!==_.get(e.tokens.data,[t,"progress"])||_.includes(r,t)?ce.tokens.push(t):s.bills_of_token.push(t):s.token_items_of_token.push(t):s.tokens.push(t)})),u&&u.length&&_.forEach(u,(function(t){const n=_.get(e.bills.data,t),r=_.get(n,"token");n?_.has(e.tokens.data,r)?_.includes(["Partial","Paid"],n.progress)&&!_.includes(a,t)?s.payments_of_bill.push(t):ce.bills.push(t):s.tokens.push(r):s.bills.push(t)})),l&&l.length&&_.forEach(l,(function(t){const n=_.get(e.payments.data,t),r=_.get(n,"bill");n?_.has(e.bills.data,r)?ce.payments.push(t):s.bills.push(r):s.payments.push(t)})),s.tokens.length?fetch_records("tokens",s.tokens):s.token_items_of_token.length?fetch_records("token_items",s.token_items_of_token,"token"):s.bills_of_token.length?fetch_records("bills",s.bills_of_token,"token"):s.bills.length?fetch_records("bills",s.bills):s.payments_of_bill.length?fetch_records("payments",s.payments_of_bill,"bill"):s.payments.length&&fetch_records("payments",s.payments)}var fe={namespaced:!0,getters:oe,mutations:r,actions:i,state:ae},pe=function(){return{data:{},uploadFn:null,monitorFn:null,processing:!1,pending:0,monitoring:{},picks:{kitchens:["name","auto_accept","cloud","status"],kitchen_items:["stock","duration","auto_process","auto_complete"],items:["name","detail","status"],tokens:["date","narration","progress"],token_items:["quantity","narration","deliver","photo","kitchen","progress"]},token_item_next_progress:{New:"accept",Accepted:"process",Processing:"complete"},token_item_progress:["New","Accepted","Processing","Completed","Served","Cancelled"],token_item_progress_action:{New:"reset",Accepted:"accept",Processing:"process",Completed:"complete",Served:"served"},syncRemoteEdits:["token_items"],syncLocalEdits:["token_items"]}},he=(n("5db7"),n("c975"),n("73d9"),n("ded3")),be=n.n(he),ge=n("8808");function ke(e,t,n){return function(t){if(!t)return;let r=e.picks.kitchens,i=_.get(n,["kitchens","data",parseInt(t)]);if(!i)return!1;let a=parseInt(i.id),o=n.kitchens.status[a],s=o?o.users:[],c=o&&"Active"===o.status;return Object.assign({},_.pick(i,r),{online:c,users:s})}}function ye(e,t,n,r){return function(t){if(!t)return;t=parseInt(t);let i=r["kitchens/map"][t];if(!i)return;let a=n.kitchens.items[i[0]][i[1]];if(!a)return!1;let o=e.picks.kitchen_items,s=_.pick(a,o),c=_.cloneDeep(_.pick(_.get(n,["items","data",parseInt(a.item)]),e.picks.items));c.item=c.name,delete c.name;let u=parseInt(a.kitchen),l=_.get(_.find(e.data,(({item:e,local_id:t})=>"kitchens"===e&&t===u)),"reference");return l?Object.assign({},s,{kitchen:l},c):void 0}}function Ee(e,t,n){return function(t){if(!t)return;let r=e.picks.tokens,i=_.get(n,["tokens","data",parseInt(t)]);return!(!i||["Billed","Cancelled"].includes(_.get(i,"progress")))&&Object.assign({},_.pick(i,r))}}function Ie(e,t,n,r){return function(i){if(!i)return;i=parseInt(i);let a=r["tokens/map"][i];if(!a)return;let o=n.tokens.items[a[0]][a[1]];if(!o)return!1;let s=e.picks.token_items,c=_.pick(o,s);_.get(o,"progress_timing");if(e.token_item_progress.indexOf(o.progress)>e.token_item_progress.indexOf("Completed"))return!1;let u=_.get(_.find(e.data,(({item:e,local_id:t})=>"kitchens"===e&&parseInt(t)===parseInt(o.kitchen))),"reference",""),{reference:l,location:d}=_.get(t["token_item_kitchen_item_reference_location"],i),m=_.pick(_.get(n,["items","data",parseInt(o.item)]),e.picks.items);m.item=m.name,delete m.name;let f=parseInt(o.token),p=_.get(_.find(e.data,(({item:e,local_id:t})=>"tokens"===e&&t===f)),"reference");return p?Object.assign({},c,{token:p,kitchen:u},m,{kitchen_item_reference:l,kitchen_item_location:d},{}):void 0}}function Oe(e,t,n,r){let i=_(e.data).filter((({item:e})=>"token_items"===e)).map("local_id").value(),a=r["tokens/map"],o=Ce(n.kitchens.items),s=Re(e.data);return _(i).mapKeys(_.toInteger).mapValues((e=>Se(n.tokens.items,_.get(a,e,[])))).mapValues((e=>o[parseInt(e)])).mapValues((e=>s[e])).value()}function De(e){let t=["kitchens","tokens","kitchen_items","token_items"];return function(n,r){return!!t.includes(n)&&Object(ge["e"])(e.data,n,r)}}function Ae({data:e}){return _(e).filter(["item","tokens"]).mapKeys((({local_id:e})=>_.toInteger(e))).mapValues("location").value()}function ve(e,t,n,r){return function(n,i){n=parseInt(n),i=i||{};let a=r["tokens/map"][n];if(!n||!a||!a[0])return{};let o=_.find(e.data,{item:"token_items",local_id:parseInt(n)}),s=_.find(e.data,{item:"tokens",local_id:parseInt(a[0])}),c=_.mapKeys(t["token_item_kitchen_item_reference_location"][n],((e,t)=>"kitchen_item_"+t));return new Object(be()(be()({local:[s,o],server:[t["tokens"](a[0]),t["token_items"](n)]},c),{},{token_reference:_.get(s,"reference"),token_item_reference:_.get(o,"reference"),token_source_location:_BRANCH,token_source_id:a[0],token_item_source_id:n},i))}}function Pe(e,t,n,r){return function(t){return _.find(e.data,{item:"tokens",local_id:r["tokens/map"][parseInt(t)][0]})}}function Se(e,t){return parseInt(_.get(e,[...t,"item"]))}function Ce(e){return _(e).flatMap().keyBy((({item:e})=>_.toInteger(e))).mapValues((({id:e})=>_.toInteger(e))).value()}function Re(e){return _(e).filter((({item:e,monitor:t})=>"kitchen_items"===e)).keyBy((({local_id:e})=>_.toInteger(e))).mapValues((({reference:e,location:t})=>new Object({reference:e,location:t}))).value()}function we(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t||!t.id)return;let{item:n,local_id:r}=t;r=parseInt(r);let i=_.find(e.data,(e=>e.item===n&&parseInt(e.local_id)===r)),a=i?parseInt(i.id):parseInt(t.id);H["a"].set(e.data,a,t),e.data[a].reference||_.has(e.data[a].extra,"r_ref")?e.monitorFn({item:n,reference:e.data[a].reference,id:e.data[a].local_id,entry:a}):e.uploadFn({item:n,data:t})}))}function Te(e,t){e.uploadFn=t}function Ne(e,t){e.monitorFn=t}function Le(e,{reference:t,unsub:n,unwatch:r}){_.has(e.monitoring,t)||H["a"].set(e.monitoring,t,[null,null]),n&&(e.monitoring[t][0]=n),r&&(e.monitoring[t][1]=r)}function Me(e,t){e.processing=void 0===t||t,e.pending+=e.processing?1:-1}function Be(e,t){let n=e.data[t].reference,r=n?e.monitoring[n]:null,i=r?r[0]:null,a=r?r[1]:null;i&&i(),a&&a(),e.monitoring[n]=[null,null],e.data[parseInt(t)].monitor="No"}var je=n("4bbf");const xe={},Ve=[];function Ue({commit:e,dispatch:t}){e("uploadFn",_.bind(t,this,"upload")),e("monitorFn",_.bind(t,this,"monitor")),"undefined"!==typeof _ASSET_Remote&&e("add",_ASSET_Remote),"undefined"!==typeof _COMPANY&&(setTimeout(t,5e3,"fetch"),setTimeout(t,1e4,"fetchReference"))}function Ke({state:e,commit:t,dispatch:n,getters:r},{item:i,data:a}){if(e.processing)setTimeout(n,1e3*e.pending,"upload",{item:i,data:a});else{t("process");let o=_.find(e.data,(e=>e.item===i&&parseInt(e.local_id)===parseInt(a.local_id)));if(o&&(o.reference||o.location!==_BRANCH))return t("process",!1);let s=r[i](a.local_id);if(!s)return t("process",!1);s._location=_BRANCH,s._monitor=!0,s.extra=_.get(a,"extra"),n("uploadRemoteRecord",{item:i,record:s,id:a.id})}}function Ye({commit:e,dispatch:t},{item:n,record:r,id:i}){Object(je["b"])(n).then((n=>n.add(r).then((function(n){t("addReference",{id:i,reference:n.id}).then((function(t){e("process",!1),xe[n.id]=r}))}))))}function Fe({commit:e,dispatch:t},{id:n,item:r,record:i,reference:a}){Object(je["b"])(r,a).then((e=>e.update(i).then((()=>xe[a]=i))))}function We({state:e,commit:t,dispatch:n},r){if(e.processing)setTimeout(n,1e3*e.pending,"deleteRemoteEntry",r);else{t("process");let n=_.has(r,"id")?parseInt(r.id):_.findKey(e.data,["reference",r.reference]),i=e.data[n];if(!i||!_.has(e.monitoring,i.reference)||Ve.includes(i.id))return t("process",!1);Ve.push(n),post("remote","remove",{id:n}).then((function({id:e}){t("remove",e);let n={_monitor:!1};"tokens"===i.item&&(n["progress"]="Completed"),Object(je["b"])(i.item,i.reference).then((e=>e.update(n).then((()=>t("process",!1)))))}))}}function qe({},{id:e,reference:t}){return new Promise((function(n){post("remote","addReference",{id:e,reference:t}).then(n)}))}function He({state:{monitoring:e,syncRemoteEdits:t,syncLocalEdits:n,data:r},getters:i,commit:a,dispatch:o},{id:s,item:c,reference:u,entry:l}){if(!u||!r[parseInt(l)])return;let d=r[parseInt(l)],m=d["location"],f=d["monitor"];if("Yes"!==f||_.has(e,u)&&e[u][0]||(m!==_BRANCH||m===_BRANCH&&t.includes(c))&&Object(je["b"])(c,u).then((e=>a("monitor",{reference:u,unsub:e.onSnapshot((function(e){let t=e.data(),n=i[c](s);if(xe[u]=t,!1===n)return o("deleteRemoteEntry",{id:l});_.forEach(n,(function(e,n){return!!("_"===n.substr(0,1)||_.has(t,n)&&_.isEqual(e,t[n]))||(o({type:"remoteUpdate_"+c,data:t,id:s}),!1)})),!1===t._monitor&&["tokens","token_items"].includes(c)&&o({type:"remoteUpdate_"+c,data:t,id:s})}))}))),_.has(d["extra"],"r_ref")){let e=_.get(d["extra"],"r_ref");Object(je["b"])("reference",e).then((t=>t.get().then((function(t){if(t.exists){if(!t.get("token_reference")||t.get("token_item_reference")){let{token_reference:e,token_item_reference:n}=i["read_reference"](s);e&&n&&t.ref.update({token_item_reference:n,token_reference:e})}}else t.ref.set(i["read_reference"](s,{status:"init",name:e}))}))))}let p=i[c](s);if(!p)return o("deleteRemoteEntry",{id:l});if(m===_BRANCH||m!==_BRANCH&&n.includes(c)){let t=_.bind(ct,this,o,c,s,u,l);_.has(e,u)&&e[u][1]?"No"===f&&e[u][1]():"Yes"===f&&o({type:"subscribeWatch_"+c,id:s,item:c,reference:u,entry:l,listener:t})}}function Je({state:e,commit:t,getters:n,rootState:r,dispatch:i},{id:a,data:o}){let s=n["kitchens"](a);_.forEach(["name","auto_accept","cloud"],(function(t){return!!(_.has(o,t)&&_.has(s,t)&&_.isEqual(s[t],o[t]))||(post("kitchen","manage",Object.assign({},_.pick(o,e.picks.kitchens),{id:a})),!1)})),_.forEach(["status","users"],(function(e){if(_.has(o,e)&&_.has(s,e)&&_.isEqual(s[e],o[e]))return!0;let n={status:o&&o.online?"Active":"Inactive",users:o&&o.users?o.users:[],kitchen:a};return setTimeout(t,2e3,"kitchens/status",n,{root:!0}),!1}))}function Ge({getters:e,commit:t},{id:n,item:r,reference:i,listener:a}){let o=e=>Object.assign({},e.kitchens.data[n],e.kitchens.status[n]);t("monitor",{reference:i,unwatch:this.watch(o,(()=>a(e[r](n),xe)),{deep:!0})})}function ze({state:e,rootState:t,rootGetters:n},{id:r,data:i}){let a=n["kitchens/map"][r],o=a[0],s=t.kitchens.items[o][a[1]],c=parseInt(s.item),u=_.pick(i,e.picks.items);u.name=u.item,delete u.item;let l=t.items.data[c];post("kitchen","item",Object.assign({},_.pick(i,e.picks.kitchen_items),{id:r})).then((()=>_.forEach(u,(function(e,t){return!!_.isEqual(e,l[t])||(setTimeout(post,2e3,"item","manage",Object.assign({},u,{id:c})),!1)}))))}function Xe({getters:e,rootGetters:t,rootState:n,state:r,commit:i,dispatch:a},{item:o,id:s,reference:c,listener:u}){let l=t["kitchens/map"][s],d=l[0],m=l[1],f=_.get(n.kitchens.items,[d,m,"item"]),p=e=>Object.assign({},e.kitchens.items[d][m],e.items.data[f]);i("monitor",{reference:c,unwatch:this.watch(p,(()=>u(e[o](s),xe)),{deep:!0})})}function $e({state:e,rootState:t,rootGetters:n},{id:r,data:i}){}function Ze({getters:e,rootGetters:t,rootState:n,state:r,commit:i,dispatch:a},{item:o,id:s,reference:c,listener:u}){let _=e=>e.tokens.data[s];i("monitor",{reference:c,unwatch:this.watch(_,(()=>u(e[o](s),xe)),{deep:!0})})}function Qe({state:e,rootState:t,rootGetters:n,dispatch:r},{id:i,data:a}){let o=n["tokens/map"][i],s=o[0],c=t.tokens.items[s][o[1]],u=_.get(c,"progress"),l=a.progress,d=a.kitchen?_.get(_.find(e.data,["reference",a.kitchen]),"local_id"):"",m=e.token_item_next_progress[u],f=_.get(a,"_location")===_BRANCH;f?e.token_item_progress.indexOf(u)<e.token_item_progress.indexOf("Served")?e.token_item_progress.indexOf(l)>e.token_item_progress.indexOf(u)?post("token",m,{id:c.id,kitchen:d}):post("token",e.token_item_progress_action[l],{id:c.id,kitchen:d}):r("deleteRemoteEntry",{id:_.findKey(e.data,(({item:e,local_id:t})=>"token_items"===e&&parseInt(t)===parseInt(i)))}):("Cancelled"===l&&post("token","cancel",{id:c.id,kitchen:d}),e.token_item_progress.indexOf(l)>=e.token_item_progress.indexOf("Completed")&&!1===a._monitor&&post("token","served",{id:c.id,kitchen:d}))}function et({getters:e,rootGetters:t,rootState:n,state:r,commit:i,dispatch:a},{item:o,id:s,reference:c,listener:u}){let _=t["tokens/map"][s],l=_[0],d=_[1],m=e=>e.tokens.items[l][d];i("monitor",{reference:c,unwatch:this.watch(m,(()=>u(e[o](s),xe)),{deep:!0})})}function tt({state:e,dispatch:t}){["kitchens","kitchen_items"].forEach((n=>Object(je["b"])(n).then((r=>ut(r,n).onSnapshot((r=>r.docChanges().forEach((function(r){if("added"!==r.type)return!0;let i=r.doc,a=i.id,o=i.data();xe[a]=o,_.find(e.data,(({item:e,reference:t})=>e===n&&t===a))||t("uploadFetch",{item:n,data:be()(be()({},o),{},{reference:a})})}))))))));let n={};Object(je["b"])("token_items").then((e=>ut(e,"token_items").onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"!==e.type)return!0;let t=e.doc,r=t.id,i=t.data();xe[r]=i,_.has(n,i.token)||(n[i.token]=[]),n[i.token].push(r)})),_.size(n)&&_.forEach(n,((e,n)=>t("uploadFetchToken",{token:n,items:e})))})))),Object(je["b"])("tokens").then((n=>ut(n,"tokens").get().then((function(n){let r=_.map(n.docs,"id");_(e.data).filter((({item:e,monitor:t,location:n})=>"tokens"===e&&"Yes"===t&&n!==_BRANCH)).forEach((function({id:e,reference:n,local_id:i}){_.includes(r,n)||t("completeToken",{token_id:i,remote_id:e})}))}))))}function nt({dispatch:e}){Object(je["b"])("reference").then((t=>t.where("status","==","init").where("kitchen_item_location","==",_BRANCH).onSnapshot((function(t){t.docChanges().forEach((function(t){if("removed"===t.type)return;let n=t.doc,r=n.id,i=n.data();xe[r]=i,i.token_reference&&i.token_item_reference&&(xe[i.token_item_reference]=_.get(i,["server",1]),xe[i.token_reference]=_.get(i,["server",0]),e("processReference",{r_ref:r,reference:i,doc_ref:n.ref}))}))}))))}function rt({state:e,commit:t,dispatch:n},{item:r,data:i}){if(e.processing)return setTimeout(n,1e3*e.pending,"uploadFetch",{item:r,data:i});t("process"),post("remote",r,i).then((()=>t("process",!1)))}function it({state:e,commit:t,dispatch:n},{items:r,token:i}){if(e.processing)return setTimeout(n,1e3*e.pending,"uploadFetchToken",{items:r,token:i});t("process"),Object(je["b"])("tokens",i).then((n=>n.get().then((function(n){let i=n.data(),a=n.id;xe[a]=i;let o=_(e.data).filter((({item:e,reference:t})=>"token_items"===e&&r.includes(t))).value(),s=_.find(e.data,(({item:e,reference:t})=>"tokens"===e&&t===a));if(s||0!==o.length){if(s){let e=_.map(o,"reference");_.forEach(r,(function(t){if(e.includes(t))return!0;post("remote","token_items",Object.assign({},xe[t],{reference:t},{token:s.local_id,token_reference:a}))}))}else console.error("Fetched newly added token and found no tokens inserted here but have its items inserted.. Critical!!"),console.error("Token Reference: ",a,"Items: ",o);t("process",!1)}else post("remote","tokens",Object.assign({},i,{reference:a},{items:_.map(r,(e=>Object.assign({},xe[e],{reference:e})))})).then((()=>t("process",!1)))}))))}function at({state:e,rootState:t,dispatch:n},{token_id:r,remote_id:i}){let a=_.get(t.tokens.items,_.toInteger(r)),o=_(a).filter((({progress:t})=>e.token_item_progress.indexOf(t)<e.token_item_progress.indexOf("Served"))).map("id").value();post("token","served",{id:o}).then((()=>n("deleteRemoteEntry",{id:i})))}function ot({state:e,dispatch:t,getters:n},{r_ref:r,reference:i,doc_ref:a}){let o=_.find(e.data,(({item:e,extra:t})=>"token_items"===e&&_.get(t,"r_ref")===r));if(o){if(o&&!_.get(o,"reference")){t("addReference",{id:o.id,reference:i.token_item_reference});let e=n["token_item_token"](o.local_id);t("addReference",{id:e.id,reference:i.token_reference})}a&&a.update({status:"fetched"})}else{let n=_.find(e.data,(({item:e,reference:t})=>"token_items"===e&&t===t.token_item_reference));n?post("remote","readReference",{id:n.id,reference:r}):t("referenceToken",{r_ref:r,reference:i,doc_ref:a})}}function st({state:e},{r_ref:t,reference:n,doc_ref:r}){let i=Object.assign({},n.server[0],{reference:n.token_reference},{items:[be()(be()({},n.server[1]),{},{reference:n.token_item_reference,extra:{r_ref:t}})]},{_location:n.token_source_location,_monitor:!0});post("remote","tokens",i).then((function({items:t}){let i=_.get(_.find(e.data,{item:"kitchens",reference:n.server[1].kitchen}),"local_id");i&&_.forEach(t,(({id:e})=>post("token","accept",{id:e,kitchen:i}))),r&&r.update({status:"fetched"})}))}const ct=function(e,t,n,r,i,a,o){if(!1===a)return e("deleteRemoteEntry",{id:i});if(!a)return;let s=o[r];if(!s)return e({type:"updateRemoteRecord",item:t,id:n,reference:r,record:a});_.forEach(s,(function(i,o){return!!_.isEqual(i,a[o])||(e({type:"updateRemoteRecord",item:t,id:n,reference:r,record:a}),!1)}))};function ut(e,t){return e=e.where("_location","!=",_BRANCH),"token_items"===t?e.where("kitchen_item_location","==",_BRANCH).where("progress","==","New"):e.where("_monitor","==",!0)}var _t={namespaced:!0,state:pe,getters:a,mutations:o,actions:s},lt=function(){return{data:{}}};function dt({data:e}){return _(e).map("role").uniq().value()}function mt({data:e}){return t=>_(e).filter(["role",t]).value()}function ft(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t.id)return;let n=_.toSafeInteger(t.id);_.has(e.data,n)&&H["a"].delete(e.data,n),H["a"].set(e.data,n,t)}))}function pt(e,t){H["a"].delete(e.data,parseInt(t))}function ht({commit:e}){"undefined"!==typeof _ASSET_User&&e("add",_ASSET_User)}var bt={namespaced:!0,getters:c,mutations:u,actions:l,state:lt},gt=function(){return{data:{},items:{},img:{}}};const{isSameDate:kt}=n("fe09").date;function yt({data:e}){return _(e).filter((({date:e})=>kt(new Date(e),new Date,"day"))).mapKeys((({id:e})=>_.toSafeInteger(e))).value()}function Et({items:e}){let t={};return _(e).forEach(((e,n)=>_.forEach(e,(({id:e},r)=>t[e]=[parseInt(n),r])))),t}function It({data:e,items:t},n,r,i){let a=_.bind(ge["h"],this,t),o=_.bind(ge["g"],this,i["remote/token_branch"]);return _(e).filter(o).map(a).value()}function Ot({data:e},t,n){const r=_(n.bills.data).filter((({progress:e})=>"Cancelled"!==e)).mapKeys((({token:e})=>_.toInteger(e))).mapValues("progress").value();return _(e).mapValues((({progress:e,id:t})=>"Billed"===e?"Pending"===_.get(r,t)?e:_.get(r,t):e)).value()}var Dt=n("b1c1");function At(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t.id)return;let n=_.toSafeInteger(t.id);_.has(e.data,n)&&H["a"].delete(e.data,n),H["a"].set(e.data,n,t),e.data[n].date_human=Object(Dt["z"])("ddd, DD MMM hh:mm A",t.date)}))}function vt(e,t){if(!t)return;_.isArray(t)||(t=[t]);let n=_.groupBy(t,"token");_.forEach(n,((t,n)=>{n=_.toSafeInteger(n),_.has(e.items,n)?_.forEach(t,(t=>{let r=_.findIndex(e.items[n],["id",_.toSafeInteger(t.id)]),i=St(t);r<0?e.items[n].push(i):_.forEach(i,((t,i)=>e.items[n][r][i]=t))})):H["a"].set(e.items,n,_.map(t,St))}))}function Pt(e,{name:t,url:n}){_.has(e.img,t)||H["a"].set(e.img,t,""),e.img[t]=n}function St({id:e,token:t,user:n,item:r,quantity:i,kitchen:a,progress:o,delay:s,narration:c,deliver:u,photo:l,progress_timing:d}){return _.fromPairs([["id",_.toSafeInteger(e)],["token",_.toSafeInteger(t)],["user",_.toSafeInteger(n)],["item",_.toSafeInteger(r)],["kitchen",_.toSafeInteger(a)],["quantity",_.toNumber(i)],["delay",_.toNumber(s)],["progress",o],["narration",c],["deliver",u],["photo",l],["deliver_human",Object(Dt["z"])("ddd, DD MMM, hh:mm A",u)],["progress_timing",d]])}var Ct=n("3001"),Rt={namespaced:!0,state:gt,getters:d,mutations:m,actions:Ct},wt=function(){return{data:{}}},Tt=n("0e68");function Nt(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t.id)return;let n=_.toSafeInteger(t.id);_.has(e.data,n)&&H["a"].delete(e.data,n),H["a"].set(e.data,n,t)}))}function Lt({commit:e}){"undefined"!==typeof _ASSET_Customer&&e("add",_ASSET_Customer)}var Mt={namespaced:!0,state:wt,getters:Tt,mutations:f,actions:p},Bt=function(){return{prop:{},data:{},rFun:null}};function jt(e,t,{prices:{data:n}}){return _(n).groupBy((({item:e})=>_.toInteger(e))).mapValues((e=>_(e).mapKeys((({price_list:e})=>_.toInteger(e))).mapValues((({price:e})=>_.toNumber(e))).value())).value()}function xt(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t.id)return;let n=_.toSafeInteger(t.id);_.has(e.prop,n)&&H["a"].delete(e.prop,n),H["a"].set(e.prop,n,t)})),e.data&&_.size(e.data)&&e.rFun(_.values(e.data))}function Vt(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t.id)return;let n=_.toSafeInteger(t.id);_.has(e.data,n)&&H["a"].delete(e.data,n),_.forEach(e.prop,(({id:e,name:n})=>t[n]=_.get(t,"prop"+e,""))),H["a"].set(e.data,n,t)}))}function Ut(e,t){e.rFun=t}function Kt({commit:e}){e("rFun",_.bind(e,null,"add")),"undefined"!==typeof _ASSET_ItemProp&&e("prop",_ASSET_ItemProp),"undefined"!==typeof _ASSET_Item&&e("add",_ASSET_Item)}var Yt={namespaced:!0,state:Bt,getters:h,mutations:b,actions:g},Ft=function(){return{data:{}}},Wt=n("11e3");function qt(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t.id)return;let n=_.toSafeInteger(t.id);_.has(e.data,n)&&H["a"].delete(e.data,n),H["a"].set(e.data,n,t)}))}function Ht({commit:e}){"undefined"!==typeof _ASSET_ItemGroup&&e("add",_ASSET_ItemGroup)}var Jt={namespaced:!0,state:Ft,getters:Wt,mutations:k,actions:y},Gt=function(){return{data:{},items:{},status:{}}},zt=n("d503");function Xt(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t.id)return;let n=_.toSafeInteger(t.id);_.has(e.data,n)&&H["a"].delete(e.data,n),H["a"].set(e.data,n,t)}))}function $t(e,t){if(!t)return;_.isArray(t)||(t=[t]);let n=_.groupBy(t,"kitchen");_.forEach(n,((t,n)=>{n=_.toSafeInteger(n),_.has(e.items,n)?_.forEach(t,(t=>{let r=_.findIndex(e.items[n],["id",_.toSafeInteger(t.id)]);if(r<0)e.items[n].push(tn(t));else{let i=_.get(e.items,[n,r]);if(!i)return;_.forEach(tn(t),(function(t,a){_.has(i,a)&&i[a]===t||(e.items[n][r][a]=t)}))}})):H["a"].set(e.items,n,_.map(t,tn))}))}function Zt(e,{kitchen:t,id:n}){let r=_.toInteger(t),i=_.toInteger(n),a=_.findIndex(e.items[r],["id",i]);e.items[r].splice(a,1)}function Qt(e,{kitchen:t,items:n}){if(!n||!_.isArray(n)||!n.length)return;let r=_.toInteger(t);_.forEach(n,(t=>{let n=_.findIndex(e.items[r],["item",_.toInteger(t)]);n>-1&&e.items[r].splice(n,1)}))}function en(e,t){if(!t)return;_.isArray(t)||(t=[t]);let n=_.keyBy(t,"kitchen");_.forEach(n,((t,n)=>{if(n=_.toSafeInteger(n),_.has(e.status,n)){let r=_.get(e.status,[n]);if(!r)return;_.forEach(nn(t),(function(t,i){_.has(r,i)&&r[i]===t||(e.status[n][i]=t)}))}else H["a"].set(e.status,n,nn(t))}))}function tn({id:e,stock:t,item:n,kitchen:r,duration:i,auto_process:a,auto_complete:o,status:s}){return _.fromPairs([["id",_.toSafeInteger(e)],["stock",_.toNumber(t)],["item",_.toSafeInteger(n)],["kitchen",_.toSafeInteger(r)],["duration",_.toNumber(i)],["auto_process",a],["auto_complete",o],["status",s]])}function nn({users:e,status:t,kitchen:n,full_timer:r,printer:i}){return _.zipObject(["kitchen","users","status","full_timer","printer"],[_.toSafeInteger(n),_.map(e,_.toSafeInteger),t,r?_.toInteger(r):null,i])}function rn({commit:e}){"undefined"!==typeof _ASSET_Kitchen&&e("add",_ASSET_Kitchen),"undefined"!==typeof _ASSET_KitchenItem&&e("items",_ASSET_KitchenItem)}function an(e,{kitchen:t}){return new Promise((e=>post("kitchen","toggle",{kitchen:t}).then(e)))}function on(e,t){return new Promise((e=>post("kitchen","auto",t).then(e)))}function sn(e,t){return new Promise((e=>post("kitchen","manage",t).then(e)))}var cn={namespaced:!0,state:Gt,getters:zt,mutations:E,actions:I},un=function(){return{data:{},section:"",s_items:[]}};function _n(e,t,n,r){let i=r["settings/settings"],a=_.get(i,"sale_menu","Sale"),o=_.findKey(e.data,{name:a,status:"Active"});return o?_.toInteger(o):null}function ln(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t.id)return;let n=_.toSafeInteger(t.id);_.has(e.data,n)&&H["a"].delete(e.data,n),H["a"].set(e.data,n,t)}))}function dn(e,t){if(!t)return e.s_items.splice(0,e.s_items.length);_.forEach(t,((t,n)=>{H["a"].set(e,"section",n),H["a"].set(e,"s_items",_.map(t,_.toSafeInteger))}))}function mn({commit:e}){"undefined"!==typeof _ASSET_Menu&&e("add",_ASSET_Menu),"undefined"!==typeof _SECTION&&e("section",_SECTION)}function fn({state:e,commit:t},n){post("menu","toggle",{menu:n}).then((e=>t("section",{menu:e})))}var pn={namespaced:!0,state:un,getters:O,mutations:D,actions:A},hn=function(){return{data:{},list:{}}};function bn({data:e}){return _(e).groupBy((({price_list:e})=>_.toInteger(e))).mapValues((e=>_(e).mapKeys((({item:e})=>_.toInteger(e))).mapValues((({price:e})=>_.toNumber(e))).value())).value()}function gn(e,t,n,r){let i=_.find(e.list,{name:"Sale"});if(i)return i;let a=r["settings/settings"],o=_.get(a,"sale_pricelist",_.get(a,"sales_pricelist",_.get(a,"sale_price_list",_.get(a,"sales_price_list",null))));return o?_.find(e.list,{name:o}):null}function kn(e,t,n,r){let i=_.find(e.list,{name:"Home Delivery"});if(i)return i;let a=r["settings/settings"],o=_.get(a,"home_delivery_pricelist",_.get(a,"home_delivery_price_list",null));return o?_.find(e.list,{name:o}):null}function yn(e,t,n,r){let i=_.find(e.list,{name:"Take Away"});if(i)return i;let a=r["settings/settings"],o=_.get(a,"take_away_pricelist",_.get(a,"take_away_price_list",null));return o?_.find(e.list,{name:o}):null}function En(e,t,n,r){let i=_.find(e.list,{name:"Remote"});if(i)return i;let a=r["settings/settings"],o=_.get(a,"remote_pricelist",_.get(a,"remote_price_list",null));return o?_.find(e.list,{name:o}):null}function In(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t.id)return;let n=_.toSafeInteger(t.id);_.has(e.data,n)&&H["a"].delete(e.data,n),H["a"].set(e.data,n,t)}))}function On(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t.id)return;let n=_.toSafeInteger(t.id);_.has(e.list,n)&&H["a"].delete(e.list,n),H["a"].set(e.list,n,t)}))}function Dn({commit:e}){"undefined"!==typeof _ASSET_Price&&e("add",_ASSET_Price),"undefined"!==typeof _ASSET_PriceList&&e("list",_ASSET_PriceList)}var An={namespaced:!0,state:hn,getters:v,mutations:P,actions:S},vn=function(){return{data:{}}};function Pn({data:e}){return _(e).filter(["status","Active"]).flatMap((({contents:e})=>_.map(e,"nature"))).uniq().value()}function Sn(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t.id)return;let n=_.toSafeInteger(t.id);_.has(e.data,n)&&H["a"].delete(e.data,n),H["a"].set(e.data,n,t)}))}function Cn({commit:e}){"undefined"!==typeof _ASSET_Tax&&e("add",_ASSET_Tax)}var Rn={namespaced:!0,state:vn,getters:C,mutations:R,actions:w},wn=function(){return{data:{}}},Tn=n("8f32");function Nn(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t.id)return;let n=_.toSafeInteger(t.id);_.has(e.data,n)&&H["a"].delete(e.data,n),H["a"].set(e.data,n,t)}))}function Ln({commit:e}){"undefined"!==typeof _ASSET_Seating&&e("add",_ASSET_Seating)}var Mn={namespaced:!0,state:wn,getters:Tn,mutations:T,actions:N},Bn=function(){return{data:{}}};function jn({data:e}){return _(e).filter((({progress:e})=>["Pending","Partial"].includes(e))).mapKeys((({id:e})=>_.toInteger(e))).value()}function xn(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t.id)return;let n=_.toSafeInteger(t.id);_.has(e.data,n)&&H["a"].delete(e.data,n),H["a"].set(e.data,n,t)}))}function Vn(e,t){let n=_.toInteger(_.isObject(t)?t.id:t);_.has(e.data,n)&&H["a"].delete(e.data,n)}function Un({commit:e},t){let n=_.toInteger(_.isObject(t)?t.id:t);return new Promise((t=>post("bill","do_cancel",{id:n}).then((function(n){n.payments&&n.payments.length&&_.forEach(n.payments,(t=>e("payments/cancel",t,{root:!0}))),e("cancel",n),t(n)}))))}var Kn={namespaced:!0,state:Bn,getters:L,mutations:M,actions:B},Yn=function(){return{data:{}}},Fn=n("f875");function Wn(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t.id)return;let n=_.toSafeInteger(t.id);_.has(e.data,n)&&H["a"].delete(e.data,n),H["a"].set(e.data,n,t)}))}function qn(e,t){let n=_.toInteger(_.isObject(t)?t.id:t);_.has(e.data,n)&&(e.data[n].status="Inactive")}function Hn({commit:e},t){let n=_.toInteger(_.isObject(t)?t.id:t);return new Promise((t=>post("payment","cancel",{id:n}).then((n=>t(n,e("cancel",n))))))}var Jn={namespaced:!0,state:Yn,getters:Fn,mutations:j,actions:x},Gn=function(){return{data:{}}};function zn({data:e}){return _(e).keyBy("name").mapValues("value").value()}function Xn(e,t){return _.toInteger(_.get(t.settings,"items_per_page",_.get(t.settings,"max_items_per_page",100)))}function $n(e,{settings:t}){return function(e){e=_.snakeCase(e||"order");let n=e+"_items_search_fields",r=_.get(t,n,_.get(t,"items_search_fields","id,name,detail"));return _.split(r,",")}}function Zn(e,t){_.isArray(t)||(t=[t]),_.forEach(t,(t=>{if(!t.id)return;let n=_.toSafeInteger(t.id);_.has(e.data,n)&&H["a"].delete(e.data,n),H["a"].set(e.data,n,t)}))}function Qn(e,t){H["a"].delete(e.data,parseInt(t))}function er({commit:e}){"undefined"!==typeof _ASSET_Settings&&e("add",_ASSET_Settings)}var tr={namespaced:!0,state:Gn,getters:V,mutations:U,actions:K},nr=function(){return{data:{}}},rr=n("b3f6");function ir(e,{id:t,data:n}){if(!_.has(e.data,t))return H["a"].set(e.data,t,_.set(n,"id",t));_.forEach(n,((n,r)=>H["a"].set(e.data[t],r,n)))}function ar(e,t){_.has(e.data,t)&&H["a"].delete(e.data,t)}var or=n("3e26");const{GH56E:sr,GH75F:cr,JI36A:ur}=n("adfa").FEATURES;function _r({dispatch:e}){"Yes"===sr&&"Yes"===cr&&e(ur?"init_remote":"local")}function lr({commit:e,dispatch:t}){"undefined"!==typeof _BRANCH&&Object(or["d"])(Object(or["g"])(ur,_BRANCH),(function(n){n.docChanges().forEach((function(n){let r=n.type,i=n.doc.id,a=n.doc.data();"removed"===r?e("remove",i):"Paid"!==a.progress&&"Cancelled"!==a.progress&&e("data",{id:i,data:a}),"added"===r&&a.token&&"Paid"!==a.progress&&"Cancelled"!==a.progress&&t("subWatch",{id:a.token,reference:i}),"Paid"===a.progress&&Object(Dt["r"])()-a.time>1800&&t("remove",{reference:i,progress:"Paid"}),"Cancelled"===a.progress&&t("remove",{reference:i,progress:"Cancelled"})}))}))}function dr({dispatch:e},t){"Yes"===sr&&"Yes"===cr&&"undefined"!==typeof _BRANCH&&(ur?e("update_remote",t):e("update"))}function mr(e,{id:t,data:n}){Object(or["h"])(Object(or["f"])(ur,_BRANCH,t),n)}function fr({dispatch:e},{reference:t,params:n}){post("token","create",n).then((({id:n})=>{e("subWatch",{id:n,reference:t}).then((()=>e("token",{reference:t,token:n})))}))}function pr(e,{reference:t,progress:n}){"Yes"===sr&&"Yes"===cr&&"undefined"!==typeof _BRANCH&&ur&&Object(or["h"])(Object(or["f"])(ur,_BRANCH,t),{progress:n||"Cancelled",active:!1})}function hr({dispatch:e,rootState:t,rootGetters:n},{id:r,reference:i}){const a=this;return _.has(t.tokens.data,r)?new Promise((function(o){a.watch((e=>_.assign({},_.get(e.tokens.data,r),{items:_.get(e.tokens.items,r,[])},{progress:n["tokens/progress"][r]})),(function(r){e("update",{id:i,data:gr(r,t.items.data,n["prices/items"][r.price_list])}),o(!0)}),{deep:!0,immediate:!0})})):Promise.resolve(e("remove",{reference:i})||!0)}function br({state:e,dispatch:t},{token:n,reference:r}){let i=_.assign({},e.data[r],{token:n});t("update",{id:r,data:i})}function gr({id:e,items:t,progress:n},r,i){let a={token:e,progress:n,items:[]};return _.forEach(t,(({progress:e,item:t,quantity:n})=>{a.items.push({progress:e,item:t,quantity:n,rate:i[t],name:_.get(r,[t,"name"])})})),a}var kr={namespaced:!0,state:nr,getters:rr,mutations:Y,actions:F},yr=function(){return{numbers:[1,2,3,4,5,6,7,8,9,10]}};function Er(e){return _(e.numbers).filter((e=>e%2)).value()}function Ir({numbers:e}){return _(e).filter((e=>!(e%2))).filter().value()}function Or(e,t){e.numbers.push(parseInt(t))}function Dr({numbers:e},t){e.push(parseInt(t))}var Ar=n("a624"),vr={namespaced:!0,state:yr,getters:W,mutations:q,actions:Ar};H["a"].use(ie["a"]);var Pr=new ie["a"].Store({modules:{server:fe,users:bt,customers:Mt,items:Yt,groups:Jt,menus:pn,prices:An,kitchens:cn,tax:Rn,seating:Mn,tokens:Rt,bills:Kn,payments:Jn,settings:tr,remote:_t,online:kr,research:vr},state:{title:"",back:null,footer:!0,public:{}},mutations:{title(e,t){H["a"].set(e,"title",t)},back(e,t){H["a"].set(e,"back",t)},footer(e,t){H["a"].set(e,"footer",t)},public(e,t){_.forEach(t,((t,n)=>H["a"].set(e.public,n,t)))},update(e,{path:t,value:n}){_.set(e.public,t,n)},push(e,{path:t,value:n}){_.get(e.public,t).push(n)},splice(e,{path:t,start:n,length:r}){_.get(e.public,t).splice(n||0,r||1)}},strict:!1}),Sr=n("8c4f");const{map:Cr,set:Rr,merge:wr,get:Tr,forEach:Nr}=n("2ef0"),Lr={Login:{path:"/",component:()=>Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"4632"))},Waiter:{path:"/",component:()=>Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.bind(null,"657a"))},Chef:{path:"/",component:()=>Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,"b56d"))},Receptionist:{path:"/",component:()=>Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,"7711"))},Administrator:{path:"/",component:()=>Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,"46b0"))},"Delivery Boy":{path:"/",component:()=>Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,"dfef"))},Menu:{path:"/:reference/:code",component:()=>Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"575d")),props:!0,meta:{online_menu:!0}}},Mr={Login:["login_index"],Waiter:["waiter_index","waiter_menu","orders","order_new","waiter_tokens","waiter_bills","orders_online"],Chef:["chef_index","chef_kitchens","kitchen_items","kitchen_stocks","tokens"],Receptionist:["receptionist_index","seat_status","receptionist_tokens","bills","seat_status_order","receptionist_orders","order_new","orders_remote","orders_remote_new","sale","archives","archive_payments","archive_bills","archive_remote","archive_orders","archive_sales","archive_tokens","orders_online"],Administrator:["report_index","administration_index","master_customer","master_prop","master_item","master_group","master_kitchen","master_kitchen_items","master_menu","master_price_list","master_seating","master_tax","image_customer","image_item","image_kitchen","image_seating","image_user","master_user","master_settings","day_token_summary","day_sale_summary","sales_by_type","sales_summary_by_type","sales_count_by_item","item_wise_sale_summary","kitchen_stock","bill_summary","payments","payments_by_type","bill_summary_tax","bill_summary_tax_nature","tax_bill_detail","tax_details","bill_summary_customer","bill_summary_user_type","bill_by_user","delivery_boy_bills","orders_by_waiter","orders_by_receptionist","orders_by_delivery_boy","user_orders","kitchen_processing","item_processing","chef_performance","data_import","menu_qr_codes","menu_sync_data"],"Delivery Boy":["delivery_boy_index","delivery_boy_orders","order_new","delivery_boy_customers","delivery_boy_completed","delivery_boy_payments"],Menu:["menu_index"]},Br={login_index:{name:"login_index",path:"/",component:()=>Promise.all([n.e(0),n.e(48)]).then(n.bind(null,"fcb2")),meta:{title:""}},waiter_index:{name:"waiter_index",path:"/",component:()=>Promise.all([n.e(0),n.e(1),n.e(90)]).then(n.bind(null,"c2e6")),meta:{title:""}},waiter_menu:{name:"waiter_menu",path:"/menu",component:()=>Promise.all([n.e(0),n.e(1),n.e(91)]).then(n.bind(null,"ef34")),meta:{title:"Menu"}},orders:{name:"orders",path:"/orders",component:()=>Promise.all([n.e(0),n.e(1),n.e(55)]).then(n.bind(null,"509f")),meta:{title:"Order"}},order_new:{name:"order_new",path:"/order/new",component:()=>Promise.all([n.e(0),n.e(1),n.e(54)]).then(n.bind(null,"572d")),props:!0,meta:{title:"New Order",back:!0,footer:!1}},waiter_tokens:{name:"waiter_tokens",path:"/tokens",component:()=>Promise.all([n.e(0),n.e(1),n.e(92)]).then(n.bind(null,"4704")),meta:{title:"Completed Tokens"}},waiter_bills:{name:"waiter_bills",path:"/bills/pending",component:()=>Promise.all([n.e(0),n.e(1),n.e(37)]).then(n.bind(null,"2a12")),meta:{title:"Pending Bills"}},chef_index:{name:"chef_index",path:"/",component:()=>Promise.all([n.e(0),n.e(1),n.e(39)]).then(n.bind(null,"8443")),meta:{title:""}},chef_kitchens:{name:"chef_kitchens",path:"/kitchens",component:()=>Promise.all([n.e(0),n.e(1),n.e(38)]).then(n.bind(null,"e59f")),meta:{title:"Kitchens"}},kitchen_items:{name:"kitchen_items",path:"/kitchen/:id/items",component:()=>Promise.all([n.e(0),n.e(1),n.e(46)]).then(n.bind(null,"1984")),props:!0,meta:{title:"Items",back:!0,footer:!1}},kitchen_stocks:{name:"kitchen_stocks",path:"/kitchen/:id/stocks",component:()=>Promise.all([n.e(0),n.e(1),n.e(47)]).then(n.bind(null,"cf59")),props:!0,meta:{title:"Stock",back:!0,footer:!1}},tokens:{name:"tokens",path:"/tokens",component:()=>Promise.all([n.e(0),n.e(1),n.e(89)]).then(n.bind(null,"2836")),meta:{title:"Tokens",footer:!1}},receptionist_index:{name:"receptionist_index",path:"/",component:()=>Promise.all([n.e(0),n.e(1),n.e(60)]).then(n.bind(null,"16e6")),meta:{title:""}},receptionist_tokens:{name:"receptionist_tokens",path:"/tokens",component:()=>Promise.all([n.e(0),n.e(1),n.e(61)]).then(n.bind(null,"5f49")),meta:{title:"Completed Tokens"}},bills:{name:"bills",path:"/bills/pending",component:()=>Promise.all([n.e(0),n.e(1),n.e(36)]).then(n.bind(null,"22b3")),meta:{title:"Pending Bills"}},seat_status:{name:"seat_status",path:"/seating/status",component:()=>Promise.all([n.e(0),n.e(1),n.e(88)]).then(n.bind(null,"90ad")),meta:{title:"Seat Status"}},seat_status_order:{name:"seat_status_order",path:"/seating/status/order",component:()=>Promise.all([n.e(0),n.e(1),n.e(53)]).then(n.bind(null,"a432")),props:!0,meta:{title:"New Order"}},receptionist_orders:{name:"orders",path:"/orders",component:()=>Promise.all([n.e(0),n.e(1),n.e(56)]).then(n.bind(null,"f572")),meta:{title:"Orders"}},administration_index:{name:"administration_index",path:"/administration",component:()=>Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,"2d1b")),meta:{title:null}},master_customer:{name:"master_customer",path:"/settings/customers",component:()=>Promise.all([n.e(0),n.e(1),n.e(17)]).then(n.bind(null,"e980")),meta:{title:"Customers"}},master_prop:{name:"master_prop",path:"/settings/items/props",component:()=>Promise.all([n.e(0),n.e(1),n.e(24)]).then(n.bind(null,"6ad4")),meta:{title:"Item Props"}},master_item:{name:"master_item",path:"/settings/items",component:()=>Promise.all([n.e(0),n.e(1),n.e(19)]).then(n.bind(null,"7168")),meta:{title:"Items"}},master_group:{name:"master_group",path:"/settings/groups",component:()=>Promise.all([n.e(0),n.e(1),n.e(18)]).then(n.bind(null,"4866")),meta:{title:"Item Groups"}},master_kitchen:{name:"master_kitchen",path:"/settings/kitchens",component:()=>Promise.all([n.e(0),n.e(1),n.e(20)]).then(n.bind(null,"ef33")),meta:{title:"Kitchens"}},master_kitchen_items:{name:"master_kitchen_items",path:"/settings/kitchen_items",component:()=>Promise.all([n.e(0),n.e(1),n.e(21)]).then(n.bind(null,"f6e0")),meta:{title:"Kitchen Items"}},master_menu:{name:"master_menu",path:"/settings/menus",component:()=>Promise.all([n.e(0),n.e(1),n.e(22)]).then(n.bind(null,"f190")),meta:{title:"Menu"}},master_price_list:{name:"master_price_list",path:"/settings/price_lists",component:()=>Promise.all([n.e(0),n.e(1),n.e(23)]).then(n.bind(null,"19c0")),meta:{title:"Price Lists"}},master_seating:{name:"master_seating",path:"/settings/seating",component:()=>Promise.all([n.e(0),n.e(1),n.e(25)]).then(n.bind(null,"bb5b")),meta:{title:"Seating"}},master_tax:{name:"master_tax",path:"/settings/taxes",component:()=>Promise.all([n.e(0),n.e(1),n.e(27)]).then(n.bind(null,"e41a")),meta:{title:"Taxes"}},master_user:{name:"master_user",path:"/settings/user/:role",component:()=>Promise.all([n.e(0),n.e(1),n.e(28)]).then(n.bind(null,"0d65")),props:!0,meta:{title:null}},master_settings:{name:"master_settings",path:"/settings/settings",component:()=>Promise.all([n.e(0),n.e(1),n.e(26)]).then(n.bind(null,"ee24")),meta:{title:"Settings"}},image_customer:{name:"image_customer",path:"/image/customers",component:()=>Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,"caff")),meta:{title:"Customers"}},image_item:{name:"image_item",path:"/image/items",component:()=>Promise.all([n.e(0),n.e(1),n.e(13)]).then(n.bind(null,"fc86")),meta:{title:"Items"}},image_kitchen:{name:"image_kitchen",path:"/image/kitchens",component:()=>Promise.all([n.e(0),n.e(1),n.e(14)]).then(n.bind(null,"4702")),meta:{title:"Kitchens"}},image_seating:{name:"image_seating",path:"/image/seating",component:()=>Promise.all([n.e(0),n.e(1),n.e(15)]).then(n.bind(null,"e5a0")),meta:{title:"Seating"}},image_user:{name:"image_user",path:"/image/users",component:()=>Promise.all([n.e(0),n.e(1),n.e(16)]).then(n.bind(null,"d5fa")),meta:{title:"Users"}},report_index:{name:"report_index",path:"/",component:()=>Promise.all([n.e(0),n.e(1),n.e(62)]).then(n.bind(null,"a56a")),meta:{title:null}},day_token_summary:{name:"day_token_summary",path:"/report/day/token/summary",component:()=>Promise.all([n.e(0),n.e(1),n.e(72)]).then(n.bind(null,"ce5b")),meta:{title:"Day Token Summary",controls:["date"]}},day_sale_summary:{name:"day_sale_summary",path:"/report/day/sale/summary",component:()=>Promise.all([n.e(0),n.e(1),n.e(71)]).then(n.bind(null,"9125")),meta:{title:"Day Sales Summary",controls:["date"]}},sales_by_type:{name:"sales_by_type",path:"/report/sales/type",component:()=>Promise.all([n.e(0),n.e(1),n.e(82)]).then(n.bind(null,"f03a")),meta:{title:"Sales by Type",controls:["range"]}},sales_summary_by_type:{name:"sales_summary_by_type",path:"/report/sales/type/summary",component:()=>Promise.all([n.e(0),n.e(1),n.e(84)]).then(n.bind(null,"301d")),meta:{title:"Sales Summary By Type",controls:["sale_type","range"]}},sales_count_by_item:{name:"sales_count_by_item",path:"/report/sales/count/item",component:()=>Promise.all([n.e(0),n.e(1),n.e(83)]).then(n.bind(null,"f166")),meta:{title:"Sales Count on Item Wise",controls:["date"]}},item_wise_sale_summary:{name:"item_wise_sale_summary",path:"/report/sales/item/summary",component:()=>Promise.all([n.e(0),n.e(1),n.e(74)]).then(n.bind(null,"88ef")),meta:{title:"Item Wise Sale Summary",controls:["item","range"]}},kitchen_stock:{name:"kitchen_stock",path:"/report/kitchen/stock",component:()=>Promise.all([n.e(0),n.e(1),n.e(76)]).then(n.bind(null,"7b95")),meta:{title:"Kitchen Stock",controls:["kitchen"]}},bill_summary:{name:"bill_summary",path:"/report/bill/summary",component:()=>Promise.all([n.e(0),n.e(1),n.e(63)]).then(n.bind(null,"05a4")),meta:{title:"Bill Summary",controls:["range"]}},payments:{name:"payments",path:"/report/payments",component:()=>Promise.all([n.e(0),n.e(1),n.e(80)]).then(n.bind(null,"306c")),meta:{title:"Bill Summary",controls:["range"]}},payments_by_type:{name:"payments_by_type",path:"/report/payments/type",component:()=>Promise.all([n.e(0),n.e(1),n.e(81)]).then(n.bind(null,"a041")),meta:{title:"Payments By Type",controls:["range"]}},bill_summary_tax:{name:"bill_summary_tax",path:"/report/bill/tax/summary",component:()=>Promise.all([n.e(0),n.e(1),n.e(65)]).then(n.bind(null,"d6cc")),meta:{title:"Bill Summary with Tax",controls:["range"]}},bill_summary_tax_nature:{name:"bill_summary_tax_nature",path:"/report/bill/tax/nature",component:()=>Promise.all([n.e(0),n.e(1),n.e(66)]).then(n.bind(null,"9d5b")),meta:{title:"Bill Summary by Tax Nature",controls:["tax_nature","range"]}},bill_summary_customer:{name:"bill_summary_customer",path:"/report/bill/customer",component:()=>Promise.all([n.e(0),n.e(1),n.e(64)]).then(n.bind(null,"ba33")),meta:{title:"Bill Summary Customer",controls:["range"]}},bill_summary_user_type:{name:"bill_summary_user_type",path:"/report/bill/user_type",component:()=>Promise.all([n.e(0),n.e(1),n.e(67)]).then(n.bind(null,"59dd")),meta:{title:"Bill Summary by User Type",controls:["range"]}},bill_by_user:{name:"bill_by_user",path:"/report/bill/user",component:()=>Promise.all([n.e(0),n.e(1),n.e(68)]).then(n.bind(null,"588f")),meta:{title:"Bill By User",controls:["user","date"]}},delivery_boy_bills:{name:"delivery_boy_bills",path:"/report/bill/delivery_boy",component:()=>Promise.all([n.e(0),n.e(1),n.e(69)]).then(n.bind(null,"f2b1")),meta:{title:"Bill By Delivery Boy",controls:["delivery_boy","range"]}},tax_bill_detail:{name:"tax_bill_detail",path:"/report/tax/bill/detail",component:()=>Promise.all([n.e(0),n.e(1),n.e(85)]).then(n.bind(null,"c84d")),meta:{title:"Tax Bill Details",controls:["range"]}},tax_details:{name:"tax_details",path:"/report/tax/details",component:()=>Promise.all([n.e(0),n.e(1),n.e(86)]).then(n.bind(null,"4e04")),meta:{title:"Tax Details",controls:["range"]}},orders_by_waiter:{name:"orders_by_waiter",path:"/report/orders/waiter",component:()=>Promise.all([n.e(0),n.e(1),n.e(79)]).then(n.bind(null,"8eb3")),meta:{title:"Tokens By Waiter",controls:["range"]}},orders_by_receptionist:{name:"orders_by_receptionist",path:"/report/orders/receptionist",component:()=>Promise.all([n.e(0),n.e(1),n.e(78)]).then(n.bind(null,"2ee6")),meta:{title:"Tokens By Receptionist",controls:["range"]}},orders_by_delivery_boy:{name:"orders_by_delivery_boy",path:"/report/orders/delivery_boy",component:()=>Promise.all([n.e(0),n.e(1),n.e(77)]).then(n.bind(null,"0c39")),meta:{title:"Tokens By Delivery Boy",controls:["range"]}},data_import:{name:"data_import",path:"/data/import",component:()=>Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"2246")),meta:{title:"Import Data",controls:["noprint","download_template"]}},user_orders:{name:"user_orders",path:"/report/user/orders",component:()=>Promise.all([n.e(0),n.e(1),n.e(87)]).then(n.bind(null,"12ea")),meta:{title:"User Orders",controls:["user","date"]}},kitchen_processing:{name:"kitchen_processing",path:"/report/kitchen/processing",component:()=>Promise.all([n.e(0),n.e(1),n.e(75)]).then(n.bind(null,"d1f4")),meta:{title:"Kitchen Processing",controls:["kitchen","date"]}},item_processing:{name:"item_processing",path:"/report/item/processing",component:()=>Promise.all([n.e(0),n.e(1),n.e(73)]).then(n.bind(null,"0dc3")),meta:{title:"Item Processing",controls:["item","range"]}},chef_performance:{name:"chef_performance",path:"/report/chef/performance",component:()=>Promise.all([n.e(0),n.e(1),n.e(70)]).then(n.bind(null,"ae47")),meta:{title:"Chef Performance",controls:["user","range"]}},orders_remote:{name:"orders_remote",path:"/orders/remote",component:()=>Promise.all([n.e(0),n.e(57)]).then(n.bind(null,"a6fa")),meta:{title:"Remote Orders"}},orders_remote_new:{name:"orders_remote_new",path:"/orders/remote/new",component:()=>Promise.all([n.e(0),n.e(1),n.e(58)]).then(n.bind(null,"ed22")),meta:{title:"New Remote Orders",back:!0}},sale:{name:"sale",path:"sale",component:()=>Promise.all([n.e(0),n.e(1),n.e(59)]).then(n.bind(null,"bc77")),meta:{title:"New Sale",footer:!1,back:!0}},archives:{name:"archives",path:"archives",component:()=>Promise.all([n.e(0),n.e(1),n.e(30)]).then(n.bind(null,"d823")),meta:{title:"Archives"}},archive_payments:{name:"archive_payments",path:"archive/payments",component:()=>Promise.all([n.e(0),n.e(32)]).then(n.bind(null,"e7c8")),meta:{title:"Recent Payments",back:!0,footer:!1}},archive_bills:{name:"archive_bills",path:"archive/bills",component:()=>Promise.all([n.e(0),n.e(1),n.e(29)]).then(n.bind(null,"23ad")),meta:{title:"Bills",back:!0,footer:!1}},archive_remote:{name:"archive_remote",path:"archive/remote",component:()=>Promise.all([n.e(0),n.e(1),n.e(33)]).then(n.bind(null,"07c1")),meta:{title:"Remote Orders",back:!0,footer:!1}},archive_orders:{name:"archive_orders",path:"archive/orders",component:()=>Promise.all([n.e(0),n.e(1),n.e(31)]).then(n.bind(null,"2af5")),meta:{title:"Orders",back:!0,footer:!1}},archive_sales:{name:"archive_sales",path:"archive/sales",component:()=>Promise.all([n.e(0),n.e(1),n.e(34)]).then(n.bind(null,"c0cf")),meta:{title:"Sales",back:!0,footer:!1}},archive_tokens:{name:"archive_tokens",path:"archive/tokens",component:()=>Promise.all([n.e(0),n.e(1),n.e(35)]).then(n.bind(null,"ada9")),meta:{title:"Tokens",back:!0,footer:!1}},delivery_boy_index:{name:"delivery_boy_index",path:"/",component:()=>Promise.all([n.e(0),n.e(1),n.e(42)]).then(n.bind(null,"8439")),meta:{title:null}},delivery_boy_orders:{name:"orders",path:"/orders",component:()=>Promise.all([n.e(0),n.e(1),n.e(43)]).then(n.bind(null,"e284")),meta:{title:"Orders"}},delivery_boy_customers:{name:"delivery_boy_customers",path:"/customers",component:()=>Promise.all([n.e(0),n.e(1),n.e(40)]).then(n.bind(null,"67e4")),meta:{title:"Customers"}},delivery_boy_completed:{name:"delivery_boy_completed",path:"/completed",component:()=>Promise.all([n.e(0),n.e(1),n.e(41)]).then(n.bind(null,"ef79")),meta:{title:"Completed Tokens"}},delivery_boy_payments:{name:"delivery_boy_payments",path:"/payments",component:()=>Promise.all([n.e(0),n.e(1),n.e(44)]).then(n.bind(null,"1c7d")),meta:{title:"Payments"}},menu_index:{name:"menu_index",path:"/",component:()=>Promise.all([n.e(0),n.e(1),n.e(49)]).then(n.bind(null,"9f19")),meta:{title:"Online Menu"}},menu_qr_codes:{name:"menu_qr_codes",path:"menu/qr_codes",component:()=>Promise.all([n.e(0),n.e(1),n.e(51)]).then(n.bind(null,"2f20")),meta:{title:"Online Menu QR Code Generator"}},menu_sync_data:{name:"menu_sync_data",path:"menu/sync/data",component:()=>Promise.all([n.e(0),n.e(52)]).then(n.bind(null,"d71e")),meta:{title:"Sync Data"}},orders_online:{name:"orders_online",path:"online/orders",component:()=>Promise.all([n.e(0),n.e(1),n.e(50)]).then(n.bind(null,"e7a8")),meta:{title:"Online Menu Orders"}}};function jr(e){let t=Lr[e];if(!e||!t)return console.error("No Page or Layout defined.. Page: ",e," & Layout: ",t)||[];let n=Cr(Mr[e],(e=>wr({},Tr(Br,e),{meta:{me:"undefined"===typeof _USER?null:_USER}})));return[Rr(t,"children",n)]}const xr=[...jr("undefined"===typeof _ROLE?"Menu":_ROLE),{path:"*",component:()=>Promise.all([n.e(0),n.e(45)]).then(n.bind(null,"e51e"))}];var Vr=xr;H["a"].use(Sr["a"]);var Ur=function({store:e}){const t=new Sr["a"]({scrollBehavior:()=>({x:0,y:0}),routes:Vr,mode:"hash",base:""});return t.beforeEach(((t,n,r)=>{e.commit("title",_.get(t,["meta","title"],""),{root:!0}),e.commit("back",_.has(t,["meta","back"])&&t["meta"]["back"]?n:null,{root:!0}),e.commit("footer",!_.has(t,["meta","footer"])||!1!==t["meta"]["footer"],{root:!0}),r()})),t},Kr=async function(){const e="function"===typeof Pr?await Pr({Vue:H["a"]}):Pr,t="function"===typeof Ur?await Ur({Vue:H["a"],store:e}):Ur;e.$router=t;const n={router:t,store:e,render:e=>e(re),el:"#q-app"};return{app:n,store:e,router:t}},Yr=n("9483");Object(Yr["a"])("service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}});var Fr=n("30d4"),Wr=n.n(Fr),qr=n("758b"),Hr=n("adfa"),Jr=n("260b"),Gr=n("e71f"),zr=n("588e"),Xr=n("ab75");const{JI36A:$r}=n("adfa").FEATURES,Zr=Object(Jr["a"])(Xr["a"]);Object(Gr["d"])(Zr),Object(zr["c"])(Zr);var Qr=n("c60b");/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&n.e(0).then(n.t.bind(null,"a0db",7));const ei="";async function ti(){const{app:e,store:t,router:n}=await Kr();let r=!1;const i=e=>{r=!0;const t=Object(e)===e?n.resolve(e).route.fullPath:e;window.location.href=t},a=window.location.href.replace(window.location.origin,""),o=[Wr.a,qr["a"],Hr["default"],void 0,Qr["a"],je["default"]];for(let c=0;!1===r&&c<o.length;c++)if("function"===typeof o[c])try{await o[c]({app:e,router:n,store:t,Vue:H["a"],ssrContext:null,redirect:i,urlPath:a,publicPath:ei})}catch(s){return s&&s.url?void(window.location.href=s.url):void console.error("[Quasar] boot error:",s)}!0!==r&&new H["a"](e)}ti()},3:function(e,t){},3001:function(e,t){},"30d4":function(e,t,n){(function(e){e._=n("2ef0")}).call(this,n("c8ba"))},"31cd":function(e,t,n){},"3c10":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return l}));var r=n("9224");n.d(t,"i",(function(){return r["a"]}));const i=1024,a="undefined"===typeof MEDIA_ROOT?"/media":MEDIA_ROOT,o="undefined"===typeof BASE_URL?"/api/v1":BASE_URL,s="undefined"===typeof _KEY?"":_KEY,c="undefined"===typeof _CODE?"":_CODE,u="undefined"===typeof _TIME?parseInt((new Date).getTime()/1e3):_TIME,_="menu/assets.json",l="menu/items/"},"3e26":function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return k})),n.d(t,"a",(function(){return E})),n.d(t,"e",(function(){return D})),n.d(t,"f",(function(){return A})),n.d(t,"g",(function(){return v}));n("e6cf"),n("ddb0");var r=n("260b"),i=n("588e"),a=n("e71f");n.d(t,"d",(function(){return a["e"]})),n.d(t,"h",(function(){return a["g"]}));var o=n("ab75"),s=n("3c10");const c=Object(r["a"])(o["a"]),u=Object(i["c"])(c),l={};function d(e){return e+"/"+s["f"]}function m(e,t){return e+"/"+s["g"]+t}function f(e){return Object(i["e"])(u,d(e))}function p(e,t){return Object(i["e"])(u,m(e,t))}function h(e){return new Promise((function(t){Object(i["b"])(f(e)).then(t)}))}function b(e,t){return _.has(l,_.toInteger(t))?Promise.resolve(_.get(l,_.toInteger(t))):new Promise((function(n,r){Object(i["b"])(p(e,t)).then((e=>n(l[_.toInteger(t)]=e))).catch(r)}))}function g(e,t){return new Promise((function(n){Object(i["h"])(f(e),JSON.stringify(t),i["a"].RAW,{contentType:"application/json"}).then((()=>n(t)))}))}function k(e,t,n){return Object(i["g"])(p(e,t),n,{contentType:n.type})}function y(e,t,n){return new Promise((function(r){Object(i["f"])(p(e,t),n).then((({ref:e})=>Object(i["b"])(e).then((e=>r(l[_.toInteger(t)]=e)))))}))}function E(e){return new Promise((async function(t){const n=await I(e);Promise.all(_.map(n,(e=>O(e)))).then((e=>t(l)))}))}async function I(e){const t=[],n=await Object(i["d"])(p(e,""));return n.items.forEach((e=>t.push(e))),t}function O(e){let t=_.toInteger(e.name);return _.has(l,t)?Promise.resolve(_.get(l,t)):new Promise((n=>Object(i["b"])(e).then((e=>{l[t]=e,n(e)}))))}function D(e,t,n){const r=Object(a["d"])(c);return new Promise((function(i){Object(a["a"])(Object(a["b"])(r,e+"/online_orders/"+t),n).then(i)}))}function A(e,t,n){const r=Object(a["d"])(c);return Object(a["c"])(r,`${e}/online_orders/${t}/${n}`)}function v(e,t){const n=Object(a["d"])(c);return Object(a["f"])(Object(a["b"])(n,`${e}/online_orders/${t}`),Object(a["h"])("active","==",!0))}},4:function(e,t){},"4bbf":function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return _}));n("e6cf"),n("5319"),n("498a");var r=n("4f60");n("1862"),n("24ee");const i=localStorage.getItem("remote_reference");let a,o;if(i&&""!==i.trim()){r["a"].initializeApp({apiKey:"AIzaSyCdUrQDI8jHDJHkvzpevAyX9WUlK7R4wXI",authDomain:"smart-kitchen-server-test.firebaseapp.com",projectId:"smart-kitchen-server-test",storageBucket:"smart-kitchen-server-test.appspot.com",messagingSenderId:"502388406873",appId:"1:502388406873:web:21b1896ec46833711d0f48",measurementId:"G-C916FMYVX9"});a=r["a"].firestore(),o=r["a"].storage(),e.db=a,e.st=o,e.storage=u}let s=null;function c(e,t){return i&&""!==i.trim()?a?new Promise((async function(n,r){let o=null===s?await new Promise((function(e){a.collection("companies").doc(i).get().then((t=>e(t.get("name")&&t.get("name")===_COMPANY)))})):s;return o?void 0===t?n(a.collection(i+"/"+e+"/data")):"get"===t||!0===t?a.collection(i+"/"+e+"/data").get().then(n):"string"===typeof t?n(a.doc(i+"/"+e+"/data/"+t)):void 0:r("No company")})):Promise.reject("No RDB"):Promise.reject("No Ref")}function u(e,t){return i&&""!==i.trim()?o?new Promise((async function(n,r){let c=null===s?await new Promise((function(e){a.collection("companies").doc(i).get().then((t=>e(t.get("name")&&t.get("name")===_COMPANY)))})):s;if(!c)return r("No company");let u=o.ref(i+"/"+_(e));return t?u.getDownloadURL().then(n).catch((()=>r("File not exists!!"))):n(u)})):Promise.reject("No Remote Storage"):Promise.reject("No Ref")}function _(e){return e.replace(i+"/","")}}).call(this,n("c8ba"))},5:function(e,t){},"5b0d":function(e,t,n){},6:function(e,t){},"68a1":function(e,t){},7:function(e,t){},"758b":function(e,t,n){"use strict";(function(e){n("e6cf"),n("5319");var r=n("bc3a"),i=n.n(r),a=n("3c10");const o=n("14b7"),s=i.a.create({baseURL:a["a"]});function c(){let e=_.zipObject(["%","#","$","|","@"],["a","e","i","o","u"]);return localStorage.getItem("jwt_SECRET").replace(/[\%\#\$\|\@]/g,(t=>e[t]))}function u(e){return Object.assign({},o.decode(localStorage.getItem("jwt_TOKEN")),e||{})}s.interceptors.request.use((function(e){if(_.size(JSON.stringify(e.data))>a["b"]){let t={};_.forEach(e.data,((n,r)=>{_.size(JSON.stringify(n))<a["b"]&&(t[r]=n,delete e.data[r])})),e.headers.Authorization="Bearer "+o.sign(u(t),c())}else e.headers.Authorization="Bearer "+o.sign(u(e.data),c()),e.data=null;return e}));const l=i.a.create({baseURL:a["e"]});l.interceptors.request.use((function(e){let t={model:e.data.model,id:e.data.id};return e.headers.Authorization="Bearer "+o.sign(u(t),c()),delete e.data.model,delete e.data.id,e}));const d=i.a.create({baseURL:a["e"].replace("media","data")});t["a"]=()=>{e.api=s.post,e.upload=function(e,t,n){if(!e||!t||!n)return Promise.reject(!!console.error("Mandatory fields are null"));let r=new FormData;return r.append("media",n),r.append("model",e),r.append("id",t),l.post("upload",r)},e.remove_upload=function(e,t){if(!e||!t)return Promise.reject(!!console.error("Mandatory fields are null"));let n=new FormData;return n.append("model",e),n.append("id",t),l.post("remove",n)},e.import_data=function(e){return e&&_.every(e)?d.post("import",e):Promise.reject(!!console.error("For Import all fields are mandatory!!"))},e.file_upload=function(e,t){if(!e||!t)return Promise.reject(!!console.error("Mandatory fields are null"));let n=new FormData;return n.append("name",e),n.append("file",t),l.post("file_upload",n)},e.file_remove=function(e){if(!e)return Promise.reject(!!console.error("Mandatory fields are null"));let t=new FormData;return t.append("id",e),l.post("file_remove",t)}}}).call(this,n("c8ba"))},8:function(e,t){},8808:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"j",(function(){return b}));n("13d5"),n("fb6a"),n("ddb0");var r=n("b1c1");const i=n("232e").TokenDeliveryReadableChecks;function a({amount:e,discount:t,round:n}){return _.toNumber(e)-_.toNumber(t)-_.toNumber(n)}function o({contents:e}){return _.sumBy(e,(({tax:{amount:e,price:t,quantity:n}})=>e>0?_.toNumber(t)*n:0))}function s({contents:e}){return _.sumBy(e,(({tax:{amount:e}})=>_.toNumber(e)))}function c({contents:e}){let t={};return _.forEach(e,(function({tax:{contents:e}}){_.forEach(e,(function({name:e,amount:n}){_.has(t,e)||Object.assign(t,_.fromPairs([[e,0]])),t[e]+=_.toNumber(n)}))})),t}const u={accept:0,start:0,process:0,complete:0,serve:0};function l(e){e=e.slice(_.findLastIndex(e,["status","Cancelled"])+1);let t=_.cloneDeep(u);if(!_.isEmpty(e)){let n=0,r=0,i=0,a=0;_.forEach(e,(function({status:e,time:o}){switch(e){case"New":n=o;break;case"Accepted":t["accept"]=o-n,r=o;break;case"Processing":t["start"]=o-n,i=o;break;case"Completed":t["process"]=o-i,t["complete"]=o-r,a=o;break;case"Served":t["serve"]=o-a;break}}))}return t}function d(e,t){let n=_.map(e,l),r=["process","complete"];return _.reduce(n,(function(e,n,i,a){return["accept","start","process","complete","serve"].forEach((t=>e[t]+=n[t])),i+1===a.length?_.mapValues(e,((e,n)=>e/(r.includes(n)?t:i+1))):e}),_.cloneDeep(u))}function m(e,{progress:t,type:n,id:r}){return"Remote"===n&&["New","Processing","Completed","Billed"].includes(t)&&e[_.toInteger(r)]===_BRANCH}function f(e,t){return Object.assign({},t,{items:e[parseInt(t.id)]})}function p(e,t,n){return!!_.find(e,(({item:e,local_id:r,location:i})=>e===t&&r===n&&i!==_BRANCH))}function h(e){for(let t in i){let n=i[t];if(!n[0]||!0===n[0].apply(this,[e,...n.slice(3)]))return{say:n[1],say_color:n[2]}}}function b(e){return _(e).map((({deliver:e})=>Object(r["c"])(e).getTime())).min()}},"8f32":function(e,t){},9:function(e,t){},9224:function(e){e.exports=JSON.parse('{"a":"1.6.1"}')},a624:function(e,t){},ab75:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),t["a"]={apiKey:"AIzaSyCdUrQDI8jHDJHkvzpevAyX9WUlK7R4wXI",authDomain:"smart-kitchen-server-test.firebaseapp.com",projectId:"smart-kitchen-server-test",storageBucket:"smart-kitchen-server-test.appspot.com",messagingSenderId:"502388406873",appId:"1:502388406873:web:21b1896ec46833711d0f48",measurementId:"G-C916FMYVX9"};const r="https://smart-kitchen-server-test.web.app"},adfa:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"KEY_VALID",(function(){return KEY_VALID})),__webpack_require__.d(__webpack_exports__,"CLIENT",(function(){return CLIENT})),__webpack_require__.d(__webpack_exports__,"BRANCH",(function(){return BRANCH})),__webpack_require__.d(__webpack_exports__,"CLIENT_CODE",(function(){return CLIENT_CODE})),__webpack_require__.d(__webpack_exports__,"BRANCH_CODE",(function(){return BRANCH_CODE})),__webpack_require__.d(__webpack_exports__,"EDITION",(function(){return EDITION})),__webpack_require__.d(__webpack_exports__,"VALID_UPTO",(function(){return VALID_UPTO})),__webpack_require__.d(__webpack_exports__,"VALID_UPTO_UNIX",(function(){return VALID_UPTO_UNIX})),__webpack_require__.d(__webpack_exports__,"VALID_UPTO_REMAINS",(function(){return VALID_UPTO_REMAINS})),__webpack_require__.d(__webpack_exports__,"CODE_VALID",(function(){return CODE_VALID})),__webpack_require__.d(__webpack_exports__,"CODE_INVALID_ERROR_CODE",(function(){return CODE_INVALID_ERROR_CODE})),__webpack_require__.d(__webpack_exports__,"CODE_INVALID_DETAIL",(function(){return CODE_INVALID_DETAIL})),__webpack_require__.d(__webpack_exports__,"CODE_INVALID_REASON",(function(){return CODE_INVALID_REASON})),__webpack_require__.d(__webpack_exports__,"FEATURES",(function(){return FEATURES}));var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("c975"),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("baa5"),core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_reduce__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("13d5"),core_js_modules_es_array_reduce__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_reduce__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("5319"),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_3__),axios__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_4__),assets_constants__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("3c10");const MD5=__webpack_require__("8237"),_=__webpack_require__("2ef0"),GLOBAL_FEATURES=[["GH56E","Yes/No","No"],["GH75F","Yes/No","No"],["JI36A","Detail",null]],SERIAL=localStorage.getItem("serial");__webpack_exports__["default"]=()=>{if(!SERIAL&&"undefined"===typeof _USER&&"undefined"!==typeof LOGIN)return axios__WEBPACK_IMPORTED_MODULE_4___default.a.post(LOGIN.replace("login","subscription/serial")).then((({headers:e})=>localStorage.setItem("serial",e["sk-serial"])||location.reload()))};let CODE_VALID=!0,CODE_INVALID_REASON="",CODE_INVALID_DETAIL="",CODE_INVALID_ERROR_CODE="";!CODE_VALID||assets_constants__WEBPACK_IMPORTED_MODULE_5__["d"]&&assets_constants__WEBPACK_IMPORTED_MODULE_5__["c"]&&SERIAL||(CODE_VALID=!1,CODE_INVALID_REASON="Subscription details missing",CODE_INVALID_DETAIL="KEY, CODE or SERIAL is not accessible",CODE_INVALID_ERROR_CODE="E00"),CODE_VALID&&!assets_constants__WEBPACK_IMPORTED_MODULE_5__["c"].indexOf("/")&&(CODE_VALID=!1,CODE_INVALID_REASON="Code is corrupted",CODE_INVALID_DETAIL="Code have no separator for basic.",CODE_INVALID_ERROR_CODE="E01");const KEY_VALID=assets_constants__WEBPACK_IMPORTED_MODULE_5__["d"].substr(0,2)+MD5(assets_constants__WEBPACK_IMPORTED_MODULE_5__["d"].substr(0,2)+SERIAL+assets_constants__WEBPACK_IMPORTED_MODULE_5__["d"].substr(-4)).toString()+assets_constants__WEBPACK_IMPORTED_MODULE_5__["d"].substr(-4)===assets_constants__WEBPACK_IMPORTED_MODULE_5__["d"],CODE_HAS_BASIC=CODE_VALID&&2===assets_constants__WEBPACK_IMPORTED_MODULE_5__["c"].split("/").length&&!_.isEmpty(assets_constants__WEBPACK_IMPORTED_MODULE_5__["c"].split("/")[0])&&!_.isEmpty(assets_constants__WEBPACK_IMPORTED_MODULE_5__["c"].split("/")[1]),CODE_BASIC_JSON_STRING=CODE_HAS_BASIC?atob(assets_constants__WEBPACK_IMPORTED_MODULE_5__["c"].split("/")[1]):"";let JSON_STRING_VALID=!1;if(CODE_HAS_BASIC)try{JSON.parse(CODE_BASIC_JSON_STRING),JSON_STRING_VALID=!0}catch(e){JSON_STRING_VALID=!1}const SUBSCRIPTION_ARRAY=JSON_STRING_VALID?JSON.parse(CODE_BASIC_JSON_STRING):[],CLIENT=SUBSCRIPTION_ARRAY["client"],BRANCH=SUBSCRIPTION_ARRAY["branch"],CLIENT_CODE=SUBSCRIPTION_ARRAY["client_code"],BRANCH_CODE=SUBSCRIPTION_ARRAY["branch_code"],EDITION=SUBSCRIPTION_ARRAY["edition"];function KJDU(){return CODE_VALID?assets_constants__WEBPACK_IMPORTED_MODULE_5__["c"].split("/")[0]:""}function UEPQ(){return KJDU().substr(34,5)+""+KJDU().substr(-5)}function QWPO(){return UEPQ()===_.toString(_.toInteger(new Date(SUBSCRIPTION_ARRAY["expiry"]).getTime()/1e3))}const VALID_UPTO=QWPO()?SUBSCRIPTION_ARRAY["expiry"]:"1999-12-31 23:59:59",VALID_UPTO_UNIX=_.toInteger(new Date(VALID_UPTO).getTime()/1e3),VALID_UPTO_REMAINS=VALID_UPTO_UNIX-_.toInteger(assets_constants__WEBPACK_IMPORTED_MODULE_5__["h"]);function IAZP(){return _.toString(UEPQ()).substr(0,5)}function LMNP(){return _.toString(UEPQ()).replace(IAZP(),"")}function XAAL(){return KJDU().substr(0,2)}function S0IP(){return assets_constants__WEBPACK_IMPORTED_MODULE_5__["d"].substr(0,_.toNumber(XAAL()))}function K090(){return assets_constants__WEBPACK_IMPORTED_MODULE_5__["d"].replace(S0IP(),"")}function AR1P(){return MD5}function RO06(){return AR1P()(S0IP())}function DGV7(){return AR1P()(K090())}CODE_VALID&&!_.toNumber(XAAL())&&(CODE_VALID=!1,CODE_INVALID_REASON="CODE is invalid",CODE_INVALID_DETAIL="Separator is corrupted",CODE_INVALID_ERROR_CODE="E02"),!CODE_VALID||S0IP()&&K090()&&assets_constants__WEBPACK_IMPORTED_MODULE_5__["d"]===S0IP()+K090()||(CODE_VALID=!1,CODE_INVALID_REASON="CODE and KEY not matches",CODE_INVALID_DETAIL="Code is not encoded with provided key",CODE_INVALID_ERROR_CODE="E03");const P1=["XAAL","RO06","IAZP"],P2=["DGV7","LMNP"];function W93M(){return P1.reduce(((S,F)=>S+eval(F+"()")),"")}function M39W(){return P2.reduce(((S,F)=>S+eval(F+"()")),"")}function KXY3(){return M39W().length}function TA00(){return 0===KJDU().indexOf(W93M())}function TB11(){return 0===KJDU().split("/")[0].substr(0-KXY3()).indexOf(M39W())}function CFAD(){return KJDU().replace(W93M(),"").replace(M39W(),"")}function N8EJ(e){let t=0,n=e.substr(t,1);t++;let r=parseInt(n,16),i=[];i.push(e.substr(t,r)),t+=r;let a=e.substr(t,1);t++,i.push(e.substr(t,r)),t+=r;let o=e.substr(t).indexOf("g"),s=e.substr(t,o);t+=o,t++;let c=parseInt(s,16),u=e.substr(e.lastIndexOf("h")+1),_=parseInt(u,16),l=e.substr(t);i.push(l.substr(0,l.length-(u+"").length-1));let d=i.join(""),m=[],f=[],p=[],h="";for(let k=0;k<d.length;k+=2*parseInt(a))m.push(d.substr(k,2*parseInt(a)));for(let k in m){h=m[k];let e=h.substr(0,a),t=h.substr(a);c>k&&_>k?(f.push(e),p.push(t)):c>k?(f.push(e),""!==t&&f.push(t)):_>k&&(p.push(e),""!==t&&p.push(t))}f[c-1]=f[f.length-1].replaceAll("$",""),p[_-1]=p[p.length-1].replaceAll("$","");let b=f.join(""),g=p.join("");return[atob(b).split("|"),atob(g).split("|")]}!CODE_VALID||TA00()&&TB11()||(CODE_VALID=!1,CODE_INVALID_REASON="CODE corrupted",CODE_INVALID_DETAIL="Code initial part and final part are not matching",CODE_INVALID_ERROR_CODE="E04"),CODE_VALID&&!CFAD()&&(CODE_VALID=!1,CODE_INVALID_REASON="No Features",CODE_INVALID_DETAIL="Features are empty",CODE_INVALID_ERROR_CODE="E05");const YZB6=!!CODE_VALID&&N8EJ(CFAD());function MJ78(){return _.zipObject(YZB6[0],YZB6[1])}!CODE_VALID||_.isArray(YZB6)&&_.isArray(YZB6[0])&&_.isArray(YZB6[1])&&YZB6[0].length===YZB6[1].length||(CODE_VALID=!1,CODE_INVALID_REASON="Features corrupted",CODE_INVALID_DETAIL="Features corrupted",CODE_INVALID_ERROR_CODE="E06"),CODE_VALID&&!MJ78()&&(CODE_VALID=!1,CODE_INVALID_REASON="Features Corrupted",CODE_INVALID_DETAIL="Features compile error",CODE_INVALID_ERROR_CODE="E07");const FEATURES={};function DF00(){let e=MJ78();return _.forEach(GLOBAL_FEATURES,(function(t){FEATURES[t[0]]=_.get(e,t[0],t[2])})),!0}CODE_VALID&&!DF00()&&(CODE_VALID=!1,CODE_INVALID_REASON="Final Stage",CODE_INVALID_DETAIL="Final Stage unknown error",CODE_INVALID_ERROR_CODE="E08")},b1c1:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"s",(function(){return p})),n.d(t,"t",(function(){return h})),n.d(t,"w",(function(){return b})),n.d(t,"u",(function(){return k})),n.d(t,"p",(function(){return y})),n.d(t,"r",(function(){return E})),n.d(t,"B",(function(){return I})),n.d(t,"q",(function(){return O})),n.d(t,"c",(function(){return A})),n.d(t,"y",(function(){return v})),n.d(t,"e",(function(){return P})),n.d(t,"f",(function(){return S})),n.d(t,"m",(function(){return C})),n.d(t,"o",(function(){return R})),n.d(t,"n",(function(){return w})),n.d(t,"k",(function(){return T})),n.d(t,"j",(function(){return N})),n.d(t,"i",(function(){return L})),n.d(t,"z",(function(){return M})),n.d(t,"x",(function(){return B})),n.d(t,"h",(function(){return j})),n.d(t,"b",(function(){return x})),n.d(t,"g",(function(){return V})),n.d(t,"A",(function(){return U})),n.d(t,"l",(function(){return K})),n.d(t,"v",(function(){return Y}));n("ddb0");var r=n("3c10");const{formatDate:i,extractDate:a,isSameDate:o,startOfDate:s,subtractFromDate:c,addToDate:u,isBetweenDates:l}=n("fe09").date,d=new Audio(r["e"]+"/attention.mp3");function m(){d.play()}function f(){return Array.from(arguments).join("-")}function p(e){return _.assign({},e,{label:[e.name,e.phone].join(", ")})}function h(e){let t=_(e).map(p).value();return t.unshift(p({id:0,name:"New Customer",phone:"000"})),t}function b(e,t){return _.toNumber(e).toFixed(t||2)}function g(e,t,n){let r=_.map(t,(t=>e[t])).join(n||",");return _.assign({},e,{label:r})}function k(e,t,n){return _.map(e,(e=>g(e,t,n||", ")))}function y(e,t,n){return _.includes(_.values(_.pick(e,t)).join(" ").toLowerCase(),n.toString().toLowerCase())}function E(){return _.toInteger((new Date).getTime()/1e3)}function I(e){return M(e||"YYYY-MM-DD",u(new Date,{days:1}))}function O(e){return M(e||"YYYY-MM-DD",u(new Date,{days:30}))}function D(e){return e||"YYYY-MM-DD HH:mm:ss"}function A(e,t){return t=D(t),a(e,t)}function v(e,t,n){return t=D(t),i(a(e,t),n?"hh:mm:ss A":"hh:mm A")}function P(e,t){return i(a(e,D()),t?"ddd, D/MM - hh:mm A":"ddd, D/MM")}function S(e){return i(a(e,D()),"ddd, D/MMM/YYYY")}function C(e,t){return t=D(t),o(a(e,t),new Date,"day")}function R(e,t){return t=D(t),o(a(e,t),c(new Date,{days:1}),"day")}function w(e,t){return t=D(t),o(a(e,t),u(new Date,{days:1}),"day")}function T(e,t){return l(A(e),c(new Date,{days:t||8}),c(new Date,{days:1}),{inclusiveFrom:!0,inclusiveTo:!0,onlyDate:!0})}function N(e,t){return l(A(e),u(new Date,{days:1}),u(new Date,{days:t||8}),{inclusiveFrom:!0,inclusiveTo:!0,onlyDate:!0})}function L(e,t,n,r){return r=D(r),o(a(e,r),a(t,r),n||"day")}function M(e,t){return e=D(e),i(t||new Date,e)}function B(e,t){return _.has(e,"from")&&(t=_.get(e,"to",M("YYYY-MM-DD"))+" 11:59:59",e=_.get(e,"from",M("YYYY-MM-DD"))+" 11:59:59"),e=s(e||M(),"day"),t=c(s(t||u(M(),{days:1}),"day"),{seconds:1}),{from:M("YYYY-MM-DD HH:mm:ss",e),to:M("YYYY-MM-DD HH:mm:ss",t)}}function j(e,t,n){return l(A(e),A(t),A(n),{inclusiveFrom:!0,inclusiveTo:!0,onlyDate:!0})}function x(e,t=0){let n=3735928559^t,r=1103547991^t;for(let i,a=0;a<e.length;a++)i=e.charCodeAt(a),n=Math.imul(n^i,2654435761),r=Math.imul(r^i,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),4294967296*(2097151&r)+(n>>>0)}function V(e){return[r["e"],e].join("/")}function U(e){return _.map(_.toPairs(e),(e=>e.join(": "))).join("<br />")}function K(e){return[229,110,190].includes(e)}function Y(e){return new Object({width:(e||360)+"px","max-width":"90vw"})}},b3f6:function(e,t){},c60b:function(e,t,n){"use strict";(function(e){n("e6cf");var r=n("9b02"),i=n.n(r);t["a"]=async({store:t,router:n})=>{e.post=function(e,n,r){return new Promise((i=>{t.dispatch("server/post",{item:e,action:n,data:r},{root:!0}).then(i)}))},e.fetch_records=function(e,t,n){return post(e,"records",{ids:_.isArray(t)?t:[t],key:n||"id"})},i()(n,["options","routes",0,"meta","online_menu"],!1)||_.forEach(t._actions,((e,n)=>"init"===n.substr(-4)?t.dispatch(n,null,{root:!0}):null)),e.settings=function(e,...n){let r="settings/"+e,i=_.get(t.getters,r,_.get(t.getters["settings/settings"],e));return"function"===typeof i?i.apply(this,n):i}}}).call(this,n("c8ba"))},d503:function(e,t,n){"use strict";n.r(t),n.d(t,"assign",(function(){return r})),n.d(t,"stock",(function(){return i})),n.d(t,"map",(function(){return a})),n.d(t,"live",(function(){return o})),n.d(t,"cloud",(function(){return s})),n.d(t,"cloud_items",(function(){return c})),n.d(t,"remote",(function(){return u})),n.d(t,"remote_items",(function(){return l})),n.d(t,"kitchen_full_timer",(function(){return d})),n.d(t,"kitchen_printer",(function(){return m})),n.d(t,"non_remote",(function(){return f}));n("5db7"),n("73d9");function r({status:e}){let t={};return _.forEach(e,(({users:e},n)=>_.forEach(e,(e=>{e=_.toInteger(e),n=_.toInteger(n),_.has(t,e)||(t[e]=[]),t[e].push(n)})))),t}function i({items:e}){return _(e).flatMap().groupBy("item").mapValues((e=>_(e).keyBy("kitchen").mapValues("stock").value())).value()}function a({items:e}){let t={};return _(e).forEach(((e,n)=>_.forEach(e,(({id:e},r)=>t[e]=[parseInt(n),r])))),t}function o({status:e}){return _(e).filter(["status","Active"]).map((({kitchen:e})=>_.toInteger(e))).value()}function s({data:e},t,n,r){return _.filter(e,(({cloud:e,id:t})=>"Yes"===e&&r["remote/is"]("kitchens",t)))}function c({items:e},{cloud:t}){return _(e).pick(_.map(t,"id")).flatMap().value()}function u({data:e},t,n,r){return _.filter(e,(e=>"Yes"===e.cloud&&r["remote/is"]("kitchens",e.id)))}function l({items:e},{remote:t}){return _(e).pick(_.map(t,"id")).flatMap().value()}function d({status:e}){return _(e).keyBy((({kitchen:e})=>_.toInteger(e))).mapValues((({full_timer:e})=>e?_.toInteger(e):null)).value()}function m({status:e}){return _(e).keyBy((({kitchen:e})=>_.toInteger(e))).mapValues("printer").value()}function f({data:e},t,n,r){return _(e).filter((e=>!r["remote/is"]("kitchens",e.id))).value()}},f567:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={no:"no-image.jpg",item:"item.png",seating:"seating.jpg",kitchen:"kitchen.png",customer:"customer.jpg",takeaway:"takeaway.jpg",homedelivery:"homedelivery.jpg",remote:"remote.jpg",sale:"sale.jpg"}},f875:function(e,t){}});