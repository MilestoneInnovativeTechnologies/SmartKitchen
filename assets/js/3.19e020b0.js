(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{1984:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{attrs:{padding:""}},[i("div",{staticClass:"q-mx-auto",staticStyle:{"max-width":"700px",width:"65vw"}},[i("KitchenItemsDisplay",{staticClass:"q-mb-sm",attrs:{kitchen:t.id}})],1)])},a=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-card",[i("q-card-section",{staticClass:"bg-grey-2"},[i("div",{staticClass:"text-h6"},[t._v(t._s(t.name))])]),i("q-card-actions",{staticClass:"q-px-md"},[t._v("\n    Users: "+t._s(t.users.length)+" "),i("q-space"),i("q-btn",{attrs:{icon:"add_box",color:"primary",flat:""},on:{click:function(e){t.add_mode=!0}}})],1),i("q-separator"),i("q-list",{attrs:{separator:""}},[i("q-item",{staticClass:"text-bold"},[i("q-item-section",[i("q-item-label",[t._v("Item")])],1),i("q-item-section",[i("q-item-label",[t._v("Stock")])],1),i("q-item-section",[i("q-item-label",[t._v("Duration")])],1),i("q-item-section",[i("q-item-label",[t._v("Auto")])],1),i("q-item-section",{attrs:{side:""}},[t._v("Â ")])],1),i("q-item",{staticClass:"text-bold"},[i("q-item-section",[i("FilterInputText",{attrs:{label:"Filter Items"},on:{text:function(e){t.filter=e}}})],1)],1),t._l(t.filtered,(function(e){return i("KitchenItemsDisplayItemRow",t._b({key:t.hKey(e),attrs:{name:t.item(e).name,temp:t.filtered}},"KitchenItemsDisplayItemRow",e,!1))}))],2),i("q-dialog",{attrs:{persistent:""},model:{value:t.add_mode,callback:function(e){t.add_mode=e},expression:"add_mode"}},[i("KitchenItemAdd",{staticStyle:{width:"700px","max-width":"60vw"},attrs:{kitchen:t.kitchen},on:{close:function(e){t.add_mode=!1}}})],1)],1)},r=[],o=i("ded3"),l=i.n(o),c=i("2f62"),u=i("43fa"),m=i("b1c1"),d=i("8721"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-card",[i("q-card-section",{staticClass:"row items-center q-pb-none"},[i("div",{staticClass:"text-h6"},[t._v("Add Item to Kitchen")]),i("q-space"),i("q-btn",{attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:function(e){return t.$emit("close",null)}}})],1),i("q-card-section",{staticClass:"q-gutter-xs q-pb-none"},[i("q-select",{attrs:{outlined:"",dense:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:t.item_options_unique,label:"Select Item",clearable:""},on:{filter:t.filter},model:{value:t.item_obj,callback:function(e){t.item_obj=e},expression:"item_obj"}}),i("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Stock"},model:{value:t.params.stock,callback:function(e){t.$set(t.params,"stock",t._n(e))},expression:"params.stock"}}),i("q-input",{attrs:{dense:"",outlined:"",type:"number",label:"Prepare Duration in Minutes"},model:{value:t.params.duration,callback:function(e){t.$set(t.params,"duration",t._n(e))},expression:"params.duration"}}),i("q-select",{attrs:{dense:"",outlined:"",options:["Yes","No"]},model:{value:t.params.auto_process,callback:function(e){t.$set(t.params,"auto_process",e)},expression:"params.auto_process"}})],1),i("q-card-actions",{staticClass:"q-px-md q-pt-xs",attrs:{align:"right"}},[i("q-btn",{attrs:{color:"primary",label:"Add Item",type:"submit",loading:t.loading},on:{click:function(e){return e.preventDefault(),t.add(e)}}})],1)],1)},f=[],h=(i("c975"),i("ddb0"),{name:"KitchenItemAdd",props:["kitchen"],data(){return{item_obj:null,item_options:[],loading:!1,params:{item:null,stock:1,duration:0,auto_process:"No",kitchen:null}}},computed:l()(l()({},Object(c["c"])({items:({items:{data:t}})=>t,kitchen_items:({kitchens:{items:t}})=>t})),{},{my_kitchen_items(){return _.map(this.kitchen_items[_.toSafeInteger(this.kitchen)],"item")},item_options_unique(){return _.filter(this.item_options,(({id:t})=>!_.includes(this.my_kitchen_items,_.toSafeInteger(t))))}}),methods:{filter(t,e){e((()=>{const e=(t||"").toLowerCase();this.item_options=e?Object(m["e"])(this.items,["name"]).filter((t=>_.values(t).join(" ").toLowerCase().indexOf(e)>-1)):Object(m["e"])(this.items,["name"])}))},add(){if(this.loading=!0,this.params.item=_.get(this.item_obj,"id",null),this.params.kitchen=this.kitchen,!this.params.kitchen||!this.params.item)return this.loading=!1;post("kitchen","item",this.params).then((()=>this.$emit("close"))).catch().then((()=>this.loading=!1))}},created(){this.item_options=Object(m["e"])(this.items,["name"],"")}}),b=h,q=i("2877"),k=i("f09f"),g=i("a370"),x=i("2c91"),v=i("9c40"),I=i("ddd8"),y=i("27f9"),Q=i("4b7e"),C=i("eebe"),j=i.n(C),w=Object(q["a"])(b,p,f,!1,null,null,null),S=w.exports;j()(w,"components",{QCard:k["a"],QCardSection:g["a"],QSpace:x["a"],QBtn:v["a"],QSelect:I["a"],QInput:y["a"],QCardActions:Q["a"]});var $=i("5ab9"),O={name:"KitchenItemsDisplay",props:["kitchen"],data(){return{add_mode:!1,filter:""}},components:{FilterInputText:$["a"],KitchenItemAdd:S,KitchenItemsDisplayItemRow:d["a"],CardImageTitle:u["a"]},computed:l()(l()(l()({kid(){return _.toInteger(this.kitchen)}},Object(c["c"])("kitchens",{name:function({data:t}){return _.get(t,[this.kid,"name"])},k_items:function({items:t}){return _.get(t,this.kid)},users:function({status:t}){return _.get(t,[this.kid,"users"])}})),Object(c["c"])("items",{items:"data"})),{},{filtered(){return this.filter?_.filter(this.k_items,this.match):this.k_items}}),methods:{item({item:t}){return _.get(this.items,_.toSafeInteger(t),{})},hKey({id:t,item:e}){return Object(m["a"])("kitchen",this.kitchen,"items",t,"item",e)},match({item:t}){return Object(m["b"])(this.items[t],["id","name","detail"],this.filter)}}},K=O,D=i("eb85"),A=i("1c1c"),E=i("66e5"),L=i("4074"),T=i("0170"),F=i("24e8"),N=Object(q["a"])(K,s,r,!1,null,null,null),P=N.exports;j()(N,"components",{QCard:k["a"],QCardSection:g["a"],QCardActions:Q["a"],QSpace:x["a"],QBtn:v["a"],QSeparator:D["a"],QList:A["a"],QItem:E["a"],QItemSection:L["a"],QItemLabel:T["a"],QDialog:F["a"]});var z={name:"PageKitchenItems",props:["id"],components:{KitchenItemsDisplay:P},computed:{},methods:{}},R=z,B=i("9989"),J=Object(q["a"])(R,n,a,!1,null,null,null);e["default"]=J.exports,j()(J,"components",{QPage:B["a"]})},"43fa":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-img",{attrs:{basic:"",src:t.image}},[t.title?i("div",{staticClass:"absolute-bottom text-subtitle2 text-center",domProps:{textContent:t._s(t.title)}}):t._e(),void 0!==t.info?i("span",{staticClass:"absolute-top-right bg-transparent q-pr-xs q-pt-xs"},[i("q-btn",{staticStyle:{transform:"rotate(180deg)"},attrs:{icon:"error_outline",flat:"",round:"",padding:"0",size:"md",color:"white",dense:""},on:{click:function(e){return e.stopPropagation(),t.$emit("info",!0)}}})],1):t._e()])},a=[],s={name:"CardImageTitle",props:["image","title","info"]},r=s,o=i("2877"),l=i("068f"),c=i("9c40"),u=i("eebe"),m=i.n(u),d=Object(o["a"])(r,n,a,!1,null,null,null);e["a"]=d.exports,m()(d,"components",{QImg:l["a"],QBtn:c["a"]})},"5ab9":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return void 0!==t.lazy?i("q-input",{attrs:{label:t.label||"filter",outlined:"",dense:"",clearable:"",debounce:"500"},on:{input:function(e){return t.$emit("text",t.filter)}},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}):void 0!==t.blur?i("q-input",{attrs:{label:t.label||"filter",outlined:"",dense:"",clearable:""},on:{blur:function(e){return t.$emit("text",t.filter)}},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}):i("q-input",{attrs:{label:t.label||"filter",outlined:"",dense:"",clearable:""},on:{input:function(e){return t.$emit("text",t.filter)}},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})},a=[],s={name:"FilterInputText",props:["label","lazy","blur"],data(){return{filter:""}}},r=s,o=i("2877"),l=i("27f9"),c=i("eebe"),u=i.n(c),m=Object(o["a"])(r,n,a,!1,null,null,null);e["a"]=m.exports,u()(m,"components",{QInput:l["a"]})},8721:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-item",[i("q-item-section",[i("q-item-label",{attrs:{caption:"",lines:"3"}},[t._v(t._s(t.name))])],1),i("q-item-section",[i("q-item-label",{attrs:{caption:""}},[i("q-input",{attrs:{dense:"",type:"number"},model:{value:t.params.stock,callback:function(e){t.$set(t.params,"stock",e)},expression:"params.stock"}})],1)],1),i("q-item-section",[i("q-item-label",{attrs:{caption:""}},[i("q-input",{attrs:{dense:"",type:"number"},model:{value:t.params.duration,callback:function(e){t.$set(t.params,"duration",e)},expression:"params.duration"}})],1)],1),i("q-item-section",[i("q-item-label",{attrs:{caption:""}},[i("q-select",{attrs:{dense:"",options:["Yes","No"]},model:{value:t.params.auto_process,callback:function(e){t.$set(t.params,"auto_process",e)},expression:"params.auto_process"}})],1)],1),i("q-item-section",{attrs:{side:""}},[t.loading?i("q-spinner-hourglass",{attrs:{size:"xs",color:"primary"}}):t._e()],1)],1)},a=[],s={name:"KitchenItemsDisplayItemRow",props:["id","name"],data(){return{params:{stock:0,duration:0,auto_process:"No",id:null},ready:!1,loading:!1}},created(){_.forEach(["stock","duration","auto_process"],(t=>this.params[t]=this.$attrs[t])),this.params.id=this.id,this.$nextTick((()=>this.ready=!0))},watch:{params:{deep:!0,handler(t){if(this.loading=!0,!this.ready||!t.id)return this.loading=!1;post("kitchen","item",t).then((()=>this.loading=!1))}}}},r=s,o=i("2877"),l=i("66e5"),c=i("4074"),u=i("0170"),m=i("27f9"),d=i("ddd8"),p=i("9149"),f=i("eebe"),h=i.n(f),b=Object(o["a"])(r,n,a,!1,null,null,null);e["a"]=b.exports,h()(b,"components",{QItem:l["a"],QItemSection:c["a"],QItemLabel:u["a"],QInput:m["a"],QSelect:d["a"],QSpinnerHourglass:p["a"]})},b1c1:function(t,e,i){"use strict";function n(){return Array.from(arguments).join("-")}function a(t){return _.assign({},t,{label:[t.name,t.phone].join(", ")})}function s(t){return _(t).map(a).value()}function r(t,e){return _.toNumber(t).toFixed(e||2)}function o(t,e,i){let n=_.map(e,(e=>t[e])).join(i||",");return _.assign({},t,{label:n})}function l(t,e,i){return _.map(t,(t=>o(t,e,i||", ")))}function c(t,e,i){return _.includes(_.values(_.pick(t,e)).join(" ").toLowerCase(),i.toString().toLowerCase())}i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return s})),i.d(e,"f",(function(){return r})),i.d(e,"e",(function(){return l})),i.d(e,"b",(function(){return c})),i("ddb0")}}]);