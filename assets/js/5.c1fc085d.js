(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"5ab9":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return void 0!==t.lazy?i("q-input",{attrs:{label:t.label||"filter",outlined:"",dense:"",clearable:"",debounce:"500"},on:{input:function(e){return t.$emit("text",t.filter)}},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}):void 0!==t.blur?i("q-input",{attrs:{label:t.label||"filter",outlined:"",dense:"",clearable:""},on:{blur:function(e){return t.$emit("text",t.filter)}},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}):i("q-input",{attrs:{label:t.label||"filter",outlined:"",dense:"",clearable:""},on:{input:function(e){return t.$emit("text",t.filter)}},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})},a=[],s={name:"FilterInputText",props:["label","lazy","blur"],data(){return{filter:""}}},r=s,o=i("2877"),l=i("27f9"),c=i("eebe"),u=i.n(c),m=Object(o["a"])(r,n,a,!1,null,null,null);e["a"]=m.exports,u()(m,"components",{QInput:l["a"]})},8721:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-item",[i("q-item-section",[i("q-item-label",{attrs:{caption:"",lines:"3"}},[t._v(t._s(t.name))])],1),i("q-item-section",[i("q-item-label",{attrs:{caption:""}},[i("q-input",{attrs:{dense:"",type:"number"},model:{value:t.params.stock,callback:function(e){t.$set(t.params,"stock",e)},expression:"params.stock"}})],1)],1),i("q-item-section",[i("q-item-label",{attrs:{caption:""}},[i("q-input",{attrs:{dense:"",type:"number"},model:{value:t.params.duration,callback:function(e){t.$set(t.params,"duration",e)},expression:"params.duration"}})],1)],1),i("q-item-section",[i("q-item-label",{attrs:{caption:""}},[i("q-select",{attrs:{dense:"",options:["Yes","No"]},model:{value:t.params.auto_process,callback:function(e){t.$set(t.params,"auto_process",e)},expression:"params.auto_process"}})],1)],1),i("q-item-section",{attrs:{side:""}},[t.loading?i("q-spinner-hourglass",{attrs:{size:"xs",color:"primary"}}):t._e()],1)],1)},a=[],s={name:"KitchenItemsDisplayItemRow",props:["id","name"],data(){return{params:{stock:0,duration:0,auto_process:"No",id:null},ready:!1,loading:!1}},created(){_.forEach(["stock","duration","auto_process"],(t=>this.params[t]=this.$attrs[t])),this.params.id=this.id,this.$nextTick((()=>this.ready=!0))},watch:{params:{deep:!0,handler(t){if(this.loading=!0,!this.ready||!t.id)return this.loading=!1;post("kitchen","item",t).then((()=>this.loading=!1))}}}},r=s,o=i("2877"),l=i("66e5"),c=i("4074"),u=i("0170"),m=i("27f9"),d=i("ddd8"),p=i("9149"),h=i("eebe"),f=i.n(h),b=Object(o["a"])(r,n,a,!1,null,null,null);e["a"]=b.exports,f()(b,"components",{QItem:l["a"],QItemSection:c["a"],QItemLabel:u["a"],QInput:m["a"],QSelect:d["a"],QSpinnerHourglass:p["a"]})},b1c1:function(t,e,i){"use strict";function n(){return Array.from(arguments).join("-")}function a(t){return _.assign({},t,{label:[t.name,t.phone].join(", ")})}function s(t){return _(t).map(a).value()}function r(t,e){return _.toNumber(t).toFixed(e||2)}function o(t,e,i){let n=_.map(e,(e=>t[e])).join(i||",");return _.assign({},t,{label:n})}function l(t,e,i){return _.map(t,(t=>o(t,e,i||", ")))}function c(t,e,i){return _.includes(_.values(_.pick(t,e)).join(" ").toLowerCase(),i.toString().toLowerCase())}i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return s})),i.d(e,"f",(function(){return r})),i.d(e,"e",(function(){return l})),i.d(e,"b",(function(){return c})),i("ddb0")},cf59:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{attrs:{padding:""}},[i("div",{staticClass:"q-mx-auto",staticStyle:{"max-width":"700px",width:"65vw"}},[i("KitchenStocksDisplay",{staticClass:"q-mb-sm",attrs:{kitchen:t.id}})],1)])},a=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-card",[i("q-card-section",{staticClass:"bg-grey-2"},[i("div",{staticClass:"text-h6"},[t._v("Stock: "+t._s(t.name))])]),i("q-list",{attrs:{separator:""}},[i("q-item",{staticClass:"text-bold"},[i("q-item-section",{attrs:{avatar:""}},[i("q-item-label",[t._v("#")])],1),i("q-item-section",[i("q-item-label",[t._v("Item")])],1),i("q-item-section",[i("q-item-label",[t._v("Stock")])],1)],1),i("q-item",[i("q-item-section",[i("FilterInputText",{attrs:{label:"Filter"},on:{text:function(e){t.filter=e}}})],1)],1),i("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[i("div",{staticClass:"text-bold"},[t._v("Zero Stock Items")])]),t._l(t.zero,(function(e,n){return i("KitchenStockDisplayItemRow",{key:t.hKey("zero",e),attrs:{no:n+1,id:e.id,stock:e.stock,name:e.item.name}})})),i("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[i("div",{staticClass:"text-bold"},[t._v("Negative Stock Items")])]),t._l(t.negative,(function(e,n){return i("KitchenStockDisplayItemRow",{key:t.hKey("negative",e),attrs:{no:n+1,id:e.id,stock:e.stock,name:e.item.name}})})),i("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[i("div",{staticClass:"text-bold"},[t._v("Least Stock Items")])]),t._l(t.least,(function(e,n){return i("KitchenStockDisplayItemRow",{key:t.hKey("least",e),attrs:{no:n+1,id:e.id,stock:e.stock,name:e.item.name}})})),i("q-item",{staticClass:"bg-grey-1",attrs:{dense:""}},[i("div",{staticClass:"text-bold"},[t._v("Other Items")])]),t._l(t.other,(function(e,n){return i("KitchenStockDisplayItemRow",{key:t.hKey("other",e),attrs:{no:n+1,id:e.id,stock:e.stock,name:e.item.name}})}))],2)],1)},r=[],o=(i("a434"),i("ded3")),l=i.n(o),c=i("2f62"),u=i("b1c1"),m=i("8721"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-item",[i("q-item-section",{attrs:{avatar:""}},[t._v(t._s(t.no))]),i("q-item-section",[i("q-item-label",[t._v(t._s(t.name))])],1),i("q-item-section",[i("q-input",{attrs:{outlined:"",dense:"",debounce:1200},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)},p=[],h={name:"KitchenStockDisplayItemRow",props:["id","no","name","stock"],computed:{value:{get(){return this.stock},set(t){this.update(this.id,t)}}},methods:{update(t,e){post("kitchen","item",{id:t,stock:e})}}},f=h,b=i("2877"),k=i("66e5"),v=i("4074"),q=i("0170"),g=i("27f9"),y=i("eebe"),x=i.n(y),I=Object(b["a"])(f,d,p,!1,null,null,null),S=I.exports;x()(I,"components",{QItem:k["a"],QItemSection:v["a"],QItemLabel:q["a"],QInput:g["a"]});var w=i("5ab9"),Q={name:"KitchenStockDisplay",props:["kitchen"],data(){return{filter:"",negative:[],least:[],other:[]}},components:{FilterInputText:w["a"],KitchenStockDisplayItemRow:S,KitchenItemsDisplayItemRow:m["a"]},computed:l()(l()({kid(){return _.toInteger(this.kitchen)}},Object(c["c"])({name:function({kitchens:{data:t}}){return _.get(t,[this.kid,"name"])},stock:function({kitchens:{items:t},items:{data:e}}){return this.filtered(_.map(_.get(t,[this.kid]),(t=>Object.assign({},t,{item:e[t.item]}))))}})),{},{zero(){return this.negative.splice(0,this.negative.length),this.least.splice(0,this.least.length),this.other.splice(0,this.other.length),_.filter(this.stock,(t=>0===_.toNumber(t.stock)||(_.toNumber(t.stock)>6?!this.other.push(t):_.toNumber(t.stock)<0?!this.negative.push(t):_.toNumber(t.stock)>0&&!this.least.push(t))))}}),methods:{hKey(t,{id:e,item:i}){return Object(u["a"])("ksd",e,"type",t,"kitchen",this.kid,"item",i.id)},filtered(t){return this.filter?_.filter(t,(t=>Object(u["b"])(t.item,["id","name","detail"],this.filter))):t}}},C=Q,K=i("f09f"),j=i("a370"),$=i("1c1c"),D=Object(b["a"])(C,s,r,!1,null,null,null),O=D.exports;x()(D,"components",{QCard:K["a"],QCardSection:j["a"],QList:$["a"],QItem:k["a"],QItemSection:v["a"],QItemLabel:q["a"]});var N={name:"PageKitchenStocks",props:["id"],components:{KitchenStocksDisplay:O},computed:{},methods:{}},R=N,L=i("9989"),z=Object(b["a"])(R,n,a,!1,null,null,null);e["default"]=z.exports,x()(z,"components",{QPage:L["a"]})}}]);