(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[34],{ada9:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{attrs:{padding:""}},[o("q-list",{attrs:{separator:""}},t._l(t.Tokens,(function(e,s){return o("q-item",{key:t.h_key("ao-o-",e.id),attrs:{clickable:""},on:{click:function(e){t.show=(t.selected=s,!0)}}},[o("q-item-section",{attrs:{avatar:""}},[o("q-avatar",{attrs:{rounded:"",size:"md","text-color":"white",color:t.color}},[t._v(t._s(e.id))])],1),o("ItemDetailStackLeft",{staticClass:"col-grow q-mt-sm",attrs:{color:t.color,label:e.date_human}},[t._v(t._s(e.customer?e.customer.name:""))]),o("ItemDetailStackLeft",{staticClass:"q-mt-sm",attrs:{color:t.color,label:e.type}},[t._v(t._s(t.items(e)))]),o("ItemDetailStackLeft",{staticClass:"q-mt-sm",attrs:{color:t.color,label:"Amount"}},[t._v(t._s(t.amount(e)))]),o("q-item-section",{staticClass:"text-right text-italic",class:"text-"+t.color,staticStyle:{"font-size":"0.75rem"}},[t._v(t._s(e.progress))])],1)})),1),o("q-dialog",{attrs:{persistent:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t.Token?o("ArchiveTokenDetail",{staticStyle:{"min-width":"80vw"},attrs:{token:t.Token,color:t.color},on:{print:function(e){return t.print(t.Token)}}}):t._e()],1)],1)},a=[],n=(o("26e9"),o("5843")),i=o("18cd"),r=o("3758"),c=o("b1c1"),l={name:"PageArchiveTokens",components:{ItemDetailStackLeft:n["a"],ArchiveTokenDetail:i["a"]},mixins:[r["a"]],data(){return{color:"deep-purple",selected:null,show:!1}},computed:{Tokens(){return _(this.tokens).filter((({type:t,id:e})=>"Remote"!==t||this.$store.getters["remote/is"]("tokens",e))).sortBy((({date:t})=>Object(c["c"])(t).getTime())).reverse().value()},Token(){return null===this.selected?null:this.Tokens[this.selected]}},methods:{h_key:c["d"],items({items:t}){return _.truncate(_.map(t,(({item:{name:t}})=>_.truncate(t,{length:13,omission:".."}))).join(", "),{length:64,omission:" etc"})},amount({items:t}){return _.round(_(t).map((({price:t,quantity:e})=>t*e)).sum(),2)},print({id:t}){post("token","kot_print",{id:t})}}},m=l,u=o("2877"),d=o("9989"),p=o("1c1c"),k=o("66e5"),h=o("4074"),v=o("cb32"),w=o("58a8"),f=o("24e8"),g=o("eebe"),b=o.n(g),q=Object(u["a"])(m,s,a,!1,null,null,null);e["default"]=q.exports,b()(q,"components",{QPage:d["a"],QList:p["a"],QItem:k["a"],QItemSection:h["a"],QAvatar:v["a"],QBadge:w["a"],QDialog:f["a"]})}}]);