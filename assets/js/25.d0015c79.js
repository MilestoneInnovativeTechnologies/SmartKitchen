(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{ee24:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{attrs:{padding:""}},[i("AdministratorFileManage",{staticClass:"q-mx-md",attrs:{files:e.files}}),i("AdministratorMasterCommon",{attrs:{content:"settings",fields:e.fields,label:"name",filter:e.filter,validate:e.validate,items:e.settings,create:"manage",update:"manage",destroy:"delete"},on:{destroyed:e.destroyed}})],1)},n=[],l=(i("c975"),i("ded3")),s=i.n(l),o=i("c22d"),d=i("2f62"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-card",[i("q-card-section",{staticClass:"text-bold bg-grey-2"},[e._v("Uploads")]),i("q-list",[i("q-item",[i("q-item-section",[i("q-input",{attrs:{label:"Name",outlined:"",dense:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),i("q-item-section",[i("q-file",{attrs:{label:"File",outlined:"",dense:""},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),i("q-item-section",{attrs:{side:""}},[i("q-btn",{attrs:{icon:"cloud_upload",color:"warning",loading:e.loading,disable:!e.name||!e.file},on:{click:e.upload_file}})],1)],1),e._l(e.files,(function(t){return i("q-item",{directives:[{name:"show",rawName:"v-show",value:!e.deleted.includes(t.id),expression:"!deleted.includes(file.id)"}],key:"afm-f-s-"+t.id},[i("q-item-section",[i("q-item-label",[e._v(e._s(e.file_name(t)))]),i("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.value))])],1),i("q-item-section",{attrs:{side:""}},[i("q-btn",{attrs:{icon:"clear",color:"negative",flat:"",dense:""},on:{click:function(i){return e.remove_file(t.id)}}})],1)],1)})),i("q-inner-loading",{attrs:{showing:e.loading}})],2)],1)},m=[],c=(i("5319"),{name:"AdministratorFileManage",props:["files"],data(){return{name:"",file:null,loading:!1,deleted:[]}},methods:{file_name({name:e}){return _.replace(e,"_file_","")},upload_file(){this.loading=!0,file_upload(this.name,this.file).then((()=>this.$store.dispatch("server/ping").then(this.done)))},done(){this.loading=!1,this.name="",this.file=null},remove_file(e){this.loading=!0,file_remove(e).then((()=>{this.done(),this.deleted.push(e)}))}}}),f=c,u=i("2877"),p=i("f09f"),g=i("a370"),h=i("1c1c"),v=i("66e5"),b=i("4074"),q=i("27f9"),w=i("7d53"),x=i("9c40"),Q=i("0170"),k=i("74f7"),y=i("eebe"),A=i.n(y),C=Object(u["a"])(f,r,m,!1,null,null,null),M=C.exports;A()(C,"components",{QCard:p["a"],QCardSection:g["a"],QList:h["a"],QItem:v["a"],QItemSection:b["a"],QInput:q["a"],QFile:w["a"],QBtn:x["a"],QItemLabel:Q["a"],QInnerLoading:k["a"]});var F={name:"PageAdministratorMasterSettings",components:{AdministratorFileManage:M,AdministratorMasterCommon:o["a"]},data(){return{fields:{name:"text",value:"textarea"},filter:["name","value"],validate:["name"]}},computed:s()({},Object(d["d"])("settings",{settings:e=>_.filter(e.data,(({name:e})=>0!==e.indexOf("_file_"))),files:e=>_.filter(e.data,(({name:e})=>0===e.indexOf("_file_")))})),methods:{destroyed(e){this.$store.commit("settings/remove",e,{root:!0})}}},I=F,O=i("9989"),$=Object(u["a"])(I,a,n,!1,null,null,null);t["default"]=$.exports;A()($,"components",{QPage:O["a"]})}}]);