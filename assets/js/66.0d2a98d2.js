(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[66],{a56a:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{staticClass:"q-gutter-y-sm",attrs:{padding:""}},[r("ReportDashboardMetricsMain"),e._l(e.reports,(function(t,s){return t.length?r("q-card",{key:e.hKey(s),staticClass:"q-mt-lg",attrs:{flat:"",square:""}},[r("q-card-section",{staticClass:"bg-grey text-bold q-py-xs text-white bg-blue-grey-10"},[e._v(e._s(s))]),r("q-card-section",{staticClass:"row q-col-gutter-xs q-pa-none q-pt-xs"},e._l(t,(function(t){return r("div",{key:e.hKey(s,t),staticClass:"col-xs-6 col-sm-4 col-md-3 col-lg-2 col-xl-1",on:{click:function(r){return e.$router.push({name:t[1]})}}},[r("Jumbotron",{staticClass:"text-center text-white cursor-pointer",attrs:{text:t[0],color:"teal-14"}})],1)})),0)],1):e._e()}))],2)},a=[],l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row q-col-gutter-xs"},[r("div",{staticClass:"col"},[r("DigitMetric",{attrs:{value:e.Tokens.length,bg:"green",text:"white",title:"Sales",icon:"shopping_cart"}})],1),r("div",{staticClass:"col"},[r("DigitMetric",{attrs:{value:e.total_payments,bg:"purple",text:"white",title:"Payments",icon:"account_balance_wallet"}})],1),r("div",{staticClass:"q-mt-md col-12"},[r("q-card",{attrs:{flat:"",square:""}},[r("q-card-section",{staticClass:"bg-grey text-bold q-py-xs text-white bg-blue-grey-10 q-mt-lg"},[e._v("Sales by Type")]),r("q-card-section",{staticClass:"row q-col-gutter-xs q-pa-none q-pt-xs"},e._l(e.sales_by_type,(function(t,s){return r("div",{key:e.hKey("sbt",s),staticClass:"col-xs-6 col-sm-3"},[r("DigitMetric",{attrs:{value:t,bg:e.iconColor_sbt[s][1],text:"white",title:s,icon:e.iconColor_sbt[s][0]}})],1)})),0)],1)],1),r("div",{staticClass:"q-mt-md col-12"},[r("q-card",{attrs:{flat:"",square:""}},[r("q-card-section",{staticClass:"bg-grey text-bold q-py-xs text-white bg-blue-grey-10 q-mt-lg"},[e._v("Payments by Type")]),r("q-card-section",{staticClass:"row q-col-gutter-xs q-pa-none q-pt-xs"},e._l(e.payments_by_type,(function(t,s){return r("div",{key:e.hKey("pbt",s),staticClass:"col-xs-6 col-sm-3"},[r("DigitMetric",{attrs:{value:t,bg:e.iconColor_pyt[s][1],text:"white",title:s,icon:e.iconColor_pyt[s][0]}})],1)})),0)],1)],1)])},i=[],o=r("ded3"),n=r.n(o),m=r("84ba"),y=r("3758"),c=r("b1c1"),u=r("2f62"),p=r("232e"),b={name:"ReportDashboardMetricsMain",components:{DigitMetric:m["a"]},mixins:[y["a"]],data(){return{iconColor_sbt:{Dining:["local_dining","purple"],"Home Delivery":["delivery_dining","amber"],"Take Away":["home","green"],Other:["stream","light-blue"],Sale:["shopping_cart","indigo"],Remote:["online_prediction","brown"]},iconColor_pyt:{Cash:["money","green"],Card:["payment","teal"],Wallet:["account_balance","purple"],Credit:["money_off","red"]}}},computed:n()(n()({},Object(u["d"])({payments:({payments:{data:e}})=>e})),{},{Tokens(){return _.filter(this.tokens_own,(({date:e,progress:t})=>Object(c["o"])(e)&&"Cancelled"!==t))},Payments(){return _(this.payments).filter((({status:e,date:t})=>"Active"===e&&Object(c["o"])(t))).value()},total_payments(){return _.sumBy(this.Payments,(({amount:e})=>_.toNumber(e)))},sales_by_type(){let e=_.zipObject(p["OrderTypes"],Array(p["OrderTypes"].length).fill(0));return _.defaults(_.countBy(this.Tokens,"type"),e)},payments_by_type(){let e=_.zipObject(p["PaymentsTypes"],Array(p["PaymentsTypes"].length).fill(0));return _.forEach(this.Payments,(({type:t,amount:r})=>e[t]+=_.toNumber(r))),e}}),methods:{hKey(e,t){return _.kebabCase(Object(c["e"])(e,t))}}},d=b,g=r("2877"),h=r("f09f"),C=r("a370"),x=r("eebe"),f=r.n(x),v=Object(g["a"])(d,l,i,!1,null,null,null),q=v.exports;f()(v,"components",{QCard:h["a"],QCardSection:C["a"]});var S=r("ec70"),w=r("adfa");const O=[["Daily Token Summary","day_token_summary"],["Sales Summary","day_sale_summary"],["Sales By Type","sales_by_type"],["Sales Summary by Type","sales_summary_by_type"],["Sales Count by Item","sales_count_by_item"],["Item Wise Sales Summary","item_wise_sale_summary"],["Kitchen Stock","kitchen_stock"],["Bill Summary","bill_summary"],["Bill Summary - Tax","bill_summary_tax"],["Bill Summary - Nature","bill_summary_tax_nature"],["Tax Bill Details","tax_bill_detail"],["Payments","payments"],["Payments By Type","payments_by_type"],["Tax Details","tax_details"],["Orders by Waiter","orders_by_waiter"],["User Orders","user_orders"],["Kitchen Processing","kitchen_processing"],["Item Processing","item_processing"],["Chef Performance","chef_performance"],["Orders by Receptionist","orders_by_receptionist"],["Orders by Delivery Boy","orders_by_delivery_boy"],["Bill Summary with Customer","bill_summary_customer"],["Bill Summary - User Type","bill_summary_user_type"],["Bill by User","bill_by_user"],["Delivery Boy Bills","delivery_boy_bills"],["Remote Orders by Customer","remote_orders_by_customer"],["Remote Order Summary by Customer","remote_order_summary_by_customer"],["Day Wise Remote Order Summary","day_wise_remote_order_summary"],["Day Wise Remote Order Delivery","day_wise_remote_order_delivery"],["Remote Order by Item","remote_order_by_item"],["Remote Order Summary by Item","remote_order_summary_by_item"],["Bill Payments","bill_payments"],["Payments by Type","bill_payments_by_type"],["Bill by Customer","bill_by_customer"],["Unpaid Bills","bills_unpaid"],["Unpaid Bills by Customer","bills_unpaid_customer"],["Unpaid Bills by Type","bills_unpaid_type"],["Unpaid User Bills","bills_unpaid_user"],["Group Wise Order Summary","group_wise_order_summary"],["Group Items Order Summary","group_items_order_summary"],["Payment Type Summary","payment_type_summary"],["Customer Payments","customer_payments"],["Customer Payments by Mode","customer_payment_type"]],T={Token:[0,14,19,20,15],Sales:[1,2,3,4,5],Bill:[7,8,9,10,21,22,23,24,33,31,34,35,36,37],Payments:[31,32,40,41,42,34,35,36,37],Remote:[25,26,27,28,29,30],Tax:[8,9,10,13],Kitchen:[6,16],Stock:[6],Item:[4,5,17,39],"Item Group":[38,39],Waiter:[14,15],Chef:[18],Receptionist:[19],"Delivery Boy":[20,24],Customer:[21,33,41,42,25,26,35],Performance:[14,15,16,17,18]},B={KJ30I:[20,24],KK99V:[25,26,27,28,29,30]};var k={name:"PageReportIndex",components:{Jumbotron:S["a"],ReportDashboardMetricsMain:q},created(){this.$store.commit("public",{mode:"report"})},computed:{r_subs(){let e={};return _.forEach(B,((t,r)=>_.forEach(t,(t=>{_.has(e,t)||(e[t]=[]),e[t].push(r)})))),e},reports(){return _(T).mapValues((e=>_.filter(e,(e=>!_.has(this.r_subs,e)||_.every(_.get(this.r_subs,e),(e=>"No"!==_.get(w["FEATURES"],e))))))).mapValues((e=>_.map(e,(e=>_.get(O,e))))).value()}},methods:{hKey(e,t){return t?Object(c["e"])("rpt","section",e,t):Object(c["e"])("rpt","card",e)}}},P=k,D=r("9989"),R=Object(g["a"])(P,s,a,!1,null,null,null);t["default"]=R.exports;f()(R,"components",{QPage:D["a"],QCard:h["a"],QCardSection:C["a"]})}}]);