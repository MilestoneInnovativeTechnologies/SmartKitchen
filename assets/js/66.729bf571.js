(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[66],{a56a:function(e,t,r){"use strict";r.r(t);r("14d9");var s=function(){var e=this,t=e._self._c;return t("q-page",{staticClass:"q-gutter-y-sm",attrs:{padding:""}},[t("ReportDashboardMetricsMain"),e._l(e.reports,(function(r,s){return r.length?t("q-card",{key:e.hKey(s),staticClass:"q-mt-lg",attrs:{flat:"",square:""}},[t("q-card-section",{staticClass:"bg-grey text-bold q-py-xs text-white bg-blue-grey-10"},[e._v(e._s(s))]),t("q-card-section",{staticClass:"row q-col-gutter-xs q-pa-none q-pt-xs"},e._l(r,(function(r){return t("div",{key:e.hKey(s,r),staticClass:"col-xs-6 col-sm-4 col-md-3 col-lg-2 col-xl-1",on:{click:function(t){return e.$router.push({name:r[1]})}}},[t("Jumbotron",{staticClass:"text-center text-white cursor-pointer",attrs:{text:r[0],color:"teal-14"}})],1)})),0)],1):e._e()}))],2)},a=[],i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col"},[t("DigitMetric",{attrs:{value:e.Tokens.length,bg:"green",text:"white",title:"Sales",icon:"shopping_cart"}})],1),t("div",{staticClass:"col"},[t("DigitMetric",{attrs:{value:e.total_payments,bg:"purple",text:"white",title:"Payments",icon:"account_balance_wallet"}})],1),t("div",{staticClass:"q-mt-md col-12"},[t("q-card",{attrs:{flat:"",square:""}},[t("q-card-section",{staticClass:"bg-grey text-bold q-py-xs text-white bg-blue-grey-10 q-mt-lg"},[e._v("Sales by Type")]),t("q-card-section",{staticClass:"row q-col-gutter-xs q-pa-none q-pt-xs"},e._l(e.sales_by_type,(function(r,s){return t("div",{key:e.hKey("sbt",s),staticClass:"col-xs-6 col-sm-3"},[t("DigitMetric",{attrs:{value:r,bg:e.iconColor_sbt[s][1],text:"white",title:s,icon:e.iconColor_sbt[s][0]}})],1)})),0)],1)],1),t("div",{staticClass:"q-mt-md col-12"},[t("q-card",{attrs:{flat:"",square:""}},[t("q-card-section",{staticClass:"bg-grey text-bold q-py-xs text-white bg-blue-grey-10 q-mt-lg"},[e._v("Payments by Type")]),t("q-card-section",{staticClass:"row q-col-gutter-xs q-pa-none q-pt-xs"},e._l(e.payments_by_type,(function(r,s){return t("div",{key:e.hKey("pbt",s),staticClass:"col-xs-6 col-sm-3"},[t("DigitMetric",{attrs:{value:r,bg:e.iconColor_pyt[s][1],text:"white",title:s,icon:e.iconColor_pyt[s][0]}})],1)})),0)],1)],1)])},l=[],o=r("84ba"),n=r("3758"),m=r("b1c1"),y=r("2f62"),c=r("232e"),u={name:"ReportDashboardMetricsMain",components:{DigitMetric:o["a"]},mixins:[n["a"]],data(){return{iconColor_sbt:{Dining:["local_dining","purple"],"Home Delivery":["delivery_dining","amber"],"Take Away":["home","green"],Other:["stream","light-blue"],Sale:["shopping_cart","indigo"],Remote:["online_prediction","brown"]},iconColor_pyt:{Cash:["money","green"],Card:["payment","teal"],Wallet:["account_balance","purple"],Credit:["money_off","red"]}}},computed:{...Object(y["d"])({payments:({payments:{data:e}})=>e}),Tokens(){return _.filter(this.tokens_own,(({date:e,progress:t})=>Object(m["o"])(e)&&"Cancelled"!==t))},Payments(){return _(this.payments).filter((({status:e,date:t})=>"Active"===e&&Object(m["o"])(t))).value()},total_payments(){return _.sumBy(this.Payments,(({amount:e})=>_.toNumber(e)))},sales_by_type(){let e=_.zipObject(c["OrderTypes"],Array(c["OrderTypes"].length).fill(0));return _.defaults(_.countBy(this.Tokens,"type"),e)},payments_by_type(){let e=_.zipObject(c["PaymentsTypes"],Array(c["PaymentsTypes"].length).fill(0));return _.forEach(this.Payments,(({type:t,amount:r})=>e[t]+=_.toNumber(r))),e}},methods:{hKey(e,t){return _.kebabCase(Object(m["e"])(e,t))}}},p=u,b=r("2877"),d=r("f09f"),g=r("a370"),h=r("eebe"),C=r.n(h),x=Object(b["a"])(p,i,l,!1,null,null,null),f=x.exports;C()(x,"components",{QCard:d["a"],QCardSection:g["a"]});var v=r("ec70"),q=r("adfa");const S=[["Daily Token Summary","day_token_summary"],["Sales Summary","day_sale_summary"],["Sales By Type","sales_by_type"],["Sales Summary by Type","sales_summary_by_type"],["Sales Count by Item","sales_count_by_item"],["Item Wise Sales Summary","item_wise_sale_summary"],["Kitchen Stock","kitchen_stock"],["Bill Summary","bill_summary"],["Bill Summary - Tax","bill_summary_tax"],["Bill Summary - Nature","bill_summary_tax_nature"],["Tax Bill Details","tax_bill_detail"],["Payments","payments"],["Payments By Type","payments_by_type"],["Tax Details","tax_details"],["Orders by Waiter","orders_by_waiter"],["User Orders","user_orders"],["Kitchen Processing","kitchen_processing"],["Item Processing","item_processing"],["Chef Performance","chef_performance"],["Orders by Receptionist","orders_by_receptionist"],["Orders by Delivery Boy","orders_by_delivery_boy"],["Bill Summary with Customer","bill_summary_customer"],["Bill Summary - User Type","bill_summary_user_type"],["Bill by User","bill_by_user"],["Delivery Boy Bills","delivery_boy_bills"],["Remote Orders by Customer","remote_orders_by_customer"],["Remote Order Summary by Customer","remote_order_summary_by_customer"],["Day Wise Remote Order Summary","day_wise_remote_order_summary"],["Day Wise Remote Order Delivery","day_wise_remote_order_delivery"],["Remote Order by Item","remote_order_by_item"],["Remote Order Summary by Item","remote_order_summary_by_item"],["Bill Payments","bill_payments"],["Payments by Type","bill_payments_by_type"],["Bill by Customer","bill_by_customer"],["Unpaid Bills","bills_unpaid"],["Unpaid Bills by Customer","bills_unpaid_customer"],["Unpaid Bills by Type","bills_unpaid_type"],["Unpaid User Bills","bills_unpaid_user"],["Group Wise Order Summary","group_wise_order_summary"],["Group Items Order Summary","group_items_order_summary"],["Payment Type Summary","payment_type_summary"],["Customer Payments","customer_payments"],["Customer Payments by Mode","customer_payment_type"]],w={Token:[0,14,19,20,15],Sales:[1,2,3,4,5],Bill:[7,8,9,10,21,22,23,24,33,31,34,35,36,37],Payments:[31,32,40,41,42,34,35,36,37],Remote:[25,26,27,28,29,30],Tax:[8,9,10,13],Kitchen:[6,16],Stock:[6],Item:[4,5,17,39],"Item Group":[38,39],Waiter:[14,15],Chef:[18],Receptionist:[19],"Delivery Boy":[20,24],Customer:[21,33,41,42,25,26,35],Performance:[14,15,16,17,18]},O={KJ30I:[20,24],KK99V:[25,26,27,28,29,30]};var T={name:"PageReportIndex",components:{Jumbotron:v["a"],ReportDashboardMetricsMain:f},created(){this.$store.commit("public",{mode:"report"})},computed:{r_subs(){let e={};return _.forEach(O,((t,r)=>_.forEach(t,(t=>{_.has(e,t)||(e[t]=[]),e[t].push(r)})))),e},reports(){return _(w).mapValues((e=>_.filter(e,(e=>!_.has(this.r_subs,e)||_.every(_.get(this.r_subs,e),(e=>"No"!==_.get(q["FEATURES"],e))))))).mapValues((e=>_.map(e,(e=>_.get(S,e))))).value()}},methods:{hKey(e,t){return t?Object(m["e"])("rpt","section",e,t):Object(m["e"])("rpt","card",e)}}},B=T,k=r("9989"),P=Object(b["a"])(B,s,a,!1,null,null,null);t["default"]=P.exports;C()(P,"components",{QPage:k["a"],QCard:d["a"],QCardSection:g["a"]})}}]);