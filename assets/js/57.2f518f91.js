(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[57],{"306c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("ReportCard",{attrs:{title:"Payments",head:t.head,table:t.table,right:["Bill Amount","Paid"],foot:t.foot,index:""}})],1)},r=[],n=a("8f5b"),l=a("b1c1"),o=a("8808"),i={name:"PageReportPayments",components:{ReportCard:n["a"]},computed:{range(){return Object(l["s"])(this.$store.state.public.range)},head(){return _.zipObject(["Report","Start Date","End Date"],["Payments",Object(l["u"])("ddd DD/MMM hh:mm",this.range.from),Object(l["u"])("ddd DD/MMM hh:mm",this.range.to)])},bill_amounts(){return _(this.$store.state.bills.data).filter((({progress:t})=>"Cancelled"!==t)).keyBy("id").mapValues((t=>Object(o["a"])(t))).value()},table(){return _(this.$store.state.payments.data).filter((({date:t,status:e})=>"Active"===e&&Object(l["f"])(t,this.range.from,this.range.to))).map((({date:t,bill:e,type:a,amount:s})=>_.zipObject(["Date","Bill","Bill Amount","Type","Paid"],[Object(l["u"])("Do hh:mm a",t),e,Object(l["r"])(_.get(this.bill_amounts,e,0)),a,Object(l["r"])(s)]))).value()},foot(){let t=_.groupBy(this.table,"Type");return Object.assign({},_(t).mapKeys(((t,e)=>e+" Payments")).mapValues(_.size).value(),_(t).mapKeys(((t,e)=>e+" Amount")).mapValues((t=>Object(l["r"])(_.sumBy(t,(({Paid:t})=>_.toNumber(t)))))).value(),{Total:Object(l["r"])(_.sumBy(this.table,(({Paid:t})=>_.toNumber(t))))})}}},u=i,m=a("2877"),b=a("9989"),p=a("eebe"),c=a.n(p),d=Object(m["a"])(u,s,r,!1,null,null,null);e["default"]=d.exports;c()(d,"components",{QPage:b["a"]})}}]);